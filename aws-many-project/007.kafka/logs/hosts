
2020-01-07 23:18:53,152 p=1061 u=root |  ansible-playbook 2.8.4
  config file = /home/centos/aws-project/007.kafka/ansible.cfg
  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python2.7/site-packages/ansible
  executable location = /bin/ansible-playbook
  python version = 2.7.5 (default, Aug  7 2019, 00:51:29) [GCC 4.8.5 20150623 (Red Hat 4.8.5-39)]
2020-01-07 23:18:53,152 p=1061 u=root |  Using /home/centos/aws-project/007.kafka/ansible.cfg as config file
2020-01-07 23:18:53,160 p=1061 u=root |  host_list declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2020-01-07 23:18:53,160 p=1061 u=root |  script declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2020-01-07 23:18:53,161 p=1061 u=root |  auto declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2020-01-07 23:18:53,164 p=1061 u=root |  Parsed /etc/ansible/hosts inventory source with ini plugin
2020-01-07 23:18:53,166 p=1061 u=root |   [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-01-07 23:18:53,469 p=1061 u=root |  PLAYBOOK: msk.yml ***************************************************************************************************************************************************************************
2020-01-07 23:18:53,469 p=1061 u=root |  1 plays in msk.yml
2020-01-07 23:18:53,498 p=1061 u=root |  PLAY [Create ElastiCache Redis instance] ****************************************************************************************************************************************************
2020-01-07 23:18:53,513 p=1061 u=root |  TASK [Gathering Facts] **********************************************************************************************************************************************************************
2020-01-07 23:18:53,514 p=1061 u=root |  task path: /home/centos/aws-project/007.kafka/msk.yml:2
2020-01-07 23:18:53,527 p=1061 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-07 23:18:53,527 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-07 23:18:53,536 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578410333.53-64423942422058 `" && echo ansible-tmp-1578410333.53-64423942422058="` echo /root/.ansible/tmp/ansible-tmp-1578410333.53-64423942422058 `" ) && sleep 0'
2020-01-07 23:18:53,957 p=1061 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/system/setup.py
2020-01-07 23:18:53,957 p=1061 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-10613gwSbu/tmpvOzLk9 TO /root/.ansible/tmp/ansible-tmp-1578410333.53-64423942422058/AnsiballZ_setup.py
2020-01-07 23:18:53,958 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578410333.53-64423942422058/ /root/.ansible/tmp/ansible-tmp-1578410333.53-64423942422058/AnsiballZ_setup.py && sleep 0'
2020-01-07 23:18:53,967 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578410333.53-64423942422058/AnsiballZ_setup.py && sleep 0'
2020-01-07 23:18:54,518 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578410333.53-64423942422058/ > /dev/null 2>&1 && sleep 0'
2020-01-07 23:18:54,589 p=1061 u=root |  ok: [localhost]
2020-01-07 23:18:54,589 p=1061 u=root |  META: ran handlers
2020-01-07 23:18:54,629 p=1061 u=root |  TASK [msk.kafka : include_tasks] ************************************************************************************************************************************************************
2020-01-07 23:18:54,629 p=1061 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/main.yml:2
2020-01-07 23:18:54,810 p=1061 u=root |  included: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml for localhost
2020-01-07 23:18:54,851 p=1061 u=root |  TASK [msk.kafka : gather information about the rds subnets] *********************************************************************************************************************************
2020-01-07 23:18:54,851 p=1061 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:2
2020-01-07 23:18:54,868 p=1061 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-07 23:18:54,868 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-07 23:18:54,876 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578410334.87-99918218706116 `" && echo ansible-tmp-1578410334.87-99918218706116="` echo /root/.ansible/tmp/ansible-tmp-1578410334.87-99918218706116 `" ) && sleep 0'
2020-01-07 23:18:55,107 p=1061 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_vpc_subnet_facts.py
2020-01-07 23:18:55,107 p=1061 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-10613gwSbu/tmpq77YQP TO /root/.ansible/tmp/ansible-tmp-1578410334.87-99918218706116/AnsiballZ_ec2_vpc_subnet_facts.py
2020-01-07 23:18:55,108 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578410334.87-99918218706116/ /root/.ansible/tmp/ansible-tmp-1578410334.87-99918218706116/AnsiballZ_ec2_vpc_subnet_facts.py && sleep 0'
2020-01-07 23:18:55,117 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578410334.87-99918218706116/AnsiballZ_ec2_vpc_subnet_facts.py && sleep 0'
2020-01-07 23:18:55,837 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578410334.87-99918218706116/ > /dev/null 2>&1 && sleep 0'
2020-01-07 23:18:55,853 p=1061 u=root |  ok: [localhost] => {
    "changed": false, 
    "invocation": {
        "module_args": {
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "debug_botocore_endpoint_logs": false, 
            "ec2_url": null, 
            "filters": {
                "tag:Environment": "M120", 
                "tag:Use": "rds"
            }, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "subnet_ids": [], 
            "validate_certs": true
        }
    }, 
    "subnets": [
        {
            "assign_ipv6_address_on_creation": false, 
            "availability_zone": "ap-southeast-1c", 
            "availability_zone_id": "apse1-az3", 
            "available_ip_address_count": 249, 
            "cidr_block": "10.120.31.0/24", 
            "default_for_az": false, 
            "id": "subnet-0046b05f2d4006487", 
            "ipv6_cidr_block_association_set": [], 
            "map_public_ip_on_launch": false, 
            "owner_id": "838988372941", 
            "state": "available", 
            "subnet_arn": "arn:aws:ec2:ap-southeast-1:838988372941:subnet/subnet-0046b05f2d4006487", 
            "subnet_id": "subnet-0046b05f2d4006487", 
            "tags": {
                "Environment": "M120", 
                "Name": "M120_rds_ap-southeast-1c", 
                "Use": "rds"
            }, 
            "vpc_id": "vpc-025e5ea3271f91941"
        }, 
        {
            "assign_ipv6_address_on_creation": false, 
            "availability_zone": "ap-southeast-1a", 
            "availability_zone_id": "apse1-az1", 
            "available_ip_address_count": 250, 
            "cidr_block": "10.120.32.0/24", 
            "default_for_az": false, 
            "id": "subnet-0f699b5cd13046bcb", 
            "ipv6_cidr_block_association_set": [], 
            "map_public_ip_on_launch": false, 
            "owner_id": "838988372941", 
            "state": "available", 
            "subnet_arn": "arn:aws:ec2:ap-southeast-1:838988372941:subnet/subnet-0f699b5cd13046bcb", 
            "subnet_id": "subnet-0f699b5cd13046bcb", 
            "tags": {
                "Environment": "M120", 
                "Name": "M120_rds_ap-southeast-1a", 
                "Use": "rds"
            }, 
            "vpc_id": "vpc-025e5ea3271f91941"
        }, 
        {
            "assign_ipv6_address_on_creation": false, 
            "availability_zone": "ap-southeast-1b", 
            "availability_zone_id": "apse1-az2", 
            "available_ip_address_count": 242, 
            "cidr_block": "10.120.30.0/24", 
            "default_for_az": false, 
            "id": "subnet-06c1d074817811db3", 
            "ipv6_cidr_block_association_set": [], 
            "map_public_ip_on_launch": false, 
            "owner_id": "838988372941", 
            "state": "available", 
            "subnet_arn": "arn:aws:ec2:ap-southeast-1:838988372941:subnet/subnet-06c1d074817811db3", 
            "subnet_id": "subnet-06c1d074817811db3", 
            "tags": {
                "Environment": "M120", 
                "Name": "M120_rds_ap-southeast-1b", 
                "Use": "rds"
            }, 
            "vpc_id": "vpc-025e5ea3271f91941"
        }
    ]
}
2020-01-07 23:18:55,893 p=1061 u=root |  TASK [msk.kafka : register just the IDs for each of the subnets] ****************************************************************************************************************************
2020-01-07 23:18:55,894 p=1061 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:10
2020-01-07 23:18:55,912 p=1061 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "subnet_msk_ids": [
            "subnet-06c1d074817811db3", 
            "subnet-0046b05f2d4006487", 
            "subnet-0f699b5cd13046bcb"
        ]
    }, 
    "changed": false
}
2020-01-07 23:18:55,952 p=1061 u=root |  TASK [msk.kafka : Declaration ID number] ****************************************************************************************************************************************************
2020-01-07 23:18:55,952 p=1061 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:14
2020-01-07 23:18:55,969 p=1061 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "subnet_msk_ids00": "subnet-06c1d074817811db3"
    }, 
    "changed": false
}
2020-01-07 23:18:56,009 p=1061 u=root |  TASK [msk.kafka : Declaration ID number] ****************************************************************************************************************************************************
2020-01-07 23:18:56,009 p=1061 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:18
2020-01-07 23:18:56,026 p=1061 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "subnet_msk_ids01": "subnet-0046b05f2d4006487"
    }, 
    "changed": false
}
2020-01-07 23:18:56,065 p=1061 u=root |  TASK [msk.kafka : Declaration ID number] ****************************************************************************************************************************************************
2020-01-07 23:18:56,065 p=1061 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:22
2020-01-07 23:18:56,086 p=1061 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "subnet_msk_ids02": "subnet-0f699b5cd13046bcb"
    }, 
    "changed": false
}
2020-01-07 23:18:56,127 p=1061 u=root |  TASK [msk.kafka : Get ALL SG ID] ************************************************************************************************************************************************************
2020-01-07 23:18:56,127 p=1061 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:26
2020-01-07 23:18:56,145 p=1061 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-07 23:18:56,145 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-07 23:18:56,154 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578410336.14-221596884854030 `" && echo ansible-tmp-1578410336.14-221596884854030="` echo /root/.ansible/tmp/ansible-tmp-1578410336.14-221596884854030 `" ) && sleep 0'
2020-01-07 23:18:56,381 p=1061 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_group_facts.py
2020-01-07 23:18:56,382 p=1061 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-10613gwSbu/tmpXKRUZv TO /root/.ansible/tmp/ansible-tmp-1578410336.14-221596884854030/AnsiballZ_ec2_group_facts.py
2020-01-07 23:18:56,383 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578410336.14-221596884854030/ /root/.ansible/tmp/ansible-tmp-1578410336.14-221596884854030/AnsiballZ_ec2_group_facts.py && sleep 0'
2020-01-07 23:18:56,392 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578410336.14-221596884854030/AnsiballZ_ec2_group_facts.py && sleep 0'
2020-01-07 23:18:57,101 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578410336.14-221596884854030/ > /dev/null 2>&1 && sleep 0'
2020-01-07 23:18:57,115 p=1061 u=root |  ok: [localhost] => {
    "changed": false, 
    "invocation": {
        "module_args": {
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "debug_botocore_endpoint_logs": false, 
            "ec2_url": null, 
            "filters": {
                "group-name": "M120-all"
            }, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "validate_certs": true
        }
    }, 
    "security_groups": [
        {
            "description": "opens all ports to the world", 
            "group_id": "sg-004a004e0482c5105", 
            "group_name": "M120-all", 
            "ip_permissions": [
                {
                    "ip_protocol": "-1", 
                    "ip_ranges": [
                        {
                            "cidr_ip": "10.120.0.0/16", 
                            "description": "private ec2 allow all on ports"
                        }
                    ], 
                    "ipv6_ranges": [], 
                    "prefix_list_ids": [], 
                    "user_id_group_pairs": []
                }
            ], 
            "ip_permissions_egress": [
                {
                    "ip_protocol": "-1", 
                    "ip_ranges": [
                        {
                            "cidr_ip": "0.0.0.0/0"
                        }
                    ], 
                    "ipv6_ranges": [], 
                    "prefix_list_ids": [], 
                    "user_id_group_pairs": []
                }
            ], 
            "owner_id": "838988372941", 
            "tags": {
                "Environment": "M120-all", 
                "Name": "M120-all"
            }, 
            "vpc_id": "vpc-025e5ea3271f91941"
        }
    ]
}
2020-01-07 23:18:57,154 p=1061 u=root |  TASK [msk.kafka : list of all the security group id.] ***************************************************************************************************************************************
2020-01-07 23:18:57,155 p=1061 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:33
2020-01-07 23:18:57,184 p=1061 u=root |  ok: [localhost] => (item={u'ip_permissions': [{u'user_id_group_pairs': [], u'ipv6_ranges': [], u'ip_ranges': [{u'description': u'private ec2 allow all on ports', u'cidr_ip': u'10.120.0.0/16'}], u'ip_protocol': u'-1', u'prefix_list_ids': []}], u'description': u'opens all ports to the world', u'tags': {u'Environment': u'M120-all', u'Name': u'M120-all'}, u'group_name': u'M120-all', u'vpc_id': u'vpc-025e5ea3271f91941', u'group_id': u'sg-004a004e0482c5105', u'ip_permissions_egress': [{u'user_id_group_pairs': [], u'ipv6_ranges': [], u'ip_ranges': [{u'cidr_ip': u'0.0.0.0/0'}], u'ip_protocol': u'-1', u'prefix_list_ids': []}], u'owner_id': u'838988372941'}) => {
    "ansible_facts": {
        "sg_all_id": "sg-004a004e0482c5105"
    }, 
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": {
        "description": "opens all ports to the world", 
        "group_id": "sg-004a004e0482c5105", 
        "group_name": "M120-all", 
        "ip_permissions": [
            {
                "ip_protocol": "-1", 
                "ip_ranges": [
                    {
                        "cidr_ip": "10.120.0.0/16", 
                        "description": "private ec2 allow all on ports"
                    }
                ], 
                "ipv6_ranges": [], 
                "prefix_list_ids": [], 
                "user_id_group_pairs": []
            }
        ], 
        "ip_permissions_egress": [
            {
                "ip_protocol": "-1", 
                "ip_ranges": [
                    {
                        "cidr_ip": "0.0.0.0/0"
                    }
                ], 
                "ipv6_ranges": [], 
                "prefix_list_ids": [], 
                "user_id_group_pairs": []
            }
        ], 
        "owner_id": "838988372941", 
        "tags": {
            "Environment": "M120-all", 
            "Name": "M120-all"
        }, 
        "vpc_id": "vpc-025e5ea3271f91941"
    }
}
2020-01-07 23:18:57,223 p=1061 u=root |  TASK [msk.kafka : include_tasks] ************************************************************************************************************************************************************
2020-01-07 23:18:57,223 p=1061 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/main.yml:3
2020-01-07 23:18:57,281 p=1061 u=root |  included: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml for localhost
2020-01-07 23:18:57,325 p=1061 u=root |  TASK [msk.kafka : delete json file] *********************************************************************************************************************************************************
2020-01-07 23:18:57,325 p=1061 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:2
2020-01-07 23:18:57,340 p=1061 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-07 23:18:57,340 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-07 23:18:57,349 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578410337.34-156849817354953 `" && echo ansible-tmp-1578410337.34-156849817354953="` echo /root/.ansible/tmp/ansible-tmp-1578410337.34-156849817354953 `" ) && sleep 0'
2020-01-07 23:18:57,559 p=1061 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-07 23:18:57,560 p=1061 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-10613gwSbu/tmpPpWMMb TO /root/.ansible/tmp/ansible-tmp-1578410337.34-156849817354953/AnsiballZ_command.py
2020-01-07 23:18:57,560 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578410337.34-156849817354953/ /root/.ansible/tmp/ansible-tmp-1578410337.34-156849817354953/AnsiballZ_command.py && sleep 0'
2020-01-07 23:18:57,569 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578410337.34-156849817354953/AnsiballZ_command.py && sleep 0'
2020-01-07 23:18:57,668 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578410337.34-156849817354953/ > /dev/null 2>&1 && sleep 0'
2020-01-07 23:18:57,680 p=1061 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "rm", 
        "-rf", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:00.002739", 
    "end": "2020-01-07 23:18:57.658518", 
    "invocation": {
        "module_args": {
            "_raw_params": "rm -rf /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-07 23:18:57.655779", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-07 23:18:57,720 p=1061 u=root |  TASK [msk.kafka : Check directory exists or not.] *******************************************************************************************************************************************
2020-01-07 23:18:57,720 p=1061 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:5
2020-01-07 23:18:57,736 p=1061 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-07 23:18:57,736 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-07 23:18:57,745 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578410337.74-217769529025557 `" && echo ansible-tmp-1578410337.74-217769529025557="` echo /root/.ansible/tmp/ansible-tmp-1578410337.74-217769529025557 `" ) && sleep 0'
2020-01-07 23:18:57,958 p=1061 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/files/stat.py
2020-01-07 23:18:57,959 p=1061 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-10613gwSbu/tmp7W7lUR TO /root/.ansible/tmp/ansible-tmp-1578410337.74-217769529025557/AnsiballZ_stat.py
2020-01-07 23:18:57,960 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578410337.74-217769529025557/ /root/.ansible/tmp/ansible-tmp-1578410337.74-217769529025557/AnsiballZ_stat.py && sleep 0'
2020-01-07 23:18:57,969 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578410337.74-217769529025557/AnsiballZ_stat.py && sleep 0'
2020-01-07 23:18:58,068 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578410337.74-217769529025557/ > /dev/null 2>&1 && sleep 0'
2020-01-07 23:18:58,080 p=1061 u=root |  ok: [localhost] => {
    "changed": false, 
    "invocation": {
        "module_args": {
            "checksum_algorithm": "sha1", 
            "follow": false, 
            "get_attributes": true, 
            "get_checksum": true, 
            "get_md5": null, 
            "get_mime": true, 
            "path": "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
        }
    }, 
    "stat": {
        "exists": false
    }
}
2020-01-07 23:18:58,120 p=1061 u=root |  TASK [msk.kafka : copy template file] *******************************************************************************************************************************************************
2020-01-07 23:18:58,120 p=1061 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:9
2020-01-07 23:18:58,140 p=1061 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-07 23:18:58,141 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-07 23:18:58,150 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578410338.14-30055599181252 `" && echo ansible-tmp-1578410338.14-30055599181252="` echo /root/.ansible/tmp/ansible-tmp-1578410338.14-30055599181252 `" ) && sleep 0'
2020-01-07 23:18:58,161 p=1061 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/files/stat.py
2020-01-07 23:18:58,162 p=1061 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-10613gwSbu/tmp6yzojI TO /root/.ansible/tmp/ansible-tmp-1578410338.14-30055599181252/AnsiballZ_stat.py
2020-01-07 23:18:58,163 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578410338.14-30055599181252/ /root/.ansible/tmp/ansible-tmp-1578410338.14-30055599181252/AnsiballZ_stat.py && sleep 0'
2020-01-07 23:18:58,171 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578410338.14-30055599181252/AnsiballZ_stat.py && sleep 0'
2020-01-07 23:18:58,266 p=1061 u=root |  <127.0.0.1> PUT /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json-tempalte TO /root/.ansible/tmp/ansible-tmp-1578410338.14-30055599181252/source
2020-01-07 23:18:58,266 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578410338.14-30055599181252/ /root/.ansible/tmp/ansible-tmp-1578410338.14-30055599181252/source && sleep 0'
2020-01-07 23:18:58,493 p=1061 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/files/copy.py
2020-01-07 23:18:58,493 p=1061 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-10613gwSbu/tmpwxYjfU TO /root/.ansible/tmp/ansible-tmp-1578410338.14-30055599181252/AnsiballZ_copy.py
2020-01-07 23:18:58,494 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578410338.14-30055599181252/ /root/.ansible/tmp/ansible-tmp-1578410338.14-30055599181252/AnsiballZ_copy.py && sleep 0'
2020-01-07 23:18:58,504 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578410338.14-30055599181252/AnsiballZ_copy.py && sleep 0'
2020-01-07 23:18:58,603 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578410338.14-30055599181252/ > /dev/null 2>&1 && sleep 0'
2020-01-07 23:18:58,617 p=1061 u=root |  changed: [localhost] => {
    "changed": true, 
    "checksum": "6a39addd8ee8724136298464e7371ba892fa28ed", 
    "dest": "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
    "diff": [], 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "_original_basename": "brokernodegroupinfo.json-tempalte", 
            "attributes": null, 
            "backup": false, 
            "checksum": "6a39addd8ee8724136298464e7371ba892fa28ed", 
            "content": null, 
            "delimiter": null, 
            "dest": "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "directory_mode": null, 
            "follow": false, 
            "force": true, 
            "group": "root", 
            "local_follow": null, 
            "mode": "0775", 
            "owner": "root", 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "/root/.ansible/tmp/ansible-tmp-1578410338.14-30055599181252/source", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "md5sum": "c144f04a9b2e94d5fe41247ee80cee23", 
    "mode": "0775", 
    "owner": "root", 
    "size": 416, 
    "src": "/root/.ansible/tmp/ansible-tmp-1578410338.14-30055599181252/source", 
    "state": "file", 
    "uid": 0
}
2020-01-07 23:18:58,656 p=1061 u=root |  TASK [msk.kafka : Replace kafka cluster type values] ****************************************************************************************************************************************
2020-01-07 23:18:58,656 p=1061 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:13
2020-01-07 23:18:58,672 p=1061 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-07 23:18:58,672 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-07 23:18:58,680 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578410338.67-63413078829593 `" && echo ansible-tmp-1578410338.67-63413078829593="` echo /root/.ansible/tmp/ansible-tmp-1578410338.67-63413078829593 `" ) && sleep 0'
2020-01-07 23:18:58,691 p=1061 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-07 23:18:58,692 p=1061 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-10613gwSbu/tmpAVg0ca TO /root/.ansible/tmp/ansible-tmp-1578410338.67-63413078829593/AnsiballZ_command.py
2020-01-07 23:18:58,693 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578410338.67-63413078829593/ /root/.ansible/tmp/ansible-tmp-1578410338.67-63413078829593/AnsiballZ_command.py && sleep 0'
2020-01-07 23:18:58,701 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578410338.67-63413078829593/AnsiballZ_command.py && sleep 0'
2020-01-07 23:18:58,802 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578410338.67-63413078829593/ > /dev/null 2>&1 && sleep 0'
2020-01-07 23:18:58,814 p=1061 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "sed", 
        "-i", 
        "s/kafka_cluster_type/kafka.m5.large/g", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:00.003302", 
    "end": "2020-01-07 23:18:58.791435", 
    "invocation": {
        "module_args": {
            "_raw_params": "sed -i \"s/kafka_cluster_type/kafka.m5.large/g\"  /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-07 23:18:58.788133", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-07 23:18:58,854 p=1061 u=root |  TASK [msk.kafka : Replace subnet msk ids00 values] ******************************************************************************************************************************************
2020-01-07 23:18:58,854 p=1061 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:16
2020-01-07 23:18:58,869 p=1061 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-07 23:18:58,870 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-07 23:18:58,879 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578410338.87-151092959943169 `" && echo ansible-tmp-1578410338.87-151092959943169="` echo /root/.ansible/tmp/ansible-tmp-1578410338.87-151092959943169 `" ) && sleep 0'
2020-01-07 23:18:58,892 p=1061 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-07 23:18:58,892 p=1061 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-10613gwSbu/tmph_4Ai6 TO /root/.ansible/tmp/ansible-tmp-1578410338.87-151092959943169/AnsiballZ_command.py
2020-01-07 23:18:58,893 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578410338.87-151092959943169/ /root/.ansible/tmp/ansible-tmp-1578410338.87-151092959943169/AnsiballZ_command.py && sleep 0'
2020-01-07 23:18:58,901 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578410338.87-151092959943169/AnsiballZ_command.py && sleep 0'
2020-01-07 23:18:59,000 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578410338.87-151092959943169/ > /dev/null 2>&1 && sleep 0'
2020-01-07 23:18:59,012 p=1061 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "sed", 
        "-i", 
        "s/subnet_msk_ids00/subnet-06c1d074817811db3/g", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:00.003261", 
    "end": "2020-01-07 23:18:58.989858", 
    "invocation": {
        "module_args": {
            "_raw_params": "sed -i \"s/subnet_msk_ids00/subnet-06c1d074817811db3/g\" /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-07 23:18:58.986597", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-07 23:18:59,052 p=1061 u=root |  TASK [msk.kafka : Replace subnet msk ids01 values] ******************************************************************************************************************************************
2020-01-07 23:18:59,052 p=1061 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:19
2020-01-07 23:18:59,067 p=1061 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-07 23:18:59,067 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-07 23:18:59,076 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578410339.07-269970806866047 `" && echo ansible-tmp-1578410339.07-269970806866047="` echo /root/.ansible/tmp/ansible-tmp-1578410339.07-269970806866047 `" ) && sleep 0'
2020-01-07 23:18:59,088 p=1061 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-07 23:18:59,089 p=1061 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-10613gwSbu/tmpYELTLo TO /root/.ansible/tmp/ansible-tmp-1578410339.07-269970806866047/AnsiballZ_command.py
2020-01-07 23:18:59,089 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578410339.07-269970806866047/ /root/.ansible/tmp/ansible-tmp-1578410339.07-269970806866047/AnsiballZ_command.py && sleep 0'
2020-01-07 23:18:59,098 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578410339.07-269970806866047/AnsiballZ_command.py && sleep 0'
2020-01-07 23:18:59,197 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578410339.07-269970806866047/ > /dev/null 2>&1 && sleep 0'
2020-01-07 23:18:59,210 p=1061 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "sed", 
        "-i", 
        "s/subnet_msk_ids01/subnet-0046b05f2d4006487/g", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:00.003224", 
    "end": "2020-01-07 23:18:59.187770", 
    "invocation": {
        "module_args": {
            "_raw_params": "sed -i \"s/subnet_msk_ids01/subnet-0046b05f2d4006487/g\" /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-07 23:18:59.184546", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-07 23:18:59,250 p=1061 u=root |  TASK [msk.kafka : Replace subnet msk ids02 values] ******************************************************************************************************************************************
2020-01-07 23:18:59,250 p=1061 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:22
2020-01-07 23:18:59,265 p=1061 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-07 23:18:59,265 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-07 23:18:59,274 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578410339.26-87000056703565 `" && echo ansible-tmp-1578410339.26-87000056703565="` echo /root/.ansible/tmp/ansible-tmp-1578410339.26-87000056703565 `" ) && sleep 0'
2020-01-07 23:18:59,285 p=1061 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-07 23:18:59,285 p=1061 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-10613gwSbu/tmplZPbRH TO /root/.ansible/tmp/ansible-tmp-1578410339.26-87000056703565/AnsiballZ_command.py
2020-01-07 23:18:59,286 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578410339.26-87000056703565/ /root/.ansible/tmp/ansible-tmp-1578410339.26-87000056703565/AnsiballZ_command.py && sleep 0'
2020-01-07 23:18:59,295 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578410339.26-87000056703565/AnsiballZ_command.py && sleep 0'
2020-01-07 23:18:59,394 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578410339.26-87000056703565/ > /dev/null 2>&1 && sleep 0'
2020-01-07 23:18:59,407 p=1061 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "sed", 
        "-i", 
        "s/subnet_msk_ids02/subnet-0f699b5cd13046bcb/g", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:00.003209", 
    "end": "2020-01-07 23:18:59.384574", 
    "invocation": {
        "module_args": {
            "_raw_params": "sed -i \"s/subnet_msk_ids02/subnet-0f699b5cd13046bcb/g\" /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-07 23:18:59.381365", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-07 23:18:59,446 p=1061 u=root |  TASK [msk.kafka : Replace kafka cluster type values] ****************************************************************************************************************************************
2020-01-07 23:18:59,446 p=1061 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:25
2020-01-07 23:18:59,462 p=1061 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-07 23:18:59,462 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-07 23:18:59,471 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578410339.46-116416463422429 `" && echo ansible-tmp-1578410339.46-116416463422429="` echo /root/.ansible/tmp/ansible-tmp-1578410339.46-116416463422429 `" ) && sleep 0'
2020-01-07 23:18:59,482 p=1061 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-07 23:18:59,483 p=1061 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-10613gwSbu/tmpPtzzOD TO /root/.ansible/tmp/ansible-tmp-1578410339.46-116416463422429/AnsiballZ_command.py
2020-01-07 23:18:59,484 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578410339.46-116416463422429/ /root/.ansible/tmp/ansible-tmp-1578410339.46-116416463422429/AnsiballZ_command.py && sleep 0'
2020-01-07 23:18:59,492 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578410339.46-116416463422429/AnsiballZ_command.py && sleep 0'
2020-01-07 23:18:59,591 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578410339.46-116416463422429/ > /dev/null 2>&1 && sleep 0'
2020-01-07 23:18:59,603 p=1061 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "sed", 
        "-i", 
        "s/sg_all_id/sg-004a004e0482c5105/g", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:00.003222", 
    "end": "2020-01-07 23:18:59.581356", 
    "invocation": {
        "module_args": {
            "_raw_params": "sed -i \"s/sg_all_id/sg-004a004e0482c5105/g\"  /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-07 23:18:59.578134", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-07 23:18:59,642 p=1061 u=root |  TASK [msk.kafka : Replace kafka cluster type values] ****************************************************************************************************************************************
2020-01-07 23:18:59,642 p=1061 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:28
2020-01-07 23:18:59,657 p=1061 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-07 23:18:59,658 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-07 23:18:59,666 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578410339.66-120925186387872 `" && echo ansible-tmp-1578410339.66-120925186387872="` echo /root/.ansible/tmp/ansible-tmp-1578410339.66-120925186387872 `" ) && sleep 0'
2020-01-07 23:18:59,677 p=1061 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-07 23:18:59,678 p=1061 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-10613gwSbu/tmplE8tUj TO /root/.ansible/tmp/ansible-tmp-1578410339.66-120925186387872/AnsiballZ_command.py
2020-01-07 23:18:59,679 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578410339.66-120925186387872/ /root/.ansible/tmp/ansible-tmp-1578410339.66-120925186387872/AnsiballZ_command.py && sleep 0'
2020-01-07 23:18:59,686 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578410339.66-120925186387872/AnsiballZ_command.py && sleep 0'
2020-01-07 23:18:59,784 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578410339.66-120925186387872/ > /dev/null 2>&1 && sleep 0'
2020-01-07 23:18:59,796 p=1061 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "sed", 
        "-i", 
        "s/kafka_instance_size/100/g", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:00.003160", 
    "end": "2020-01-07 23:18:59.774798", 
    "invocation": {
        "module_args": {
            "_raw_params": "sed -i \"s/kafka_instance_size/100/g\" /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-07 23:18:59.771638", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-07 23:18:59,836 p=1061 u=root |  TASK [msk.kafka : include_tasks] ************************************************************************************************************************************************************
2020-01-07 23:18:59,836 p=1061 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/main.yml:4
2020-01-07 23:18:59,890 p=1061 u=root |  included: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk.yml for localhost
2020-01-07 23:18:59,937 p=1061 u=root |  TASK [msk.kafka : Upgrade AWS elastiCache redis cluster] ************************************************************************************************************************************
2020-01-07 23:18:59,937 p=1061 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk.yml:14
2020-01-07 23:18:59,954 p=1061 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-07 23:18:59,955 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-07 23:18:59,963 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578410339.95-259066166572441 `" && echo ansible-tmp-1578410339.95-259066166572441="` echo /root/.ansible/tmp/ansible-tmp-1578410339.95-259066166572441 `" ) && sleep 0'
2020-01-07 23:18:59,975 p=1061 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-07 23:18:59,975 p=1061 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-10613gwSbu/tmpAltOt8 TO /root/.ansible/tmp/ansible-tmp-1578410339.95-259066166572441/AnsiballZ_command.py
2020-01-07 23:18:59,976 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578410339.95-259066166572441/ /root/.ansible/tmp/ansible-tmp-1578410339.95-259066166572441/AnsiballZ_command.py && sleep 0'
2020-01-07 23:18:59,985 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578410339.95-259066166572441/AnsiballZ_command.py && sleep 0'
2020-01-07 23:19:00,591 p=1061 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578410339.95-259066166572441/ > /dev/null 2>&1 && sleep 0'
2020-01-07 23:19:00,605 p=1061 u=root |  fatal: [localhost]: FAILED! => {
    "changed": true, 
    "cmd": [
        "aws", 
        "kafka", 
        "create-cluster", 
        "--cluster-name", 
        "M120-kafka", 
        "--broker-node-group-info", 
        "file:///home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
        "--kafka-version", 
        "2.2.1", 
        "--number-of-broker-nodes", 
        "3"
    ], 
    "delta": "0:00:00.507658", 
    "end": "2020-01-07 23:19:00.581895", 
    "invocation": {
        "module_args": {
            "_raw_params": "aws kafka create-cluster  --cluster-name \"M120-kafka\"  --broker-node-group-info \"file:///home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json\"  --kafka-version \"2.2.1\"  --number-of-broker-nodes \"3\"\n", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "msg": "non-zero return code", 
    "rc": 255, 
    "start": "2020-01-07 23:19:00.074237", 
    "stderr": "\nParameter validation failed:\nUnknown parameter in BrokerNodeGroupInfo: \"EncryptionInTransit\", must be one of: BrokerAZDistribution, ClientSubnets, InstanceType, SecurityGroups, StorageInfo", 
    "stderr_lines": [
        "", 
        "Parameter validation failed:", 
        "Unknown parameter in BrokerNodeGroupInfo: \"EncryptionInTransit\", must be one of: BrokerAZDistribution, ClientSubnets, InstanceType, SecurityGroups, StorageInfo"
    ], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-07 23:19:00,605 p=1061 u=root |  NO MORE HOSTS LEFT **************************************************************************************************************************************************************************
2020-01-07 23:19:00,605 p=1061 u=root |  NO MORE HOSTS LEFT **************************************************************************************************************************************************************************
2020-01-07 23:19:00,606 p=1061 u=root |  PLAY RECAP **********************************************************************************************************************************************************************************
2020-01-07 23:19:00,606 p=1061 u=root |  localhost                  : ok=20   changed=8    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2020-01-07 23:35:54,452 p=1537 u=root |  ansible-playbook 2.8.4
  config file = /home/centos/aws-project/007.kafka/ansible.cfg
  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python2.7/site-packages/ansible
  executable location = /bin/ansible-playbook
  python version = 2.7.5 (default, Aug  7 2019, 00:51:29) [GCC 4.8.5 20150623 (Red Hat 4.8.5-39)]
2020-01-07 23:35:54,453 p=1537 u=root |  Using /home/centos/aws-project/007.kafka/ansible.cfg as config file
2020-01-07 23:35:54,460 p=1537 u=root |  host_list declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2020-01-07 23:35:54,461 p=1537 u=root |  script declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2020-01-07 23:35:54,461 p=1537 u=root |  auto declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2020-01-07 23:35:54,464 p=1537 u=root |  Parsed /etc/ansible/hosts inventory source with ini plugin
2020-01-07 23:35:54,466 p=1537 u=root |   [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-01-07 23:35:54,694 p=1537 u=root |  ERROR! Syntax Error while loading YAML.
  found unexpected ':'

The error appears to be in '/home/centos/aws-project/007.kafka/msk.yml': line 16, column 227, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

  roles:
    - { role: msk.kafka,kafka_cluster_type: "kafka.m5.large",kafka_version: "2.2.1",kafka_nodes: "3",kafka_instance_size: '100',json_file_dir: "file://{{ project_dir }}/templates/brokernodegroupinfo.json",encryption_file: file://{{ project_dir }}/templates/encryptioninfo.json" }
                                                                                                                                                                                                                                  ^ here
We could be wrong, but this one looks like it might be an issue with
missing quotes. Always quote template expression brackets when they
start a value. For instance:

    with_items:
      - {{ foo }}

Should be written as:

    with_items:
      - "{{ foo }}"

2020-01-07 23:36:19,496 p=1546 u=root |  ansible-playbook 2.8.4
  config file = /home/centos/aws-project/007.kafka/ansible.cfg
  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python2.7/site-packages/ansible
  executable location = /bin/ansible-playbook
  python version = 2.7.5 (default, Aug  7 2019, 00:51:29) [GCC 4.8.5 20150623 (Red Hat 4.8.5-39)]
2020-01-07 23:36:19,497 p=1546 u=root |  Using /home/centos/aws-project/007.kafka/ansible.cfg as config file
2020-01-07 23:36:19,504 p=1546 u=root |  host_list declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2020-01-07 23:36:19,505 p=1546 u=root |  script declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2020-01-07 23:36:19,505 p=1546 u=root |  auto declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2020-01-07 23:36:19,508 p=1546 u=root |  Parsed /etc/ansible/hosts inventory source with ini plugin
2020-01-07 23:36:19,510 p=1546 u=root |   [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-01-07 23:36:19,817 p=1546 u=root |  PLAYBOOK: msk.yml ***************************************************************************************************************************************************************************
2020-01-07 23:36:19,817 p=1546 u=root |  1 plays in msk.yml
2020-01-07 23:36:19,846 p=1546 u=root |  PLAY [Create ElastiCache Redis instance] ****************************************************************************************************************************************************
2020-01-07 23:36:19,862 p=1546 u=root |  TASK [Gathering Facts] **********************************************************************************************************************************************************************
2020-01-07 23:36:19,862 p=1546 u=root |  task path: /home/centos/aws-project/007.kafka/msk.yml:2
2020-01-07 23:36:19,875 p=1546 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-07 23:36:19,876 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-07 23:36:19,884 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578411379.88-95064652246563 `" && echo ansible-tmp-1578411379.88-95064652246563="` echo /root/.ansible/tmp/ansible-tmp-1578411379.88-95064652246563 `" ) && sleep 0'
2020-01-07 23:36:20,305 p=1546 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/system/setup.py
2020-01-07 23:36:20,306 p=1546 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-15464xlZFG/tmpRtJ4B0 TO /root/.ansible/tmp/ansible-tmp-1578411379.88-95064652246563/AnsiballZ_setup.py
2020-01-07 23:36:20,307 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578411379.88-95064652246563/ /root/.ansible/tmp/ansible-tmp-1578411379.88-95064652246563/AnsiballZ_setup.py && sleep 0'
2020-01-07 23:36:20,316 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578411379.88-95064652246563/AnsiballZ_setup.py && sleep 0'
2020-01-07 23:36:20,817 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578411379.88-95064652246563/ > /dev/null 2>&1 && sleep 0'
2020-01-07 23:36:20,889 p=1546 u=root |  ok: [localhost]
2020-01-07 23:36:20,890 p=1546 u=root |  META: ran handlers
2020-01-07 23:36:20,929 p=1546 u=root |  TASK [msk.kafka : include_tasks] ************************************************************************************************************************************************************
2020-01-07 23:36:20,929 p=1546 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/main.yml:2
2020-01-07 23:36:21,110 p=1546 u=root |  included: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml for localhost
2020-01-07 23:36:21,151 p=1546 u=root |  TASK [msk.kafka : gather information about the rds subnets] *********************************************************************************************************************************
2020-01-07 23:36:21,151 p=1546 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:2
2020-01-07 23:36:21,168 p=1546 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-07 23:36:21,168 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-07 23:36:21,177 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578411381.17-13077930070737 `" && echo ansible-tmp-1578411381.17-13077930070737="` echo /root/.ansible/tmp/ansible-tmp-1578411381.17-13077930070737 `" ) && sleep 0'
2020-01-07 23:36:21,412 p=1546 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_vpc_subnet_facts.py
2020-01-07 23:36:21,413 p=1546 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-15464xlZFG/tmpQS4rq7 TO /root/.ansible/tmp/ansible-tmp-1578411381.17-13077930070737/AnsiballZ_ec2_vpc_subnet_facts.py
2020-01-07 23:36:21,413 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578411381.17-13077930070737/ /root/.ansible/tmp/ansible-tmp-1578411381.17-13077930070737/AnsiballZ_ec2_vpc_subnet_facts.py && sleep 0'
2020-01-07 23:36:21,423 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578411381.17-13077930070737/AnsiballZ_ec2_vpc_subnet_facts.py && sleep 0'
2020-01-07 23:36:22,155 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578411381.17-13077930070737/ > /dev/null 2>&1 && sleep 0'
2020-01-07 23:36:22,172 p=1546 u=root |  ok: [localhost] => {
    "changed": false, 
    "invocation": {
        "module_args": {
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "debug_botocore_endpoint_logs": false, 
            "ec2_url": null, 
            "filters": {
                "tag:Environment": "M120", 
                "tag:Use": "rds"
            }, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "subnet_ids": [], 
            "validate_certs": true
        }
    }, 
    "subnets": [
        {
            "assign_ipv6_address_on_creation": false, 
            "availability_zone": "ap-southeast-1c", 
            "availability_zone_id": "apse1-az3", 
            "available_ip_address_count": 249, 
            "cidr_block": "10.120.31.0/24", 
            "default_for_az": false, 
            "id": "subnet-0046b05f2d4006487", 
            "ipv6_cidr_block_association_set": [], 
            "map_public_ip_on_launch": false, 
            "owner_id": "838988372941", 
            "state": "available", 
            "subnet_arn": "arn:aws:ec2:ap-southeast-1:838988372941:subnet/subnet-0046b05f2d4006487", 
            "subnet_id": "subnet-0046b05f2d4006487", 
            "tags": {
                "Environment": "M120", 
                "Name": "M120_rds_ap-southeast-1c", 
                "Use": "rds"
            }, 
            "vpc_id": "vpc-025e5ea3271f91941"
        }, 
        {
            "assign_ipv6_address_on_creation": false, 
            "availability_zone": "ap-southeast-1a", 
            "availability_zone_id": "apse1-az1", 
            "available_ip_address_count": 250, 
            "cidr_block": "10.120.32.0/24", 
            "default_for_az": false, 
            "id": "subnet-0f699b5cd13046bcb", 
            "ipv6_cidr_block_association_set": [], 
            "map_public_ip_on_launch": false, 
            "owner_id": "838988372941", 
            "state": "available", 
            "subnet_arn": "arn:aws:ec2:ap-southeast-1:838988372941:subnet/subnet-0f699b5cd13046bcb", 
            "subnet_id": "subnet-0f699b5cd13046bcb", 
            "tags": {
                "Environment": "M120", 
                "Name": "M120_rds_ap-southeast-1a", 
                "Use": "rds"
            }, 
            "vpc_id": "vpc-025e5ea3271f91941"
        }, 
        {
            "assign_ipv6_address_on_creation": false, 
            "availability_zone": "ap-southeast-1b", 
            "availability_zone_id": "apse1-az2", 
            "available_ip_address_count": 242, 
            "cidr_block": "10.120.30.0/24", 
            "default_for_az": false, 
            "id": "subnet-06c1d074817811db3", 
            "ipv6_cidr_block_association_set": [], 
            "map_public_ip_on_launch": false, 
            "owner_id": "838988372941", 
            "state": "available", 
            "subnet_arn": "arn:aws:ec2:ap-southeast-1:838988372941:subnet/subnet-06c1d074817811db3", 
            "subnet_id": "subnet-06c1d074817811db3", 
            "tags": {
                "Environment": "M120", 
                "Name": "M120_rds_ap-southeast-1b", 
                "Use": "rds"
            }, 
            "vpc_id": "vpc-025e5ea3271f91941"
        }
    ]
}
2020-01-07 23:36:22,211 p=1546 u=root |  TASK [msk.kafka : register just the IDs for each of the subnets] ****************************************************************************************************************************
2020-01-07 23:36:22,212 p=1546 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:10
2020-01-07 23:36:22,230 p=1546 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "subnet_msk_ids": [
            "subnet-06c1d074817811db3", 
            "subnet-0046b05f2d4006487", 
            "subnet-0f699b5cd13046bcb"
        ]
    }, 
    "changed": false
}
2020-01-07 23:36:22,270 p=1546 u=root |  TASK [msk.kafka : Declaration ID number] ****************************************************************************************************************************************************
2020-01-07 23:36:22,270 p=1546 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:14
2020-01-07 23:36:22,287 p=1546 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "subnet_msk_ids00": "subnet-06c1d074817811db3"
    }, 
    "changed": false
}
2020-01-07 23:36:22,326 p=1546 u=root |  TASK [msk.kafka : Declaration ID number] ****************************************************************************************************************************************************
2020-01-07 23:36:22,326 p=1546 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:18
2020-01-07 23:36:22,343 p=1546 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "subnet_msk_ids01": "subnet-0046b05f2d4006487"
    }, 
    "changed": false
}
2020-01-07 23:36:22,383 p=1546 u=root |  TASK [msk.kafka : Declaration ID number] ****************************************************************************************************************************************************
2020-01-07 23:36:22,383 p=1546 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:22
2020-01-07 23:36:22,403 p=1546 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "subnet_msk_ids02": "subnet-0f699b5cd13046bcb"
    }, 
    "changed": false
}
2020-01-07 23:36:22,445 p=1546 u=root |  TASK [msk.kafka : Get ALL SG ID] ************************************************************************************************************************************************************
2020-01-07 23:36:22,445 p=1546 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:26
2020-01-07 23:36:22,463 p=1546 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-07 23:36:22,463 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-07 23:36:22,472 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578411382.46-254779493145862 `" && echo ansible-tmp-1578411382.46-254779493145862="` echo /root/.ansible/tmp/ansible-tmp-1578411382.46-254779493145862 `" ) && sleep 0'
2020-01-07 23:36:22,698 p=1546 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_group_facts.py
2020-01-07 23:36:22,699 p=1546 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-15464xlZFG/tmpUXpvNC TO /root/.ansible/tmp/ansible-tmp-1578411382.46-254779493145862/AnsiballZ_ec2_group_facts.py
2020-01-07 23:36:22,699 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578411382.46-254779493145862/ /root/.ansible/tmp/ansible-tmp-1578411382.46-254779493145862/AnsiballZ_ec2_group_facts.py && sleep 0'
2020-01-07 23:36:22,708 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578411382.46-254779493145862/AnsiballZ_ec2_group_facts.py && sleep 0'
2020-01-07 23:36:23,413 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578411382.46-254779493145862/ > /dev/null 2>&1 && sleep 0'
2020-01-07 23:36:23,427 p=1546 u=root |  ok: [localhost] => {
    "changed": false, 
    "invocation": {
        "module_args": {
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "debug_botocore_endpoint_logs": false, 
            "ec2_url": null, 
            "filters": {
                "group-name": "M120-all"
            }, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "validate_certs": true
        }
    }, 
    "security_groups": [
        {
            "description": "opens all ports to the world", 
            "group_id": "sg-004a004e0482c5105", 
            "group_name": "M120-all", 
            "ip_permissions": [
                {
                    "ip_protocol": "-1", 
                    "ip_ranges": [
                        {
                            "cidr_ip": "10.120.0.0/16", 
                            "description": "private ec2 allow all on ports"
                        }
                    ], 
                    "ipv6_ranges": [], 
                    "prefix_list_ids": [], 
                    "user_id_group_pairs": []
                }
            ], 
            "ip_permissions_egress": [
                {
                    "ip_protocol": "-1", 
                    "ip_ranges": [
                        {
                            "cidr_ip": "0.0.0.0/0"
                        }
                    ], 
                    "ipv6_ranges": [], 
                    "prefix_list_ids": [], 
                    "user_id_group_pairs": []
                }
            ], 
            "owner_id": "838988372941", 
            "tags": {
                "Environment": "M120-all", 
                "Name": "M120-all"
            }, 
            "vpc_id": "vpc-025e5ea3271f91941"
        }
    ]
}
2020-01-07 23:36:23,466 p=1546 u=root |  TASK [msk.kafka : list of all the security group id.] ***************************************************************************************************************************************
2020-01-07 23:36:23,466 p=1546 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:33
2020-01-07 23:36:23,495 p=1546 u=root |  ok: [localhost] => (item={u'ip_permissions': [{u'user_id_group_pairs': [], u'ipv6_ranges': [], u'ip_ranges': [{u'description': u'private ec2 allow all on ports', u'cidr_ip': u'10.120.0.0/16'}], u'ip_protocol': u'-1', u'prefix_list_ids': []}], u'description': u'opens all ports to the world', u'tags': {u'Environment': u'M120-all', u'Name': u'M120-all'}, u'group_name': u'M120-all', u'vpc_id': u'vpc-025e5ea3271f91941', u'group_id': u'sg-004a004e0482c5105', u'ip_permissions_egress': [{u'user_id_group_pairs': [], u'ipv6_ranges': [], u'ip_ranges': [{u'cidr_ip': u'0.0.0.0/0'}], u'ip_protocol': u'-1', u'prefix_list_ids': []}], u'owner_id': u'838988372941'}) => {
    "ansible_facts": {
        "sg_all_id": "sg-004a004e0482c5105"
    }, 
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": {
        "description": "opens all ports to the world", 
        "group_id": "sg-004a004e0482c5105", 
        "group_name": "M120-all", 
        "ip_permissions": [
            {
                "ip_protocol": "-1", 
                "ip_ranges": [
                    {
                        "cidr_ip": "10.120.0.0/16", 
                        "description": "private ec2 allow all on ports"
                    }
                ], 
                "ipv6_ranges": [], 
                "prefix_list_ids": [], 
                "user_id_group_pairs": []
            }
        ], 
        "ip_permissions_egress": [
            {
                "ip_protocol": "-1", 
                "ip_ranges": [
                    {
                        "cidr_ip": "0.0.0.0/0"
                    }
                ], 
                "ipv6_ranges": [], 
                "prefix_list_ids": [], 
                "user_id_group_pairs": []
            }
        ], 
        "owner_id": "838988372941", 
        "tags": {
            "Environment": "M120-all", 
            "Name": "M120-all"
        }, 
        "vpc_id": "vpc-025e5ea3271f91941"
    }
}
2020-01-07 23:36:23,534 p=1546 u=root |  TASK [msk.kafka : include_tasks] ************************************************************************************************************************************************************
2020-01-07 23:36:23,534 p=1546 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/main.yml:3
2020-01-07 23:36:23,593 p=1546 u=root |  included: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml for localhost
2020-01-07 23:36:23,637 p=1546 u=root |  TASK [msk.kafka : delete json file] *********************************************************************************************************************************************************
2020-01-07 23:36:23,637 p=1546 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:2
2020-01-07 23:36:23,652 p=1546 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-07 23:36:23,652 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-07 23:36:23,661 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578411383.65-45933808611752 `" && echo ansible-tmp-1578411383.65-45933808611752="` echo /root/.ansible/tmp/ansible-tmp-1578411383.65-45933808611752 `" ) && sleep 0'
2020-01-07 23:36:23,874 p=1546 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-07 23:36:23,875 p=1546 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-15464xlZFG/tmp0kle0a TO /root/.ansible/tmp/ansible-tmp-1578411383.65-45933808611752/AnsiballZ_command.py
2020-01-07 23:36:23,876 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578411383.65-45933808611752/ /root/.ansible/tmp/ansible-tmp-1578411383.65-45933808611752/AnsiballZ_command.py && sleep 0'
2020-01-07 23:36:23,885 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578411383.65-45933808611752/AnsiballZ_command.py && sleep 0'
2020-01-07 23:36:23,987 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578411383.65-45933808611752/ > /dev/null 2>&1 && sleep 0'
2020-01-07 23:36:23,999 p=1546 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "rm", 
        "-rf", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:00.002764", 
    "end": "2020-01-07 23:36:23.976629", 
    "invocation": {
        "module_args": {
            "_raw_params": "rm -rf /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-07 23:36:23.973865", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-07 23:36:24,039 p=1546 u=root |  TASK [msk.kafka : Check directory exists or not.] *******************************************************************************************************************************************
2020-01-07 23:36:24,039 p=1546 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:5
2020-01-07 23:36:24,055 p=1546 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-07 23:36:24,055 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-07 23:36:24,064 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578411384.05-94817437244742 `" && echo ansible-tmp-1578411384.05-94817437244742="` echo /root/.ansible/tmp/ansible-tmp-1578411384.05-94817437244742 `" ) && sleep 0'
2020-01-07 23:36:24,273 p=1546 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/files/stat.py
2020-01-07 23:36:24,273 p=1546 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-15464xlZFG/tmpajMwGe TO /root/.ansible/tmp/ansible-tmp-1578411384.05-94817437244742/AnsiballZ_stat.py
2020-01-07 23:36:24,274 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578411384.05-94817437244742/ /root/.ansible/tmp/ansible-tmp-1578411384.05-94817437244742/AnsiballZ_stat.py && sleep 0'
2020-01-07 23:36:24,283 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578411384.05-94817437244742/AnsiballZ_stat.py && sleep 0'
2020-01-07 23:36:24,378 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578411384.05-94817437244742/ > /dev/null 2>&1 && sleep 0'
2020-01-07 23:36:24,391 p=1546 u=root |  ok: [localhost] => {
    "changed": false, 
    "invocation": {
        "module_args": {
            "checksum_algorithm": "sha1", 
            "follow": false, 
            "get_attributes": true, 
            "get_checksum": true, 
            "get_md5": null, 
            "get_mime": true, 
            "path": "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
        }
    }, 
    "stat": {
        "exists": false
    }
}
2020-01-07 23:36:24,431 p=1546 u=root |  TASK [msk.kafka : copy template file] *******************************************************************************************************************************************************
2020-01-07 23:36:24,431 p=1546 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:9
2020-01-07 23:36:24,450 p=1546 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-07 23:36:24,451 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-07 23:36:24,459 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578411384.45-77569956310349 `" && echo ansible-tmp-1578411384.45-77569956310349="` echo /root/.ansible/tmp/ansible-tmp-1578411384.45-77569956310349 `" ) && sleep 0'
2020-01-07 23:36:24,471 p=1546 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/files/stat.py
2020-01-07 23:36:24,472 p=1546 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-15464xlZFG/tmpus2sRN TO /root/.ansible/tmp/ansible-tmp-1578411384.45-77569956310349/AnsiballZ_stat.py
2020-01-07 23:36:24,472 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578411384.45-77569956310349/ /root/.ansible/tmp/ansible-tmp-1578411384.45-77569956310349/AnsiballZ_stat.py && sleep 0'
2020-01-07 23:36:24,481 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578411384.45-77569956310349/AnsiballZ_stat.py && sleep 0'
2020-01-07 23:36:24,576 p=1546 u=root |  <127.0.0.1> PUT /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json-tempalte TO /root/.ansible/tmp/ansible-tmp-1578411384.45-77569956310349/source
2020-01-07 23:36:24,577 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578411384.45-77569956310349/ /root/.ansible/tmp/ansible-tmp-1578411384.45-77569956310349/source && sleep 0'
2020-01-07 23:36:24,800 p=1546 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/files/copy.py
2020-01-07 23:36:24,801 p=1546 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-15464xlZFG/tmpj8w9fA TO /root/.ansible/tmp/ansible-tmp-1578411384.45-77569956310349/AnsiballZ_copy.py
2020-01-07 23:36:24,801 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578411384.45-77569956310349/ /root/.ansible/tmp/ansible-tmp-1578411384.45-77569956310349/AnsiballZ_copy.py && sleep 0'
2020-01-07 23:36:24,811 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578411384.45-77569956310349/AnsiballZ_copy.py && sleep 0'
2020-01-07 23:36:24,910 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578411384.45-77569956310349/ > /dev/null 2>&1 && sleep 0'
2020-01-07 23:36:24,924 p=1546 u=root |  changed: [localhost] => {
    "changed": true, 
    "checksum": "af7824e4f0ac91a5fad3b6c39bafd7df4082ab4f", 
    "dest": "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
    "diff": [], 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "_original_basename": "brokernodegroupinfo.json-tempalte", 
            "attributes": null, 
            "backup": false, 
            "checksum": "af7824e4f0ac91a5fad3b6c39bafd7df4082ab4f", 
            "content": null, 
            "delimiter": null, 
            "dest": "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "directory_mode": null, 
            "follow": false, 
            "force": true, 
            "group": "root", 
            "local_follow": null, 
            "mode": "0775", 
            "owner": "root", 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "/root/.ansible/tmp/ansible-tmp-1578411384.45-77569956310349/source", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "md5sum": "e1e39ebcb39175b6ad8105ace396c003", 
    "mode": "0775", 
    "owner": "root", 
    "size": 332, 
    "src": "/root/.ansible/tmp/ansible-tmp-1578411384.45-77569956310349/source", 
    "state": "file", 
    "uid": 0
}
2020-01-07 23:36:24,962 p=1546 u=root |  TASK [msk.kafka : Replace kafka cluster type values] ****************************************************************************************************************************************
2020-01-07 23:36:24,962 p=1546 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:13
2020-01-07 23:36:24,977 p=1546 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-07 23:36:24,978 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-07 23:36:24,987 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578411384.98-261554320840236 `" && echo ansible-tmp-1578411384.98-261554320840236="` echo /root/.ansible/tmp/ansible-tmp-1578411384.98-261554320840236 `" ) && sleep 0'
2020-01-07 23:36:24,998 p=1546 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-07 23:36:24,998 p=1546 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-15464xlZFG/tmpbiE6ne TO /root/.ansible/tmp/ansible-tmp-1578411384.98-261554320840236/AnsiballZ_command.py
2020-01-07 23:36:24,999 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578411384.98-261554320840236/ /root/.ansible/tmp/ansible-tmp-1578411384.98-261554320840236/AnsiballZ_command.py && sleep 0'
2020-01-07 23:36:25,007 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578411384.98-261554320840236/AnsiballZ_command.py && sleep 0'
2020-01-07 23:36:25,109 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578411384.98-261554320840236/ > /dev/null 2>&1 && sleep 0'
2020-01-07 23:36:25,121 p=1546 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "sed", 
        "-i", 
        "s/kafka_cluster_type/kafka.m5.large/g", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:00.003240", 
    "end": "2020-01-07 23:36:25.098777", 
    "invocation": {
        "module_args": {
            "_raw_params": "sed -i \"s/kafka_cluster_type/kafka.m5.large/g\"  /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-07 23:36:25.095537", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-07 23:36:25,161 p=1546 u=root |  TASK [msk.kafka : Replace subnet msk ids00 values] ******************************************************************************************************************************************
2020-01-07 23:36:25,161 p=1546 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:16
2020-01-07 23:36:25,176 p=1546 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-07 23:36:25,176 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-07 23:36:25,185 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578411385.18-76581589643046 `" && echo ansible-tmp-1578411385.18-76581589643046="` echo /root/.ansible/tmp/ansible-tmp-1578411385.18-76581589643046 `" ) && sleep 0'
2020-01-07 23:36:25,198 p=1546 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-07 23:36:25,198 p=1546 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-15464xlZFG/tmpieM_Qj TO /root/.ansible/tmp/ansible-tmp-1578411385.18-76581589643046/AnsiballZ_command.py
2020-01-07 23:36:25,199 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578411385.18-76581589643046/ /root/.ansible/tmp/ansible-tmp-1578411385.18-76581589643046/AnsiballZ_command.py && sleep 0'
2020-01-07 23:36:25,208 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578411385.18-76581589643046/AnsiballZ_command.py && sleep 0'
2020-01-07 23:36:25,308 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578411385.18-76581589643046/ > /dev/null 2>&1 && sleep 0'
2020-01-07 23:36:25,321 p=1546 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "sed", 
        "-i", 
        "s/subnet_msk_ids00/subnet-06c1d074817811db3/g", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:00.003178", 
    "end": "2020-01-07 23:36:25.298590", 
    "invocation": {
        "module_args": {
            "_raw_params": "sed -i \"s/subnet_msk_ids00/subnet-06c1d074817811db3/g\" /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-07 23:36:25.295412", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-07 23:36:25,360 p=1546 u=root |  TASK [msk.kafka : Replace subnet msk ids01 values] ******************************************************************************************************************************************
2020-01-07 23:36:25,361 p=1546 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:19
2020-01-07 23:36:25,376 p=1546 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-07 23:36:25,376 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-07 23:36:25,385 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578411385.38-155578246091557 `" && echo ansible-tmp-1578411385.38-155578246091557="` echo /root/.ansible/tmp/ansible-tmp-1578411385.38-155578246091557 `" ) && sleep 0'
2020-01-07 23:36:25,397 p=1546 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-07 23:36:25,398 p=1546 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-15464xlZFG/tmpf8FKvv TO /root/.ansible/tmp/ansible-tmp-1578411385.38-155578246091557/AnsiballZ_command.py
2020-01-07 23:36:25,399 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578411385.38-155578246091557/ /root/.ansible/tmp/ansible-tmp-1578411385.38-155578246091557/AnsiballZ_command.py && sleep 0'
2020-01-07 23:36:25,408 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578411385.38-155578246091557/AnsiballZ_command.py && sleep 0'
2020-01-07 23:36:25,510 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578411385.38-155578246091557/ > /dev/null 2>&1 && sleep 0'
2020-01-07 23:36:25,522 p=1546 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "sed", 
        "-i", 
        "s/subnet_msk_ids01/subnet-0046b05f2d4006487/g", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:00.003254", 
    "end": "2020-01-07 23:36:25.500007", 
    "invocation": {
        "module_args": {
            "_raw_params": "sed -i \"s/subnet_msk_ids01/subnet-0046b05f2d4006487/g\" /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-07 23:36:25.496753", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-07 23:36:25,562 p=1546 u=root |  TASK [msk.kafka : Replace subnet msk ids02 values] ******************************************************************************************************************************************
2020-01-07 23:36:25,562 p=1546 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:22
2020-01-07 23:36:25,577 p=1546 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-07 23:36:25,577 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-07 23:36:25,586 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578411385.58-244931005863736 `" && echo ansible-tmp-1578411385.58-244931005863736="` echo /root/.ansible/tmp/ansible-tmp-1578411385.58-244931005863736 `" ) && sleep 0'
2020-01-07 23:36:25,598 p=1546 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-07 23:36:25,598 p=1546 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-15464xlZFG/tmpeiCtBQ TO /root/.ansible/tmp/ansible-tmp-1578411385.58-244931005863736/AnsiballZ_command.py
2020-01-07 23:36:25,599 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578411385.58-244931005863736/ /root/.ansible/tmp/ansible-tmp-1578411385.58-244931005863736/AnsiballZ_command.py && sleep 0'
2020-01-07 23:36:25,608 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578411385.58-244931005863736/AnsiballZ_command.py && sleep 0'
2020-01-07 23:36:25,708 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578411385.58-244931005863736/ > /dev/null 2>&1 && sleep 0'
2020-01-07 23:36:25,720 p=1546 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "sed", 
        "-i", 
        "s/subnet_msk_ids02/subnet-0f699b5cd13046bcb/g", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:00.003309", 
    "end": "2020-01-07 23:36:25.697616", 
    "invocation": {
        "module_args": {
            "_raw_params": "sed -i \"s/subnet_msk_ids02/subnet-0f699b5cd13046bcb/g\" /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-07 23:36:25.694307", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-07 23:36:25,759 p=1546 u=root |  TASK [msk.kafka : Replace kafka cluster type values] ****************************************************************************************************************************************
2020-01-07 23:36:25,760 p=1546 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:25
2020-01-07 23:36:25,775 p=1546 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-07 23:36:25,776 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-07 23:36:25,785 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578411385.78-140854242422353 `" && echo ansible-tmp-1578411385.78-140854242422353="` echo /root/.ansible/tmp/ansible-tmp-1578411385.78-140854242422353 `" ) && sleep 0'
2020-01-07 23:36:25,796 p=1546 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-07 23:36:25,797 p=1546 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-15464xlZFG/tmp1bRn0W TO /root/.ansible/tmp/ansible-tmp-1578411385.78-140854242422353/AnsiballZ_command.py
2020-01-07 23:36:25,798 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578411385.78-140854242422353/ /root/.ansible/tmp/ansible-tmp-1578411385.78-140854242422353/AnsiballZ_command.py && sleep 0'
2020-01-07 23:36:25,807 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578411385.78-140854242422353/AnsiballZ_command.py && sleep 0'
2020-01-07 23:36:25,909 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578411385.78-140854242422353/ > /dev/null 2>&1 && sleep 0'
2020-01-07 23:36:25,921 p=1546 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "sed", 
        "-i", 
        "s/sg_all_id/sg-004a004e0482c5105/g", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:00.003148", 
    "end": "2020-01-07 23:36:25.899160", 
    "invocation": {
        "module_args": {
            "_raw_params": "sed -i \"s/sg_all_id/sg-004a004e0482c5105/g\"  /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-07 23:36:25.896012", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-07 23:36:25,961 p=1546 u=root |  TASK [msk.kafka : Replace kafka cluster type values] ****************************************************************************************************************************************
2020-01-07 23:36:25,961 p=1546 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:28
2020-01-07 23:36:25,976 p=1546 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-07 23:36:25,976 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-07 23:36:25,985 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578411385.98-72158026963711 `" && echo ansible-tmp-1578411385.98-72158026963711="` echo /root/.ansible/tmp/ansible-tmp-1578411385.98-72158026963711 `" ) && sleep 0'
2020-01-07 23:36:25,996 p=1546 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-07 23:36:25,997 p=1546 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-15464xlZFG/tmpd6spSL TO /root/.ansible/tmp/ansible-tmp-1578411385.98-72158026963711/AnsiballZ_command.py
2020-01-07 23:36:25,998 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578411385.98-72158026963711/ /root/.ansible/tmp/ansible-tmp-1578411385.98-72158026963711/AnsiballZ_command.py && sleep 0'
2020-01-07 23:36:26,007 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578411385.98-72158026963711/AnsiballZ_command.py && sleep 0'
2020-01-07 23:36:26,111 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578411385.98-72158026963711/ > /dev/null 2>&1 && sleep 0'
2020-01-07 23:36:26,123 p=1546 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "sed", 
        "-i", 
        "s/kafka_instance_size/100/g", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:00.003283", 
    "end": "2020-01-07 23:36:26.100775", 
    "invocation": {
        "module_args": {
            "_raw_params": "sed -i \"s/kafka_instance_size/100/g\" /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-07 23:36:26.097492", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-07 23:36:26,163 p=1546 u=root |  TASK [msk.kafka : include_tasks] ************************************************************************************************************************************************************
2020-01-07 23:36:26,163 p=1546 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/main.yml:4
2020-01-07 23:36:26,217 p=1546 u=root |  included: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk.yml for localhost
2020-01-07 23:36:26,264 p=1546 u=root |  TASK [msk.kafka : Upgrade AWS elastiCache redis cluster] ************************************************************************************************************************************
2020-01-07 23:36:26,264 p=1546 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk.yml:14
2020-01-07 23:36:26,282 p=1546 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-07 23:36:26,282 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-07 23:36:26,291 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578411386.28-217462901295187 `" && echo ansible-tmp-1578411386.28-217462901295187="` echo /root/.ansible/tmp/ansible-tmp-1578411386.28-217462901295187 `" ) && sleep 0'
2020-01-07 23:36:26,302 p=1546 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-07 23:36:26,303 p=1546 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-15464xlZFG/tmpQeMLve TO /root/.ansible/tmp/ansible-tmp-1578411386.28-217462901295187/AnsiballZ_command.py
2020-01-07 23:36:26,304 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578411386.28-217462901295187/ /root/.ansible/tmp/ansible-tmp-1578411386.28-217462901295187/AnsiballZ_command.py && sleep 0'
2020-01-07 23:36:26,312 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578411386.28-217462901295187/AnsiballZ_command.py && sleep 0'
2020-01-07 23:36:28,268 p=1546 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578411386.28-217462901295187/ > /dev/null 2>&1 && sleep 0'
2020-01-07 23:36:28,281 p=1546 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "aws", 
        "kafka", 
        "create-cluster", 
        "--cluster-name", 
        "M120-kafka", 
        "--broker-node-group-info", 
        "file:///home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
        "--encryption-info", 
        "file:///home/centos/aws-project/007.kafka/roles/msk.kafka/templates/encryptioninfo.json", 
        "--kafka-version", 
        "2.2.1", 
        "--number-of-broker-nodes", 
        "3"
    ], 
    "delta": "0:00:01.857413", 
    "end": "2020-01-07 23:36:28.257617", 
    "invocation": {
        "module_args": {
            "_raw_params": "aws kafka create-cluster  --cluster-name \"M120-kafka\"  --broker-node-group-info \"file:///home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json\"  --encryption-info \"file:///home/centos/aws-project/007.kafka/roles/msk.kafka/templates/encryptioninfo.json\"\n  --kafka-version \"2.2.1\"  --number-of-broker-nodes \"3\"\n", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-07 23:36:26.400204", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "{\n    \"ClusterName\": \"M120-kafka\", \n    \"State\": \"CREATING\", \n    \"ClusterArn\": \"arn:aws:kafka:ap-southeast-1:838988372941:cluster/M120-kafka/71c23ba1-037d-454c-827f-f9a1c9a3243f-4\"\n}", 
    "stdout_lines": [
        "{", 
        "    \"ClusterName\": \"M120-kafka\", ", 
        "    \"State\": \"CREATING\", ", 
        "    \"ClusterArn\": \"arn:aws:kafka:ap-southeast-1:838988372941:cluster/M120-kafka/71c23ba1-037d-454c-827f-f9a1c9a3243f-4\"", 
        "}"
    ]
}
2020-01-07 23:36:28,281 p=1546 u=root |  META: ran handlers
2020-01-07 23:36:28,282 p=1546 u=root |  META: ran handlers
2020-01-07 23:36:28,283 p=1546 u=root |  PLAY RECAP **********************************************************************************************************************************************************************************
2020-01-07 23:36:28,283 p=1546 u=root |  localhost                  : ok=21   changed=9    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2020-01-08 00:03:17,896 p=2039 u=root |  ansible-playbook 2.8.4
  config file = /home/centos/aws-project/007.kafka/ansible.cfg
  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python2.7/site-packages/ansible
  executable location = /bin/ansible-playbook
  python version = 2.7.5 (default, Aug  7 2019, 00:51:29) [GCC 4.8.5 20150623 (Red Hat 4.8.5-39)]
2020-01-08 00:03:17,897 p=2039 u=root |  Using /home/centos/aws-project/007.kafka/ansible.cfg as config file
2020-01-08 00:03:17,905 p=2039 u=root |  host_list declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2020-01-08 00:03:17,905 p=2039 u=root |  script declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2020-01-08 00:03:17,905 p=2039 u=root |  auto declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2020-01-08 00:03:17,908 p=2039 u=root |  Parsed /etc/ansible/hosts inventory source with ini plugin
2020-01-08 00:03:17,911 p=2039 u=root |   [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-01-08 00:03:18,227 p=2039 u=root |  PLAYBOOK: msk.yml ***************************************************************************************************************************************************************************
2020-01-08 00:03:18,227 p=2039 u=root |  1 plays in msk.yml
2020-01-08 00:03:18,256 p=2039 u=root |  PLAY [Create ElastiCache Redis instance] ****************************************************************************************************************************************************
2020-01-08 00:03:18,272 p=2039 u=root |  TASK [Gathering Facts] **********************************************************************************************************************************************************************
2020-01-08 00:03:18,272 p=2039 u=root |  task path: /home/centos/aws-project/007.kafka/msk.yml:2
2020-01-08 00:03:18,285 p=2039 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-08 00:03:18,286 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-08 00:03:18,294 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578412998.29-172750758526875 `" && echo ansible-tmp-1578412998.29-172750758526875="` echo /root/.ansible/tmp/ansible-tmp-1578412998.29-172750758526875 `" ) && sleep 0'
2020-01-08 00:03:18,725 p=2039 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/system/setup.py
2020-01-08 00:03:18,725 p=2039 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-2039yV6lwI/tmpQSspCf TO /root/.ansible/tmp/ansible-tmp-1578412998.29-172750758526875/AnsiballZ_setup.py
2020-01-08 00:03:18,726 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578412998.29-172750758526875/ /root/.ansible/tmp/ansible-tmp-1578412998.29-172750758526875/AnsiballZ_setup.py && sleep 0'
2020-01-08 00:03:18,735 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578412998.29-172750758526875/AnsiballZ_setup.py && sleep 0'
2020-01-08 00:03:19,275 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578412998.29-172750758526875/ > /dev/null 2>&1 && sleep 0'
2020-01-08 00:03:19,347 p=2039 u=root |  ok: [localhost]
2020-01-08 00:03:19,348 p=2039 u=root |  META: ran handlers
2020-01-08 00:03:19,388 p=2039 u=root |  TASK [msk.kafka : include_tasks] ************************************************************************************************************************************************************
2020-01-08 00:03:19,388 p=2039 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/main.yml:2
2020-01-08 00:03:19,574 p=2039 u=root |  included: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml for localhost
2020-01-08 00:03:19,616 p=2039 u=root |  TASK [msk.kafka : gather information about the rds subnets] *********************************************************************************************************************************
2020-01-08 00:03:19,616 p=2039 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:2
2020-01-08 00:03:19,633 p=2039 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-08 00:03:19,634 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-08 00:03:19,643 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578412999.63-269383081546139 `" && echo ansible-tmp-1578412999.63-269383081546139="` echo /root/.ansible/tmp/ansible-tmp-1578412999.63-269383081546139 `" ) && sleep 0'
2020-01-08 00:03:19,881 p=2039 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_vpc_subnet_facts.py
2020-01-08 00:03:19,882 p=2039 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-2039yV6lwI/tmpWrJ6ry TO /root/.ansible/tmp/ansible-tmp-1578412999.63-269383081546139/AnsiballZ_ec2_vpc_subnet_facts.py
2020-01-08 00:03:19,882 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578412999.63-269383081546139/ /root/.ansible/tmp/ansible-tmp-1578412999.63-269383081546139/AnsiballZ_ec2_vpc_subnet_facts.py && sleep 0'
2020-01-08 00:03:19,892 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578412999.63-269383081546139/AnsiballZ_ec2_vpc_subnet_facts.py && sleep 0'
2020-01-08 00:03:20,619 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578412999.63-269383081546139/ > /dev/null 2>&1 && sleep 0'
2020-01-08 00:03:20,637 p=2039 u=root |  ok: [localhost] => {
    "changed": false, 
    "invocation": {
        "module_args": {
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "debug_botocore_endpoint_logs": false, 
            "ec2_url": null, 
            "filters": {
                "tag:Environment": "M120", 
                "tag:Use": "rds"
            }, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "subnet_ids": [], 
            "validate_certs": true
        }
    }, 
    "subnets": [
        {
            "assign_ipv6_address_on_creation": false, 
            "availability_zone": "ap-southeast-1c", 
            "availability_zone_id": "apse1-az3", 
            "available_ip_address_count": 249, 
            "cidr_block": "10.120.31.0/24", 
            "default_for_az": false, 
            "id": "subnet-0046b05f2d4006487", 
            "ipv6_cidr_block_association_set": [], 
            "map_public_ip_on_launch": false, 
            "owner_id": "838988372941", 
            "state": "available", 
            "subnet_arn": "arn:aws:ec2:ap-southeast-1:838988372941:subnet/subnet-0046b05f2d4006487", 
            "subnet_id": "subnet-0046b05f2d4006487", 
            "tags": {
                "Environment": "M120", 
                "Name": "M120_rds_ap-southeast-1c", 
                "Use": "rds"
            }, 
            "vpc_id": "vpc-025e5ea3271f91941"
        }, 
        {
            "assign_ipv6_address_on_creation": false, 
            "availability_zone": "ap-southeast-1a", 
            "availability_zone_id": "apse1-az1", 
            "available_ip_address_count": 250, 
            "cidr_block": "10.120.32.0/24", 
            "default_for_az": false, 
            "id": "subnet-0f699b5cd13046bcb", 
            "ipv6_cidr_block_association_set": [], 
            "map_public_ip_on_launch": false, 
            "owner_id": "838988372941", 
            "state": "available", 
            "subnet_arn": "arn:aws:ec2:ap-southeast-1:838988372941:subnet/subnet-0f699b5cd13046bcb", 
            "subnet_id": "subnet-0f699b5cd13046bcb", 
            "tags": {
                "Environment": "M120", 
                "Name": "M120_rds_ap-southeast-1a", 
                "Use": "rds"
            }, 
            "vpc_id": "vpc-025e5ea3271f91941"
        }, 
        {
            "assign_ipv6_address_on_creation": false, 
            "availability_zone": "ap-southeast-1b", 
            "availability_zone_id": "apse1-az2", 
            "available_ip_address_count": 242, 
            "cidr_block": "10.120.30.0/24", 
            "default_for_az": false, 
            "id": "subnet-06c1d074817811db3", 
            "ipv6_cidr_block_association_set": [], 
            "map_public_ip_on_launch": false, 
            "owner_id": "838988372941", 
            "state": "available", 
            "subnet_arn": "arn:aws:ec2:ap-southeast-1:838988372941:subnet/subnet-06c1d074817811db3", 
            "subnet_id": "subnet-06c1d074817811db3", 
            "tags": {
                "Environment": "M120", 
                "Name": "M120_rds_ap-southeast-1b", 
                "Use": "rds"
            }, 
            "vpc_id": "vpc-025e5ea3271f91941"
        }
    ]
}
2020-01-08 00:03:20,677 p=2039 u=root |  TASK [msk.kafka : register just the IDs for each of the subnets] ****************************************************************************************************************************
2020-01-08 00:03:20,677 p=2039 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:10
2020-01-08 00:03:20,696 p=2039 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "subnet_msk_ids": [
            "subnet-06c1d074817811db3", 
            "subnet-0046b05f2d4006487", 
            "subnet-0f699b5cd13046bcb"
        ]
    }, 
    "changed": false
}
2020-01-08 00:03:20,736 p=2039 u=root |  TASK [msk.kafka : Declaration ID number] ****************************************************************************************************************************************************
2020-01-08 00:03:20,737 p=2039 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:14
2020-01-08 00:03:20,754 p=2039 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "subnet_msk_ids00": "subnet-06c1d074817811db3"
    }, 
    "changed": false
}
2020-01-08 00:03:20,794 p=2039 u=root |  TASK [msk.kafka : Declaration ID number] ****************************************************************************************************************************************************
2020-01-08 00:03:20,794 p=2039 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:18
2020-01-08 00:03:20,811 p=2039 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "subnet_msk_ids01": "subnet-0046b05f2d4006487"
    }, 
    "changed": false
}
2020-01-08 00:03:20,851 p=2039 u=root |  TASK [msk.kafka : Declaration ID number] ****************************************************************************************************************************************************
2020-01-08 00:03:20,852 p=2039 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:22
2020-01-08 00:03:20,873 p=2039 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "subnet_msk_ids02": "subnet-0f699b5cd13046bcb"
    }, 
    "changed": false
}
2020-01-08 00:03:20,915 p=2039 u=root |  TASK [msk.kafka : Get ALL SG ID] ************************************************************************************************************************************************************
2020-01-08 00:03:20,915 p=2039 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:26
2020-01-08 00:03:20,933 p=2039 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-08 00:03:20,933 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-08 00:03:20,942 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578413000.93-211531739435134 `" && echo ansible-tmp-1578413000.93-211531739435134="` echo /root/.ansible/tmp/ansible-tmp-1578413000.93-211531739435134 `" ) && sleep 0'
2020-01-08 00:03:21,173 p=2039 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_group_facts.py
2020-01-08 00:03:21,174 p=2039 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-2039yV6lwI/tmp__MWM_ TO /root/.ansible/tmp/ansible-tmp-1578413000.93-211531739435134/AnsiballZ_ec2_group_facts.py
2020-01-08 00:03:21,175 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578413000.93-211531739435134/ /root/.ansible/tmp/ansible-tmp-1578413000.93-211531739435134/AnsiballZ_ec2_group_facts.py && sleep 0'
2020-01-08 00:03:21,184 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578413000.93-211531739435134/AnsiballZ_ec2_group_facts.py && sleep 0'
2020-01-08 00:03:21,898 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578413000.93-211531739435134/ > /dev/null 2>&1 && sleep 0'
2020-01-08 00:03:21,913 p=2039 u=root |  ok: [localhost] => {
    "changed": false, 
    "invocation": {
        "module_args": {
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "debug_botocore_endpoint_logs": false, 
            "ec2_url": null, 
            "filters": {
                "group-name": "M120-all"
            }, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "validate_certs": true
        }
    }, 
    "security_groups": [
        {
            "description": "opens all ports to the world", 
            "group_id": "sg-004a004e0482c5105", 
            "group_name": "M120-all", 
            "ip_permissions": [
                {
                    "ip_protocol": "-1", 
                    "ip_ranges": [
                        {
                            "cidr_ip": "10.120.0.0/16", 
                            "description": "private ec2 allow all on ports"
                        }
                    ], 
                    "ipv6_ranges": [], 
                    "prefix_list_ids": [], 
                    "user_id_group_pairs": []
                }
            ], 
            "ip_permissions_egress": [
                {
                    "ip_protocol": "-1", 
                    "ip_ranges": [
                        {
                            "cidr_ip": "0.0.0.0/0"
                        }
                    ], 
                    "ipv6_ranges": [], 
                    "prefix_list_ids": [], 
                    "user_id_group_pairs": []
                }
            ], 
            "owner_id": "838988372941", 
            "tags": {
                "Environment": "M120-all", 
                "Name": "M120-all"
            }, 
            "vpc_id": "vpc-025e5ea3271f91941"
        }
    ]
}
2020-01-08 00:03:21,953 p=2039 u=root |  TASK [msk.kafka : list of all the security group id.] ***************************************************************************************************************************************
2020-01-08 00:03:21,953 p=2039 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:33
2020-01-08 00:03:21,984 p=2039 u=root |  ok: [localhost] => (item={u'ip_permissions': [{u'user_id_group_pairs': [], u'ipv6_ranges': [], u'ip_ranges': [{u'description': u'private ec2 allow all on ports', u'cidr_ip': u'10.120.0.0/16'}], u'ip_protocol': u'-1', u'prefix_list_ids': []}], u'description': u'opens all ports to the world', u'tags': {u'Environment': u'M120-all', u'Name': u'M120-all'}, u'group_name': u'M120-all', u'vpc_id': u'vpc-025e5ea3271f91941', u'group_id': u'sg-004a004e0482c5105', u'ip_permissions_egress': [{u'user_id_group_pairs': [], u'ipv6_ranges': [], u'ip_ranges': [{u'cidr_ip': u'0.0.0.0/0'}], u'ip_protocol': u'-1', u'prefix_list_ids': []}], u'owner_id': u'838988372941'}) => {
    "ansible_facts": {
        "sg_all_id": "sg-004a004e0482c5105"
    }, 
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": {
        "description": "opens all ports to the world", 
        "group_id": "sg-004a004e0482c5105", 
        "group_name": "M120-all", 
        "ip_permissions": [
            {
                "ip_protocol": "-1", 
                "ip_ranges": [
                    {
                        "cidr_ip": "10.120.0.0/16", 
                        "description": "private ec2 allow all on ports"
                    }
                ], 
                "ipv6_ranges": [], 
                "prefix_list_ids": [], 
                "user_id_group_pairs": []
            }
        ], 
        "ip_permissions_egress": [
            {
                "ip_protocol": "-1", 
                "ip_ranges": [
                    {
                        "cidr_ip": "0.0.0.0/0"
                    }
                ], 
                "ipv6_ranges": [], 
                "prefix_list_ids": [], 
                "user_id_group_pairs": []
            }
        ], 
        "owner_id": "838988372941", 
        "tags": {
            "Environment": "M120-all", 
            "Name": "M120-all"
        }, 
        "vpc_id": "vpc-025e5ea3271f91941"
    }
}
2020-01-08 00:03:22,024 p=2039 u=root |  TASK [msk.kafka : include_tasks] ************************************************************************************************************************************************************
2020-01-08 00:03:22,024 p=2039 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/main.yml:3
2020-01-08 00:03:22,083 p=2039 u=root |  included: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml for localhost
2020-01-08 00:03:22,127 p=2039 u=root |  TASK [msk.kafka : delete json file] *********************************************************************************************************************************************************
2020-01-08 00:03:22,128 p=2039 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:2
2020-01-08 00:03:22,143 p=2039 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-08 00:03:22,143 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-08 00:03:22,152 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578413002.14-211039434319256 `" && echo ansible-tmp-1578413002.14-211039434319256="` echo /root/.ansible/tmp/ansible-tmp-1578413002.14-211039434319256 `" ) && sleep 0'
2020-01-08 00:03:22,370 p=2039 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-08 00:03:22,370 p=2039 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-2039yV6lwI/tmpRK22dk TO /root/.ansible/tmp/ansible-tmp-1578413002.14-211039434319256/AnsiballZ_command.py
2020-01-08 00:03:22,371 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578413002.14-211039434319256/ /root/.ansible/tmp/ansible-tmp-1578413002.14-211039434319256/AnsiballZ_command.py && sleep 0'
2020-01-08 00:03:22,380 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578413002.14-211039434319256/AnsiballZ_command.py && sleep 0'
2020-01-08 00:03:22,480 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578413002.14-211039434319256/ > /dev/null 2>&1 && sleep 0'
2020-01-08 00:03:22,493 p=2039 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "rm", 
        "-rf", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:00.002720", 
    "end": "2020-01-08 00:03:22.470444", 
    "invocation": {
        "module_args": {
            "_raw_params": "rm -rf /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-08 00:03:22.467724", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-08 00:03:22,533 p=2039 u=root |  TASK [msk.kafka : Check directory exists or not.] *******************************************************************************************************************************************
2020-01-08 00:03:22,533 p=2039 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:5
2020-01-08 00:03:22,549 p=2039 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-08 00:03:22,549 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-08 00:03:22,558 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578413002.55-158514480610015 `" && echo ansible-tmp-1578413002.55-158514480610015="` echo /root/.ansible/tmp/ansible-tmp-1578413002.55-158514480610015 `" ) && sleep 0'
2020-01-08 00:03:22,776 p=2039 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/files/stat.py
2020-01-08 00:03:22,776 p=2039 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-2039yV6lwI/tmpDeGwE1 TO /root/.ansible/tmp/ansible-tmp-1578413002.55-158514480610015/AnsiballZ_stat.py
2020-01-08 00:03:22,777 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578413002.55-158514480610015/ /root/.ansible/tmp/ansible-tmp-1578413002.55-158514480610015/AnsiballZ_stat.py && sleep 0'
2020-01-08 00:03:22,786 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578413002.55-158514480610015/AnsiballZ_stat.py && sleep 0'
2020-01-08 00:03:22,883 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578413002.55-158514480610015/ > /dev/null 2>&1 && sleep 0'
2020-01-08 00:03:22,896 p=2039 u=root |  ok: [localhost] => {
    "changed": false, 
    "invocation": {
        "module_args": {
            "checksum_algorithm": "sha1", 
            "follow": false, 
            "get_attributes": true, 
            "get_checksum": true, 
            "get_md5": null, 
            "get_mime": true, 
            "path": "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
        }
    }, 
    "stat": {
        "exists": false
    }
}
2020-01-08 00:03:22,936 p=2039 u=root |  TASK [msk.kafka : copy template file] *******************************************************************************************************************************************************
2020-01-08 00:03:22,936 p=2039 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:9
2020-01-08 00:03:22,956 p=2039 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-08 00:03:22,957 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-08 00:03:22,965 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578413002.96-111489755147386 `" && echo ansible-tmp-1578413002.96-111489755147386="` echo /root/.ansible/tmp/ansible-tmp-1578413002.96-111489755147386 `" ) && sleep 0'
2020-01-08 00:03:22,978 p=2039 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/files/stat.py
2020-01-08 00:03:22,978 p=2039 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-2039yV6lwI/tmpQMz1Ee TO /root/.ansible/tmp/ansible-tmp-1578413002.96-111489755147386/AnsiballZ_stat.py
2020-01-08 00:03:22,979 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578413002.96-111489755147386/ /root/.ansible/tmp/ansible-tmp-1578413002.96-111489755147386/AnsiballZ_stat.py && sleep 0'
2020-01-08 00:03:22,988 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578413002.96-111489755147386/AnsiballZ_stat.py && sleep 0'
2020-01-08 00:03:23,084 p=2039 u=root |  <127.0.0.1> PUT /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json-tempalte TO /root/.ansible/tmp/ansible-tmp-1578413002.96-111489755147386/source
2020-01-08 00:03:23,085 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578413002.96-111489755147386/ /root/.ansible/tmp/ansible-tmp-1578413002.96-111489755147386/source && sleep 0'
2020-01-08 00:03:23,316 p=2039 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/files/copy.py
2020-01-08 00:03:23,316 p=2039 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-2039yV6lwI/tmpRpAJVm TO /root/.ansible/tmp/ansible-tmp-1578413002.96-111489755147386/AnsiballZ_copy.py
2020-01-08 00:03:23,317 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578413002.96-111489755147386/ /root/.ansible/tmp/ansible-tmp-1578413002.96-111489755147386/AnsiballZ_copy.py && sleep 0'
2020-01-08 00:03:23,326 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578413002.96-111489755147386/AnsiballZ_copy.py && sleep 0'
2020-01-08 00:03:23,427 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578413002.96-111489755147386/ > /dev/null 2>&1 && sleep 0'
2020-01-08 00:03:23,441 p=2039 u=root |  changed: [localhost] => {
    "changed": true, 
    "checksum": "af7824e4f0ac91a5fad3b6c39bafd7df4082ab4f", 
    "dest": "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
    "diff": [], 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "_original_basename": "brokernodegroupinfo.json-tempalte", 
            "attributes": null, 
            "backup": false, 
            "checksum": "af7824e4f0ac91a5fad3b6c39bafd7df4082ab4f", 
            "content": null, 
            "delimiter": null, 
            "dest": "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "directory_mode": null, 
            "follow": false, 
            "force": true, 
            "group": "root", 
            "local_follow": null, 
            "mode": "0775", 
            "owner": "root", 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "/root/.ansible/tmp/ansible-tmp-1578413002.96-111489755147386/source", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "md5sum": "e1e39ebcb39175b6ad8105ace396c003", 
    "mode": "0775", 
    "owner": "root", 
    "size": 332, 
    "src": "/root/.ansible/tmp/ansible-tmp-1578413002.96-111489755147386/source", 
    "state": "file", 
    "uid": 0
}
2020-01-08 00:03:23,480 p=2039 u=root |  TASK [msk.kafka : Replace kafka cluster type values] ****************************************************************************************************************************************
2020-01-08 00:03:23,480 p=2039 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:13
2020-01-08 00:03:23,496 p=2039 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-08 00:03:23,496 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-08 00:03:23,505 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578413003.5-109228925415904 `" && echo ansible-tmp-1578413003.5-109228925415904="` echo /root/.ansible/tmp/ansible-tmp-1578413003.5-109228925415904 `" ) && sleep 0'
2020-01-08 00:03:23,518 p=2039 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-08 00:03:23,519 p=2039 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-2039yV6lwI/tmpAyBwTx TO /root/.ansible/tmp/ansible-tmp-1578413003.5-109228925415904/AnsiballZ_command.py
2020-01-08 00:03:23,519 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578413003.5-109228925415904/ /root/.ansible/tmp/ansible-tmp-1578413003.5-109228925415904/AnsiballZ_command.py && sleep 0'
2020-01-08 00:03:23,529 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578413003.5-109228925415904/AnsiballZ_command.py && sleep 0'
2020-01-08 00:03:23,631 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578413003.5-109228925415904/ > /dev/null 2>&1 && sleep 0'
2020-01-08 00:03:23,644 p=2039 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "sed", 
        "-i", 
        "s/kafka_cluster_type/kafka.m5.large/g", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:00.003255", 
    "end": "2020-01-08 00:03:23.621385", 
    "invocation": {
        "module_args": {
            "_raw_params": "sed -i \"s/kafka_cluster_type/kafka.m5.large/g\"  /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-08 00:03:23.618130", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-08 00:03:23,683 p=2039 u=root |  TASK [msk.kafka : Replace subnet msk ids00 values] ******************************************************************************************************************************************
2020-01-08 00:03:23,684 p=2039 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:16
2020-01-08 00:03:23,699 p=2039 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-08 00:03:23,699 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-08 00:03:23,708 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578413003.7-212028434612053 `" && echo ansible-tmp-1578413003.7-212028434612053="` echo /root/.ansible/tmp/ansible-tmp-1578413003.7-212028434612053 `" ) && sleep 0'
2020-01-08 00:03:23,721 p=2039 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-08 00:03:23,722 p=2039 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-2039yV6lwI/tmpqxGbyS TO /root/.ansible/tmp/ansible-tmp-1578413003.7-212028434612053/AnsiballZ_command.py
2020-01-08 00:03:23,723 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578413003.7-212028434612053/ /root/.ansible/tmp/ansible-tmp-1578413003.7-212028434612053/AnsiballZ_command.py && sleep 0'
2020-01-08 00:03:23,732 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578413003.7-212028434612053/AnsiballZ_command.py && sleep 0'
2020-01-08 00:03:23,832 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578413003.7-212028434612053/ > /dev/null 2>&1 && sleep 0'
2020-01-08 00:03:23,845 p=2039 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "sed", 
        "-i", 
        "s/subnet_msk_ids00/subnet-06c1d074817811db3/g", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:00.003217", 
    "end": "2020-01-08 00:03:23.822622", 
    "invocation": {
        "module_args": {
            "_raw_params": "sed -i \"s/subnet_msk_ids00/subnet-06c1d074817811db3/g\" /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-08 00:03:23.819405", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-08 00:03:23,885 p=2039 u=root |  TASK [msk.kafka : Replace subnet msk ids01 values] ******************************************************************************************************************************************
2020-01-08 00:03:23,885 p=2039 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:19
2020-01-08 00:03:23,901 p=2039 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-08 00:03:23,901 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-08 00:03:23,910 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578413003.9-85806503568901 `" && echo ansible-tmp-1578413003.9-85806503568901="` echo /root/.ansible/tmp/ansible-tmp-1578413003.9-85806503568901 `" ) && sleep 0'
2020-01-08 00:03:23,922 p=2039 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-08 00:03:23,923 p=2039 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-2039yV6lwI/tmpExLDlp TO /root/.ansible/tmp/ansible-tmp-1578413003.9-85806503568901/AnsiballZ_command.py
2020-01-08 00:03:23,923 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578413003.9-85806503568901/ /root/.ansible/tmp/ansible-tmp-1578413003.9-85806503568901/AnsiballZ_command.py && sleep 0'
2020-01-08 00:03:23,932 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578413003.9-85806503568901/AnsiballZ_command.py && sleep 0'
2020-01-08 00:03:24,034 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578413003.9-85806503568901/ > /dev/null 2>&1 && sleep 0'
2020-01-08 00:03:24,047 p=2039 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "sed", 
        "-i", 
        "s/subnet_msk_ids01/subnet-0046b05f2d4006487/g", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:00.003252", 
    "end": "2020-01-08 00:03:24.024412", 
    "invocation": {
        "module_args": {
            "_raw_params": "sed -i \"s/subnet_msk_ids01/subnet-0046b05f2d4006487/g\" /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-08 00:03:24.021160", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-08 00:03:24,087 p=2039 u=root |  TASK [msk.kafka : Replace subnet msk ids02 values] ******************************************************************************************************************************************
2020-01-08 00:03:24,087 p=2039 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:22
2020-01-08 00:03:24,102 p=2039 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-08 00:03:24,102 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-08 00:03:24,111 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578413004.1-233186765647413 `" && echo ansible-tmp-1578413004.1-233186765647413="` echo /root/.ansible/tmp/ansible-tmp-1578413004.1-233186765647413 `" ) && sleep 0'
2020-01-08 00:03:24,123 p=2039 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-08 00:03:24,123 p=2039 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-2039yV6lwI/tmpm0MNpo TO /root/.ansible/tmp/ansible-tmp-1578413004.1-233186765647413/AnsiballZ_command.py
2020-01-08 00:03:24,124 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578413004.1-233186765647413/ /root/.ansible/tmp/ansible-tmp-1578413004.1-233186765647413/AnsiballZ_command.py && sleep 0'
2020-01-08 00:03:24,133 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578413004.1-233186765647413/AnsiballZ_command.py && sleep 0'
2020-01-08 00:03:24,237 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578413004.1-233186765647413/ > /dev/null 2>&1 && sleep 0'
2020-01-08 00:03:24,250 p=2039 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "sed", 
        "-i", 
        "s/subnet_msk_ids02/subnet-0f699b5cd13046bcb/g", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:00.003400", 
    "end": "2020-01-08 00:03:24.226642", 
    "invocation": {
        "module_args": {
            "_raw_params": "sed -i \"s/subnet_msk_ids02/subnet-0f699b5cd13046bcb/g\" /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-08 00:03:24.223242", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-08 00:03:24,290 p=2039 u=root |  TASK [msk.kafka : Replace kafka cluster type values] ****************************************************************************************************************************************
2020-01-08 00:03:24,290 p=2039 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:25
2020-01-08 00:03:24,306 p=2039 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-08 00:03:24,306 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-08 00:03:24,315 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578413004.31-149677727231620 `" && echo ansible-tmp-1578413004.31-149677727231620="` echo /root/.ansible/tmp/ansible-tmp-1578413004.31-149677727231620 `" ) && sleep 0'
2020-01-08 00:03:24,326 p=2039 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-08 00:03:24,327 p=2039 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-2039yV6lwI/tmprxpTwP TO /root/.ansible/tmp/ansible-tmp-1578413004.31-149677727231620/AnsiballZ_command.py
2020-01-08 00:03:24,328 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578413004.31-149677727231620/ /root/.ansible/tmp/ansible-tmp-1578413004.31-149677727231620/AnsiballZ_command.py && sleep 0'
2020-01-08 00:03:24,336 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578413004.31-149677727231620/AnsiballZ_command.py && sleep 0'
2020-01-08 00:03:24,436 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578413004.31-149677727231620/ > /dev/null 2>&1 && sleep 0'
2020-01-08 00:03:24,449 p=2039 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "sed", 
        "-i", 
        "s/sg_all_id/sg-004a004e0482c5105/g", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:00.003250", 
    "end": "2020-01-08 00:03:24.426457", 
    "invocation": {
        "module_args": {
            "_raw_params": "sed -i \"s/sg_all_id/sg-004a004e0482c5105/g\"  /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-08 00:03:24.423207", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-08 00:03:24,489 p=2039 u=root |  TASK [msk.kafka : Replace kafka cluster type values] ****************************************************************************************************************************************
2020-01-08 00:03:24,489 p=2039 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:28
2020-01-08 00:03:24,505 p=2039 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-08 00:03:24,505 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-08 00:03:24,514 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578413004.5-78921267942158 `" && echo ansible-tmp-1578413004.5-78921267942158="` echo /root/.ansible/tmp/ansible-tmp-1578413004.5-78921267942158 `" ) && sleep 0'
2020-01-08 00:03:24,527 p=2039 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-08 00:03:24,528 p=2039 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-2039yV6lwI/tmpnaXt8n TO /root/.ansible/tmp/ansible-tmp-1578413004.5-78921267942158/AnsiballZ_command.py
2020-01-08 00:03:24,528 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578413004.5-78921267942158/ /root/.ansible/tmp/ansible-tmp-1578413004.5-78921267942158/AnsiballZ_command.py && sleep 0'
2020-01-08 00:03:24,538 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578413004.5-78921267942158/AnsiballZ_command.py && sleep 0'
2020-01-08 00:03:24,642 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578413004.5-78921267942158/ > /dev/null 2>&1 && sleep 0'
2020-01-08 00:03:24,655 p=2039 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "sed", 
        "-i", 
        "s/kafka_instance_size/100/g", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:00.003263", 
    "end": "2020-01-08 00:03:24.632455", 
    "invocation": {
        "module_args": {
            "_raw_params": "sed -i \"s/kafka_instance_size/100/g\" /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-08 00:03:24.629192", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-08 00:03:24,695 p=2039 u=root |  TASK [msk.kafka : include_tasks] ************************************************************************************************************************************************************
2020-01-08 00:03:24,695 p=2039 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/main.yml:4
2020-01-08 00:03:24,751 p=2039 u=root |  included: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk.yml for localhost
2020-01-08 00:03:24,799 p=2039 u=root |  TASK [msk.kafka : Upgrade AWS elastiCache redis cluster] ************************************************************************************************************************************
2020-01-08 00:03:24,799 p=2039 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk.yml:14
2020-01-08 00:03:24,816 p=2039 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-08 00:03:24,816 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-08 00:03:24,825 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578413004.82-62473255413524 `" && echo ansible-tmp-1578413004.82-62473255413524="` echo /root/.ansible/tmp/ansible-tmp-1578413004.82-62473255413524 `" ) && sleep 0'
2020-01-08 00:03:24,837 p=2039 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-08 00:03:24,838 p=2039 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-2039yV6lwI/tmpTT7LnJ TO /root/.ansible/tmp/ansible-tmp-1578413004.82-62473255413524/AnsiballZ_command.py
2020-01-08 00:03:24,839 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578413004.82-62473255413524/ /root/.ansible/tmp/ansible-tmp-1578413004.82-62473255413524/AnsiballZ_command.py && sleep 0'
2020-01-08 00:03:24,848 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578413004.82-62473255413524/AnsiballZ_command.py && sleep 0'
2020-01-08 00:03:25,474 p=2039 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578413004.82-62473255413524/ > /dev/null 2>&1 && sleep 0'
2020-01-08 00:03:25,487 p=2039 u=root |  fatal: [localhost]: FAILED! => {
    "changed": true, 
    "cmd": [
        "aws", 
        "kafka", 
        "create-cluster", 
        "--cluster-name", 
        "M120-kafka", 
        "--broker-node-group-info", 
        "file:///home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
        "--kafka-version", 
        "2.2.1", 
        "--number-of-broker-nodes", 
        "3", 
        "--encryption-info", 
        "EncryptionInTransit=ClientBroker=PLAINTEXT"
    ], 
    "delta": "0:00:00.527819", 
    "end": "2020-01-08 00:03:25.464576", 
    "invocation": {
        "module_args": {
            "_raw_params": "aws kafka create-cluster  --cluster-name \"M120-kafka\"  --broker-node-group-info \"file:///home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json\"  --kafka-version \"2.2.1\"  --number-of-broker-nodes \"3\"  --encryption-info \"EncryptionInTransit=ClientBroker=PLAINTEXT\"\n", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "msg": "non-zero return code", 
    "rc": 255, 
    "start": "2020-01-08 00:03:24.936757", 
    "stderr": "\nParameter validation failed:\nInvalid type for parameter EncryptionInfo.EncryptionInTransit, value: ClientBroker=PLAINTEXT, type: <type 'unicode'>, valid types: <type 'dict'>", 
    "stderr_lines": [
        "", 
        "Parameter validation failed:", 
        "Invalid type for parameter EncryptionInfo.EncryptionInTransit, value: ClientBroker=PLAINTEXT, type: <type 'unicode'>, valid types: <type 'dict'>"
    ], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-08 00:03:25,487 p=2039 u=root |  NO MORE HOSTS LEFT **************************************************************************************************************************************************************************
2020-01-08 00:03:25,488 p=2039 u=root |  NO MORE HOSTS LEFT **************************************************************************************************************************************************************************
2020-01-08 00:03:25,488 p=2039 u=root |  PLAY RECAP **********************************************************************************************************************************************************************************
2020-01-08 00:03:25,489 p=2039 u=root |  localhost                  : ok=20   changed=8    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2020-01-11 15:20:07,281 p=19262 u=root |  ansible-playbook 2.8.4
  config file = /home/centos/aws-project/007.kafka/ansible.cfg
  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python2.7/site-packages/ansible
  executable location = /bin/ansible-playbook
  python version = 2.7.5 (default, Aug  7 2019, 00:51:29) [GCC 4.8.5 20150623 (Red Hat 4.8.5-39)]
2020-01-11 15:20:07,281 p=19262 u=root |  Using /home/centos/aws-project/007.kafka/ansible.cfg as config file
2020-01-11 15:20:07,290 p=19262 u=root |  host_list declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2020-01-11 15:20:07,290 p=19262 u=root |  script declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2020-01-11 15:20:07,290 p=19262 u=root |  auto declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2020-01-11 15:20:07,293 p=19262 u=root |  Parsed /etc/ansible/hosts inventory source with ini plugin
2020-01-11 15:20:07,295 p=19262 u=root |   [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-01-11 15:20:07,603 p=19262 u=root |  PLAYBOOK: msk.yml *****************************************************************************************************************************************
2020-01-11 15:20:07,603 p=19262 u=root |  1 plays in msk.yml
2020-01-11 15:20:07,632 p=19262 u=root |  PLAY [Create ElastiCache Redis instance] ******************************************************************************************************************
2020-01-11 15:20:07,647 p=19262 u=root |  TASK [Gathering Facts] ************************************************************************************************************************************
2020-01-11 15:20:07,648 p=19262 u=root |  task path: /home/centos/aws-project/007.kafka/msk.yml:2
2020-01-11 15:20:07,661 p=19262 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-11 15:20:07,661 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-11 15:20:07,669 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578727207.66-86017586450337 `" && echo ansible-tmp-1578727207.66-86017586450337="` echo /root/.ansible/tmp/ansible-tmp-1578727207.66-86017586450337 `" ) && sleep 0'
2020-01-11 15:20:08,091 p=19262 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/system/setup.py
2020-01-11 15:20:08,092 p=19262 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-19262qaxPze/tmpVxjyng TO /root/.ansible/tmp/ansible-tmp-1578727207.66-86017586450337/AnsiballZ_setup.py
2020-01-11 15:20:08,093 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578727207.66-86017586450337/ /root/.ansible/tmp/ansible-tmp-1578727207.66-86017586450337/AnsiballZ_setup.py && sleep 0'
2020-01-11 15:20:08,102 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578727207.66-86017586450337/AnsiballZ_setup.py && sleep 0'
2020-01-11 15:20:08,704 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578727207.66-86017586450337/ > /dev/null 2>&1 && sleep 0'
2020-01-11 15:20:08,776 p=19262 u=root |  ok: [localhost]
2020-01-11 15:20:08,777 p=19262 u=root |  META: ran handlers
2020-01-11 15:20:08,817 p=19262 u=root |  TASK [msk.kafka : include_tasks] **************************************************************************************************************************
2020-01-11 15:20:08,817 p=19262 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/main.yml:2
2020-01-11 15:20:09,001 p=19262 u=root |  included: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml for localhost
2020-01-11 15:20:09,042 p=19262 u=root |  TASK [msk.kafka : gather information about the rds subnets] ***********************************************************************************************
2020-01-11 15:20:09,042 p=19262 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:2
2020-01-11 15:20:09,059 p=19262 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-11 15:20:09,059 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-11 15:20:09,067 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578727209.06-243631325400610 `" && echo ansible-tmp-1578727209.06-243631325400610="` echo /root/.ansible/tmp/ansible-tmp-1578727209.06-243631325400610 `" ) && sleep 0'
2020-01-11 15:20:09,298 p=19262 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_vpc_subnet_facts.py
2020-01-11 15:20:09,298 p=19262 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-19262qaxPze/tmptk4GFN TO /root/.ansible/tmp/ansible-tmp-1578727209.06-243631325400610/AnsiballZ_ec2_vpc_subnet_facts.py
2020-01-11 15:20:09,299 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578727209.06-243631325400610/ /root/.ansible/tmp/ansible-tmp-1578727209.06-243631325400610/AnsiballZ_ec2_vpc_subnet_facts.py && sleep 0'
2020-01-11 15:20:09,308 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578727209.06-243631325400610/AnsiballZ_ec2_vpc_subnet_facts.py && sleep 0'
2020-01-11 15:20:10,054 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578727209.06-243631325400610/ > /dev/null 2>&1 && sleep 0'
2020-01-11 15:20:10,070 p=19262 u=root |  ok: [localhost] => {
    "changed": false, 
    "invocation": {
        "module_args": {
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "debug_botocore_endpoint_logs": false, 
            "ec2_url": null, 
            "filters": {
                "tag:Environment": "M120", 
                "tag:Use": "rds"
            }, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "subnet_ids": [], 
            "validate_certs": true
        }
    }, 
    "subnets": [
        {
            "assign_ipv6_address_on_creation": false, 
            "availability_zone": "ap-southeast-1c", 
            "availability_zone_id": "apse1-az3", 
            "available_ip_address_count": 249, 
            "cidr_block": "10.120.31.0/24", 
            "default_for_az": false, 
            "id": "subnet-0046b05f2d4006487", 
            "ipv6_cidr_block_association_set": [], 
            "map_public_ip_on_launch": false, 
            "owner_id": "838988372941", 
            "state": "available", 
            "subnet_arn": "arn:aws:ec2:ap-southeast-1:838988372941:subnet/subnet-0046b05f2d4006487", 
            "subnet_id": "subnet-0046b05f2d4006487", 
            "tags": {
                "Environment": "M120", 
                "Name": "M120_rds_ap-southeast-1c", 
                "Use": "rds"
            }, 
            "vpc_id": "vpc-025e5ea3271f91941"
        }, 
        {
            "assign_ipv6_address_on_creation": false, 
            "availability_zone": "ap-southeast-1a", 
            "availability_zone_id": "apse1-az1", 
            "available_ip_address_count": 248, 
            "cidr_block": "10.120.32.0/24", 
            "default_for_az": false, 
            "id": "subnet-0f699b5cd13046bcb", 
            "ipv6_cidr_block_association_set": [], 
            "map_public_ip_on_launch": false, 
            "owner_id": "838988372941", 
            "state": "available", 
            "subnet_arn": "arn:aws:ec2:ap-southeast-1:838988372941:subnet/subnet-0f699b5cd13046bcb", 
            "subnet_id": "subnet-0f699b5cd13046bcb", 
            "tags": {
                "Environment": "M120", 
                "Name": "M120_rds_ap-southeast-1a", 
                "Use": "rds"
            }, 
            "vpc_id": "vpc-025e5ea3271f91941"
        }, 
        {
            "assign_ipv6_address_on_creation": false, 
            "availability_zone": "ap-southeast-1b", 
            "availability_zone_id": "apse1-az2", 
            "available_ip_address_count": 241, 
            "cidr_block": "10.120.30.0/24", 
            "default_for_az": false, 
            "id": "subnet-06c1d074817811db3", 
            "ipv6_cidr_block_association_set": [], 
            "map_public_ip_on_launch": false, 
            "owner_id": "838988372941", 
            "state": "available", 
            "subnet_arn": "arn:aws:ec2:ap-southeast-1:838988372941:subnet/subnet-06c1d074817811db3", 
            "subnet_id": "subnet-06c1d074817811db3", 
            "tags": {
                "Environment": "M120", 
                "Name": "M120_rds_ap-southeast-1b", 
                "Use": "rds"
            }, 
            "vpc_id": "vpc-025e5ea3271f91941"
        }
    ]
}
2020-01-11 15:20:10,110 p=19262 u=root |  TASK [msk.kafka : register just the IDs for each of the subnets] ******************************************************************************************
2020-01-11 15:20:10,110 p=19262 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:10
2020-01-11 15:20:10,129 p=19262 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "subnet_msk_ids": [
            "subnet-06c1d074817811db3", 
            "subnet-0046b05f2d4006487", 
            "subnet-0f699b5cd13046bcb"
        ]
    }, 
    "changed": false
}
2020-01-11 15:20:10,170 p=19262 u=root |  TASK [msk.kafka : Declaration ID number] ******************************************************************************************************************
2020-01-11 15:20:10,170 p=19262 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:14
2020-01-11 15:20:10,188 p=19262 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "subnet_msk_ids00": "subnet-06c1d074817811db3"
    }, 
    "changed": false
}
2020-01-11 15:20:10,227 p=19262 u=root |  TASK [msk.kafka : Declaration ID number] ******************************************************************************************************************
2020-01-11 15:20:10,228 p=19262 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:18
2020-01-11 15:20:10,245 p=19262 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "subnet_msk_ids01": "subnet-0046b05f2d4006487"
    }, 
    "changed": false
}
2020-01-11 15:20:10,285 p=19262 u=root |  TASK [msk.kafka : Declaration ID number] ******************************************************************************************************************
2020-01-11 15:20:10,285 p=19262 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:22
2020-01-11 15:20:10,305 p=19262 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "subnet_msk_ids02": "subnet-0f699b5cd13046bcb"
    }, 
    "changed": false
}
2020-01-11 15:20:10,346 p=19262 u=root |  TASK [msk.kafka : Get ALL SG ID] **************************************************************************************************************************
2020-01-11 15:20:10,347 p=19262 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:26
2020-01-11 15:20:10,364 p=19262 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-11 15:20:10,364 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-11 15:20:10,373 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578727210.36-272662464827135 `" && echo ansible-tmp-1578727210.36-272662464827135="` echo /root/.ansible/tmp/ansible-tmp-1578727210.36-272662464827135 `" ) && sleep 0'
2020-01-11 15:20:10,601 p=19262 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_group_facts.py
2020-01-11 15:20:10,601 p=19262 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-19262qaxPze/tmpE3piFl TO /root/.ansible/tmp/ansible-tmp-1578727210.36-272662464827135/AnsiballZ_ec2_group_facts.py
2020-01-11 15:20:10,602 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578727210.36-272662464827135/ /root/.ansible/tmp/ansible-tmp-1578727210.36-272662464827135/AnsiballZ_ec2_group_facts.py && sleep 0'
2020-01-11 15:20:10,611 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578727210.36-272662464827135/AnsiballZ_ec2_group_facts.py && sleep 0'
2020-01-11 15:20:11,318 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578727210.36-272662464827135/ > /dev/null 2>&1 && sleep 0'
2020-01-11 15:20:11,333 p=19262 u=root |  ok: [localhost] => {
    "changed": false, 
    "invocation": {
        "module_args": {
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "debug_botocore_endpoint_logs": false, 
            "ec2_url": null, 
            "filters": {
                "group-name": "M120-all"
            }, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "validate_certs": true
        }
    }, 
    "security_groups": [
        {
            "description": "opens all ports to the world", 
            "group_id": "sg-004a004e0482c5105", 
            "group_name": "M120-all", 
            "ip_permissions": [
                {
                    "ip_protocol": "-1", 
                    "ip_ranges": [
                        {
                            "cidr_ip": "10.120.0.0/16", 
                            "description": "private ec2 allow all on ports"
                        }, 
                        {
                            "cidr_ip": "154.197.29.34/32"
                        }
                    ], 
                    "ipv6_ranges": [], 
                    "prefix_list_ids": [], 
                    "user_id_group_pairs": []
                }
            ], 
            "ip_permissions_egress": [
                {
                    "ip_protocol": "-1", 
                    "ip_ranges": [
                        {
                            "cidr_ip": "0.0.0.0/0"
                        }
                    ], 
                    "ipv6_ranges": [], 
                    "prefix_list_ids": [], 
                    "user_id_group_pairs": []
                }
            ], 
            "owner_id": "838988372941", 
            "tags": {
                "Environment": "M120-all", 
                "Name": "M120-all"
            }, 
            "vpc_id": "vpc-025e5ea3271f91941"
        }
    ]
}
2020-01-11 15:20:11,372 p=19262 u=root |  TASK [msk.kafka : list of all the security group id.] *****************************************************************************************************
2020-01-11 15:20:11,372 p=19262 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk-subnet-sec-fact.yml:33
2020-01-11 15:20:11,400 p=19262 u=root |  ok: [localhost] => (item={u'ip_permissions': [{u'user_id_group_pairs': [], u'ipv6_ranges': [], u'ip_ranges': [{u'description': u'private ec2 allow all on ports', u'cidr_ip': u'10.120.0.0/16'}, {u'cidr_ip': u'154.197.29.34/32'}], u'ip_protocol': u'-1', u'prefix_list_ids': []}], u'description': u'opens all ports to the world', u'tags': {u'Environment': u'M120-all', u'Name': u'M120-all'}, u'group_name': u'M120-all', u'vpc_id': u'vpc-025e5ea3271f91941', u'group_id': u'sg-004a004e0482c5105', u'ip_permissions_egress': [{u'user_id_group_pairs': [], u'ipv6_ranges': [], u'ip_ranges': [{u'cidr_ip': u'0.0.0.0/0'}], u'ip_protocol': u'-1', u'prefix_list_ids': []}], u'owner_id': u'838988372941'}) => {
    "ansible_facts": {
        "sg_all_id": "sg-004a004e0482c5105"
    }, 
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": {
        "description": "opens all ports to the world", 
        "group_id": "sg-004a004e0482c5105", 
        "group_name": "M120-all", 
        "ip_permissions": [
            {
                "ip_protocol": "-1", 
                "ip_ranges": [
                    {
                        "cidr_ip": "10.120.0.0/16", 
                        "description": "private ec2 allow all on ports"
                    }, 
                    {
                        "cidr_ip": "154.197.29.34/32"
                    }
                ], 
                "ipv6_ranges": [], 
                "prefix_list_ids": [], 
                "user_id_group_pairs": []
            }
        ], 
        "ip_permissions_egress": [
            {
                "ip_protocol": "-1", 
                "ip_ranges": [
                    {
                        "cidr_ip": "0.0.0.0/0"
                    }
                ], 
                "ipv6_ranges": [], 
                "prefix_list_ids": [], 
                "user_id_group_pairs": []
            }
        ], 
        "owner_id": "838988372941", 
        "tags": {
            "Environment": "M120-all", 
            "Name": "M120-all"
        }, 
        "vpc_id": "vpc-025e5ea3271f91941"
    }
}
2020-01-11 15:20:11,441 p=19262 u=root |  TASK [msk.kafka : include_tasks] **************************************************************************************************************************
2020-01-11 15:20:11,441 p=19262 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/main.yml:3
2020-01-11 15:20:11,499 p=19262 u=root |  included: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml for localhost
2020-01-11 15:20:11,543 p=19262 u=root |  TASK [msk.kafka : delete json file] ***********************************************************************************************************************
2020-01-11 15:20:11,544 p=19262 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:2
2020-01-11 15:20:11,559 p=19262 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-11 15:20:11,559 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-11 15:20:11,568 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578727211.56-163450819838282 `" && echo ansible-tmp-1578727211.56-163450819838282="` echo /root/.ansible/tmp/ansible-tmp-1578727211.56-163450819838282 `" ) && sleep 0'
2020-01-11 15:20:11,777 p=19262 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-11 15:20:11,778 p=19262 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-19262qaxPze/tmpOeCdcL TO /root/.ansible/tmp/ansible-tmp-1578727211.56-163450819838282/AnsiballZ_command.py
2020-01-11 15:20:11,779 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578727211.56-163450819838282/ /root/.ansible/tmp/ansible-tmp-1578727211.56-163450819838282/AnsiballZ_command.py && sleep 0'
2020-01-11 15:20:11,788 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578727211.56-163450819838282/AnsiballZ_command.py && sleep 0'
2020-01-11 15:20:12,888 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578727211.56-163450819838282/ > /dev/null 2>&1 && sleep 0'
2020-01-11 15:20:12,900 p=19262 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "rm", 
        "-rf", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:01.003441", 
    "end": "2020-01-11 15:20:12.877742", 
    "invocation": {
        "module_args": {
            "_raw_params": "rm -rf /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-11 15:20:11.874301", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-11 15:20:12,940 p=19262 u=root |  TASK [msk.kafka : Check directory exists or not.] *********************************************************************************************************
2020-01-11 15:20:12,940 p=19262 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:5
2020-01-11 15:20:12,956 p=19262 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-11 15:20:12,956 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-11 15:20:12,964 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578727212.96-175992122031492 `" && echo ansible-tmp-1578727212.96-175992122031492="` echo /root/.ansible/tmp/ansible-tmp-1578727212.96-175992122031492 `" ) && sleep 0'
2020-01-11 15:20:13,175 p=19262 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/files/stat.py
2020-01-11 15:20:13,175 p=19262 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-19262qaxPze/tmpnExpu6 TO /root/.ansible/tmp/ansible-tmp-1578727212.96-175992122031492/AnsiballZ_stat.py
2020-01-11 15:20:13,176 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578727212.96-175992122031492/ /root/.ansible/tmp/ansible-tmp-1578727212.96-175992122031492/AnsiballZ_stat.py && sleep 0'
2020-01-11 15:20:13,185 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578727212.96-175992122031492/AnsiballZ_stat.py && sleep 0'
2020-01-11 15:20:13,279 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578727212.96-175992122031492/ > /dev/null 2>&1 && sleep 0'
2020-01-11 15:20:13,292 p=19262 u=root |  ok: [localhost] => {
    "changed": false, 
    "invocation": {
        "module_args": {
            "checksum_algorithm": "sha1", 
            "follow": false, 
            "get_attributes": true, 
            "get_checksum": true, 
            "get_md5": null, 
            "get_mime": true, 
            "path": "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
        }
    }, 
    "stat": {
        "exists": false
    }
}
2020-01-11 15:20:13,332 p=19262 u=root |  TASK [msk.kafka : copy template file] *********************************************************************************************************************
2020-01-11 15:20:13,332 p=19262 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:9
2020-01-11 15:20:13,351 p=19262 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-11 15:20:13,352 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-11 15:20:13,360 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578727213.35-146186935570680 `" && echo ansible-tmp-1578727213.35-146186935570680="` echo /root/.ansible/tmp/ansible-tmp-1578727213.35-146186935570680 `" ) && sleep 0'
2020-01-11 15:20:13,372 p=19262 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/files/stat.py
2020-01-11 15:20:13,373 p=19262 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-19262qaxPze/tmpGgMopp TO /root/.ansible/tmp/ansible-tmp-1578727213.35-146186935570680/AnsiballZ_stat.py
2020-01-11 15:20:13,373 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578727213.35-146186935570680/ /root/.ansible/tmp/ansible-tmp-1578727213.35-146186935570680/AnsiballZ_stat.py && sleep 0'
2020-01-11 15:20:13,382 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578727213.35-146186935570680/AnsiballZ_stat.py && sleep 0'
2020-01-11 15:20:13,476 p=19262 u=root |  <127.0.0.1> PUT /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json-tempalte TO /root/.ansible/tmp/ansible-tmp-1578727213.35-146186935570680/source
2020-01-11 15:20:13,477 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578727213.35-146186935570680/ /root/.ansible/tmp/ansible-tmp-1578727213.35-146186935570680/source && sleep 0'
2020-01-11 15:20:13,705 p=19262 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/files/copy.py
2020-01-11 15:20:13,705 p=19262 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-19262qaxPze/tmpu8uYPC TO /root/.ansible/tmp/ansible-tmp-1578727213.35-146186935570680/AnsiballZ_copy.py
2020-01-11 15:20:13,706 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578727213.35-146186935570680/ /root/.ansible/tmp/ansible-tmp-1578727213.35-146186935570680/AnsiballZ_copy.py && sleep 0'
2020-01-11 15:20:13,715 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578727213.35-146186935570680/AnsiballZ_copy.py && sleep 0'
2020-01-11 15:20:13,812 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578727213.35-146186935570680/ > /dev/null 2>&1 && sleep 0'
2020-01-11 15:20:13,825 p=19262 u=root |  changed: [localhost] => {
    "changed": true, 
    "checksum": "af7824e4f0ac91a5fad3b6c39bafd7df4082ab4f", 
    "dest": "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
    "diff": [], 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "_original_basename": "brokernodegroupinfo.json-tempalte", 
            "attributes": null, 
            "backup": false, 
            "checksum": "af7824e4f0ac91a5fad3b6c39bafd7df4082ab4f", 
            "content": null, 
            "delimiter": null, 
            "dest": "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "directory_mode": null, 
            "follow": false, 
            "force": true, 
            "group": "root", 
            "local_follow": null, 
            "mode": "0775", 
            "owner": "root", 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "/root/.ansible/tmp/ansible-tmp-1578727213.35-146186935570680/source", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "md5sum": "e1e39ebcb39175b6ad8105ace396c003", 
    "mode": "0775", 
    "owner": "root", 
    "size": 332, 
    "src": "/root/.ansible/tmp/ansible-tmp-1578727213.35-146186935570680/source", 
    "state": "file", 
    "uid": 0
}
2020-01-11 15:20:13,863 p=19262 u=root |  TASK [msk.kafka : Replace kafka cluster type values] ******************************************************************************************************
2020-01-11 15:20:13,864 p=19262 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:13
2020-01-11 15:20:13,879 p=19262 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-11 15:20:13,879 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-11 15:20:13,887 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578727213.88-29921282266838 `" && echo ansible-tmp-1578727213.88-29921282266838="` echo /root/.ansible/tmp/ansible-tmp-1578727213.88-29921282266838 `" ) && sleep 0'
2020-01-11 15:20:13,899 p=19262 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-11 15:20:13,900 p=19262 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-19262qaxPze/tmpdsvUSD TO /root/.ansible/tmp/ansible-tmp-1578727213.88-29921282266838/AnsiballZ_command.py
2020-01-11 15:20:13,900 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578727213.88-29921282266838/ /root/.ansible/tmp/ansible-tmp-1578727213.88-29921282266838/AnsiballZ_command.py && sleep 0'
2020-01-11 15:20:13,908 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578727213.88-29921282266838/AnsiballZ_command.py && sleep 0'
2020-01-11 15:20:14,006 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578727213.88-29921282266838/ > /dev/null 2>&1 && sleep 0'
2020-01-11 15:20:14,018 p=19262 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "sed", 
        "-i", 
        "s/kafka_cluster_type/kafka.m5.large/g", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:00.003197", 
    "end": "2020-01-11 15:20:13.996285", 
    "invocation": {
        "module_args": {
            "_raw_params": "sed -i \"s/kafka_cluster_type/kafka.m5.large/g\"  /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-11 15:20:13.993088", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-11 15:20:14,058 p=19262 u=root |  TASK [msk.kafka : Replace subnet msk ids00 values] ********************************************************************************************************
2020-01-11 15:20:14,058 p=19262 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:16
2020-01-11 15:20:14,073 p=19262 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-11 15:20:14,073 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-11 15:20:14,081 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578727214.07-207179942884725 `" && echo ansible-tmp-1578727214.07-207179942884725="` echo /root/.ansible/tmp/ansible-tmp-1578727214.07-207179942884725 `" ) && sleep 0'
2020-01-11 15:20:14,093 p=19262 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-11 15:20:14,094 p=19262 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-19262qaxPze/tmp8VbDVP TO /root/.ansible/tmp/ansible-tmp-1578727214.07-207179942884725/AnsiballZ_command.py
2020-01-11 15:20:14,094 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578727214.07-207179942884725/ /root/.ansible/tmp/ansible-tmp-1578727214.07-207179942884725/AnsiballZ_command.py && sleep 0'
2020-01-11 15:20:14,103 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578727214.07-207179942884725/AnsiballZ_command.py && sleep 0'
2020-01-11 15:20:14,202 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578727214.07-207179942884725/ > /dev/null 2>&1 && sleep 0'
2020-01-11 15:20:14,214 p=19262 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "sed", 
        "-i", 
        "s/subnet_msk_ids00/subnet-06c1d074817811db3/g", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:00.003231", 
    "end": "2020-01-11 15:20:14.192549", 
    "invocation": {
        "module_args": {
            "_raw_params": "sed -i \"s/subnet_msk_ids00/subnet-06c1d074817811db3/g\" /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-11 15:20:14.189318", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-11 15:20:14,254 p=19262 u=root |  TASK [msk.kafka : Replace subnet msk ids01 values] ********************************************************************************************************
2020-01-11 15:20:14,254 p=19262 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:19
2020-01-11 15:20:14,269 p=19262 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-11 15:20:14,269 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-11 15:20:14,278 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578727214.27-75359725401164 `" && echo ansible-tmp-1578727214.27-75359725401164="` echo /root/.ansible/tmp/ansible-tmp-1578727214.27-75359725401164 `" ) && sleep 0'
2020-01-11 15:20:14,289 p=19262 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-11 15:20:14,290 p=19262 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-19262qaxPze/tmpkAxgqQ TO /root/.ansible/tmp/ansible-tmp-1578727214.27-75359725401164/AnsiballZ_command.py
2020-01-11 15:20:14,290 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578727214.27-75359725401164/ /root/.ansible/tmp/ansible-tmp-1578727214.27-75359725401164/AnsiballZ_command.py && sleep 0'
2020-01-11 15:20:14,298 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578727214.27-75359725401164/AnsiballZ_command.py && sleep 0'
2020-01-11 15:20:14,397 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578727214.27-75359725401164/ > /dev/null 2>&1 && sleep 0'
2020-01-11 15:20:14,410 p=19262 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "sed", 
        "-i", 
        "s/subnet_msk_ids01/subnet-0046b05f2d4006487/g", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:00.003260", 
    "end": "2020-01-11 15:20:14.387509", 
    "invocation": {
        "module_args": {
            "_raw_params": "sed -i \"s/subnet_msk_ids01/subnet-0046b05f2d4006487/g\" /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-11 15:20:14.384249", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-11 15:20:14,450 p=19262 u=root |  TASK [msk.kafka : Replace subnet msk ids02 values] ********************************************************************************************************
2020-01-11 15:20:14,450 p=19262 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:22
2020-01-11 15:20:14,465 p=19262 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-11 15:20:14,465 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-11 15:20:14,474 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578727214.46-169943095455199 `" && echo ansible-tmp-1578727214.46-169943095455199="` echo /root/.ansible/tmp/ansible-tmp-1578727214.46-169943095455199 `" ) && sleep 0'
2020-01-11 15:20:14,485 p=19262 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-11 15:20:14,485 p=19262 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-19262qaxPze/tmpeWedeU TO /root/.ansible/tmp/ansible-tmp-1578727214.46-169943095455199/AnsiballZ_command.py
2020-01-11 15:20:14,486 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578727214.46-169943095455199/ /root/.ansible/tmp/ansible-tmp-1578727214.46-169943095455199/AnsiballZ_command.py && sleep 0'
2020-01-11 15:20:14,494 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578727214.46-169943095455199/AnsiballZ_command.py && sleep 0'
2020-01-11 15:20:14,591 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578727214.46-169943095455199/ > /dev/null 2>&1 && sleep 0'
2020-01-11 15:20:14,603 p=19262 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "sed", 
        "-i", 
        "s/subnet_msk_ids02/subnet-0f699b5cd13046bcb/g", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:00.003122", 
    "end": "2020-01-11 15:20:14.581728", 
    "invocation": {
        "module_args": {
            "_raw_params": "sed -i \"s/subnet_msk_ids02/subnet-0f699b5cd13046bcb/g\" /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-11 15:20:14.578606", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-11 15:20:14,643 p=19262 u=root |  TASK [msk.kafka : Replace kafka cluster type values] ******************************************************************************************************
2020-01-11 15:20:14,643 p=19262 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:25
2020-01-11 15:20:14,659 p=19262 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-11 15:20:14,659 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-11 15:20:14,668 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578727214.66-178064071637489 `" && echo ansible-tmp-1578727214.66-178064071637489="` echo /root/.ansible/tmp/ansible-tmp-1578727214.66-178064071637489 `" ) && sleep 0'
2020-01-11 15:20:14,679 p=19262 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-11 15:20:14,679 p=19262 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-19262qaxPze/tmpkEBu8f TO /root/.ansible/tmp/ansible-tmp-1578727214.66-178064071637489/AnsiballZ_command.py
2020-01-11 15:20:14,680 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578727214.66-178064071637489/ /root/.ansible/tmp/ansible-tmp-1578727214.66-178064071637489/AnsiballZ_command.py && sleep 0'
2020-01-11 15:20:14,688 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578727214.66-178064071637489/AnsiballZ_command.py && sleep 0'
2020-01-11 15:20:14,785 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578727214.66-178064071637489/ > /dev/null 2>&1 && sleep 0'
2020-01-11 15:20:14,797 p=19262 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "sed", 
        "-i", 
        "s/sg_all_id/sg-004a004e0482c5105/g", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:00.003166", 
    "end": "2020-01-11 15:20:14.775720", 
    "invocation": {
        "module_args": {
            "_raw_params": "sed -i \"s/sg_all_id/sg-004a004e0482c5105/g\"  /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-11 15:20:14.772554", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-11 15:20:14,837 p=19262 u=root |  TASK [msk.kafka : Replace kafka cluster type values] ******************************************************************************************************
2020-01-11 15:20:14,837 p=19262 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/replace_tempate.yml:28
2020-01-11 15:20:14,852 p=19262 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-11 15:20:14,852 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-11 15:20:14,861 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578727214.85-112755764836296 `" && echo ansible-tmp-1578727214.85-112755764836296="` echo /root/.ansible/tmp/ansible-tmp-1578727214.85-112755764836296 `" ) && sleep 0'
2020-01-11 15:20:14,872 p=19262 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-11 15:20:14,873 p=19262 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-19262qaxPze/tmpscdYt4 TO /root/.ansible/tmp/ansible-tmp-1578727214.85-112755764836296/AnsiballZ_command.py
2020-01-11 15:20:14,873 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578727214.85-112755764836296/ /root/.ansible/tmp/ansible-tmp-1578727214.85-112755764836296/AnsiballZ_command.py && sleep 0'
2020-01-11 15:20:14,881 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578727214.85-112755764836296/AnsiballZ_command.py && sleep 0'
2020-01-11 15:20:14,980 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578727214.85-112755764836296/ > /dev/null 2>&1 && sleep 0'
2020-01-11 15:20:14,993 p=19262 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "sed", 
        "-i", 
        "s/kafka_instance_size/100/g", 
        "/home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json"
    ], 
    "delta": "0:00:00.003206", 
    "end": "2020-01-11 15:20:14.970574", 
    "invocation": {
        "module_args": {
            "_raw_params": "sed -i \"s/kafka_instance_size/100/g\" /home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-11 15:20:14.967368", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2020-01-11 15:20:15,033 p=19262 u=root |  TASK [msk.kafka : include_tasks] **************************************************************************************************************************
2020-01-11 15:20:15,033 p=19262 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/main.yml:4
2020-01-11 15:20:15,088 p=19262 u=root |  included: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk.yml for localhost
2020-01-11 15:20:15,135 p=19262 u=root |  TASK [msk.kafka : Upgrade AWS elastiCache redis cluster] **************************************************************************************************
2020-01-11 15:20:15,136 p=19262 u=root |  task path: /home/centos/aws-project/007.kafka/roles/msk.kafka/tasks/msk.yml:14
2020-01-11 15:20:15,154 p=19262 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2020-01-11 15:20:15,154 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2020-01-11 15:20:15,163 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1578727215.15-182831340195514 `" && echo ansible-tmp-1578727215.15-182831340195514="` echo /root/.ansible/tmp/ansible-tmp-1578727215.15-182831340195514 `" ) && sleep 0'
2020-01-11 15:20:15,175 p=19262 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
2020-01-11 15:20:15,176 p=19262 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-19262qaxPze/tmpPC0OYT TO /root/.ansible/tmp/ansible-tmp-1578727215.15-182831340195514/AnsiballZ_command.py
2020-01-11 15:20:15,177 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1578727215.15-182831340195514/ /root/.ansible/tmp/ansible-tmp-1578727215.15-182831340195514/AnsiballZ_command.py && sleep 0'
2020-01-11 15:20:15,186 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1578727215.15-182831340195514/AnsiballZ_command.py && sleep 0'
2020-01-11 15:20:22,549 p=19262 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1578727215.15-182831340195514/ > /dev/null 2>&1 && sleep 0'
2020-01-11 15:20:22,561 p=19262 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "aws", 
        "kafka", 
        "create-cluster", 
        "--cluster-name", 
        "M120-test-kafka", 
        "--broker-node-group-info", 
        "file:///home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json", 
        "--encryption-info", 
        "file:///home/centos/aws-project/007.kafka/roles/msk.kafka/templates/encryptioninfo.json", 
        "--kafka-version", 
        "2.2.1", 
        "--number-of-broker-nodes", 
        "3", 
        "--enhanced-monitoring", 
        "PER_TOPIC_PER_BROKER", 
        "--region", 
        "ap-southeast-1"
    ], 
    "delta": "0:00:07.265042", 
    "end": "2020-01-11 15:20:22.538656", 
    "invocation": {
        "module_args": {
            "_raw_params": "aws kafka create-cluster --cluster-name \"M120-test-kafka\"  --broker-node-group-info \"file:///home/centos/aws-project/007.kafka/roles/msk.kafka/templates/brokernodegroupinfo.json\"  --encryption-info \"file:///home/centos/aws-project/007.kafka/roles/msk.kafka/templates/encryptioninfo.json\"  --kafka-version \"2.2.1\"  --number-of-broker-nodes \"3\"  --enhanced-monitoring PER_TOPIC_PER_BROKER  --region \"ap-southeast-1\"\n", 
            "_uses_shell": false, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-01-11 15:20:15.273614", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "{\n    \"ClusterName\": \"M120-test-kafka\", \n    \"State\": \"CREATING\", \n    \"ClusterArn\": \"arn:aws:kafka:ap-southeast-1:838988372941:cluster/M120-test-kafka/9f642239-853b-457a-b602-022ae92227b8-4\"\n}", 
    "stdout_lines": [
        "{", 
        "    \"ClusterName\": \"M120-test-kafka\", ", 
        "    \"State\": \"CREATING\", ", 
        "    \"ClusterArn\": \"arn:aws:kafka:ap-southeast-1:838988372941:cluster/M120-test-kafka/9f642239-853b-457a-b602-022ae92227b8-4\"", 
        "}"
    ]
}
2020-01-11 15:20:22,562 p=19262 u=root |  META: ran handlers
2020-01-11 15:20:22,563 p=19262 u=root |  META: ran handlers
2020-01-11 15:20:22,564 p=19262 u=root |  PLAY RECAP ************************************************************************************************************************************************
2020-01-11 15:20:22,564 p=19262 u=root |  localhost                  : ok=21   changed=9    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
