
2019-09-13 19:45:58,800 p=11635 u=root |  ansible-playbook 2.8.4
  config file = /home/centos/cloudwatch/ansible.cfg
  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python2.7/site-packages/ansible
  executable location = /bin/ansible-playbook
  python version = 2.7.5 (default, Jun 20 2019, 20:27:34) [GCC 4.8.5 20150623 (Red Hat 4.8.5-36)]
2019-09-13 19:45:58,800 p=11635 u=root |  Using /home/centos/cloudwatch/ansible.cfg as config file
2019-09-13 19:45:58,808 p=11635 u=root |  host_list declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 19:45:58,808 p=11635 u=root |  script declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 19:45:58,808 p=11635 u=root |  auto declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 19:45:58,812 p=11635 u=root |  Parsed /etc/ansible/hosts inventory source with ini plugin
2019-09-13 19:45:58,813 p=11635 u=root |   [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2019-09-13 19:45:59,034 p=11635 u=root |  statically imported: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/instance_id_fact.yml
2019-09-13 19:45:59,248 p=11635 u=root |  PLAYBOOK: EC2_Alarms.yml ***********************************************************************************************************************************************************************************
2019-09-13 19:45:59,248 p=11635 u=root |  1 plays in EC2_Alarms.yml
2019-09-13 19:45:59,277 p=11635 u=root |  PLAY [Create IT Monitor EC2 vHost] *************************************************************************************************************************************************************************
2019-09-13 19:45:59,288 p=11635 u=root |  TASK [Gathering Facts] *************************************************************************************************************************************************************************************
2019-09-13 19:45:59,288 p=11635 u=root |  task path: /home/centos/cloudwatch/EC2_Alarms.yml:2
2019-09-13 19:45:59,299 p=11635 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:45:59,299 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:45:59,306 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568403959.3-280755362652002 `" && echo ansible-tmp-1568403959.3-280755362652002="` echo /root/.ansible/tmp/ansible-tmp-1568403959.3-280755362652002 `" ) && sleep 0'
2019-09-13 19:45:59,676 p=11635 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/system/setup.py
2019-09-13 19:45:59,676 p=11635 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11635t8xxVi/tmpMxhOnP TO /root/.ansible/tmp/ansible-tmp-1568403959.3-280755362652002/AnsiballZ_setup.py
2019-09-13 19:45:59,677 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568403959.3-280755362652002/ /root/.ansible/tmp/ansible-tmp-1568403959.3-280755362652002/AnsiballZ_setup.py && sleep 0'
2019-09-13 19:45:59,685 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568403959.3-280755362652002/AnsiballZ_setup.py && sleep 0'
2019-09-13 19:46:00,020 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568403959.3-280755362652002/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:46:00,053 p=11635 u=root |  ok: [localhost]
2019-09-13 19:46:00,054 p=11635 u=root |  META: ran handlers
2019-09-13 19:46:00,071 p=11635 u=root |  TASK [ec2.metric_alarm : VPC facts] ************************************************************************************************************************************************************************
2019-09-13 19:46:00,071 p=11635 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/instance_id_fact.yml:3
2019-09-13 19:46:00,087 p=11635 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:46:00,087 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:46:00,095 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568403960.09-195804797421302 `" && echo ansible-tmp-1568403960.09-195804797421302="` echo /root/.ansible/tmp/ansible-tmp-1568403960.09-195804797421302 `" ) && sleep 0'
2019-09-13 19:46:00,313 p=11635 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_vpc_net_facts.py
2019-09-13 19:46:00,313 p=11635 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11635t8xxVi/tmpXXBhbf TO /root/.ansible/tmp/ansible-tmp-1568403960.09-195804797421302/AnsiballZ_ec2_vpc_net_facts.py
2019-09-13 19:46:00,314 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568403960.09-195804797421302/ /root/.ansible/tmp/ansible-tmp-1568403960.09-195804797421302/AnsiballZ_ec2_vpc_net_facts.py && sleep 0'
2019-09-13 19:46:00,322 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568403960.09-195804797421302/AnsiballZ_ec2_vpc_net_facts.py && sleep 0'
2019-09-13 19:46:01,171 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568403960.09-195804797421302/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:46:01,184 p=11635 u=root |  ok: [localhost] => {
    "changed": false, 
    "invocation": {
        "module_args": {
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "debug_botocore_endpoint_logs": false, 
            "ec2_url": null, 
            "filters": {
                "tag:Name": "banna"
            }, 
            "profile": null, 
            "region": null, 
            "security_token": null, 
            "validate_certs": true, 
            "vpc_ids": []
        }
    }, 
    "vpcs": [
        {
            "cidr_block": "10.10.0.0/16", 
            "cidr_block_association_set": [
                {
                    "association_id": "vpc-cidr-assoc-0a94dbbca27fc4830", 
                    "cidr_block": "10.10.0.0/16", 
                    "cidr_block_state": {
                        "state": "associated"
                    }
                }
            ], 
            "classic_link_dns_supported": false, 
            "classic_link_enabled": false, 
            "dhcp_options_id": "dopt-6a07350d", 
            "enable_dns_hostnames": false, 
            "enable_dns_support": true, 
            "id": "vpc-0b392999d1d961a4b", 
            "instance_tenancy": "default", 
            "is_default": false, 
            "owner_id": "607624181858", 
            "state": "available", 
            "tags": {
                "Name": "banna"
            }, 
            "vpc_id": "vpc-0b392999d1d961a4b"
        }
    ]
}
2019-09-13 19:46:01,201 p=11635 u=root |  TASK [ec2.metric_alarm : set fact: VPC ID] *****************************************************************************************************************************************************************
2019-09-13 19:46:01,201 p=11635 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/instance_id_fact.yml:10
2019-09-13 19:46:01,218 p=11635 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "vpc_id": "vpc-0b392999d1d961a4b"
    }, 
    "changed": false
}
2019-09-13 19:46:01,235 p=11635 u=root |  TASK [ec2.metric_alarm : capture instance facts] ***********************************************************************************************************************************************************
2019-09-13 19:46:01,235 p=11635 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/instance_id_fact.yml:15
2019-09-13 19:46:01,253 p=11635 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:46:01,253 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:46:01,260 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568403961.25-273323031467199 `" && echo ansible-tmp-1568403961.25-273323031467199="` echo /root/.ansible/tmp/ansible-tmp-1568403961.25-273323031467199 `" ) && sleep 0'
2019-09-13 19:46:01,480 p=11635 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_instance_facts.py
2019-09-13 19:46:01,480 p=11635 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11635t8xxVi/tmpzaVhaD TO /root/.ansible/tmp/ansible-tmp-1568403961.25-273323031467199/AnsiballZ_ec2_instance_facts.py
2019-09-13 19:46:01,481 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568403961.25-273323031467199/ /root/.ansible/tmp/ansible-tmp-1568403961.25-273323031467199/AnsiballZ_ec2_instance_facts.py && sleep 0'
2019-09-13 19:46:01,490 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568403961.25-273323031467199/AnsiballZ_ec2_instance_facts.py && sleep 0'
2019-09-13 19:46:02,225 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568403961.25-273323031467199/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:46:02,262 p=11635 u=root |  ok: [localhost] => {
    "changed": false, 
    "instances": [
        {
            "ami_launch_index": 0, 
            "architecture": "x86_64", 
            "block_device_mappings": [
                {
                    "device_name": "/dev/sda1", 
                    "ebs": {
                        "attach_time": "2019-08-23T04:25:48+00:00", 
                        "delete_on_termination": true, 
                        "status": "attached", 
                        "volume_id": "vol-016d3544223e2f652"
                    }
                }
            ], 
            "capacity_reservation_specification": {
                "capacity_reservation_preference": "open"
            }, 
            "client_token": "", 
            "cpu_options": {
                "core_count": 2, 
                "threads_per_core": 2
            }, 
            "ebs_optimized": true, 
            "ena_support": true, 
            "hibernation_options": {
                "configured": false
            }, 
            "hypervisor": "xen", 
            "image_id": "ami-0870ed7dabc81cf98", 
            "instance_id": "i-012b2a742d6b6356c", 
            "instance_type": "m5a.xlarge", 
            "key_name": "simon-test-win", 
            "launch_time": "2019-08-23T04:25:48+00:00", 
            "monitoring": {
                "state": "disabled"
            }, 
            "network_interfaces": [
                {
                    "association": {
                        "ip_owner_id": "amazon", 
                        "public_dns_name": "", 
                        "public_ip": "54.255.228.58"
                    }, 
                    "attachment": {
                        "attach_time": "2019-08-23T04:25:48+00:00", 
                        "attachment_id": "eni-attach-0cdbbc454fce44ce8", 
                        "delete_on_termination": true, 
                        "device_index": 0, 
                        "status": "attached"
                    }, 
                    "description": "Primary network interface", 
                    "groups": [
                        {
                            "group_id": "sg-0983408337a18d266", 
                            "group_name": "windows-all"
                        }
                    ], 
                    "interface_type": "interface", 
                    "ipv6_addresses": [], 
                    "mac_address": "06:23:7a:58:20:88", 
                    "network_interface_id": "eni-0e7144eed80222c0d", 
                    "owner_id": "607624181858", 
                    "private_ip_address": "10.10.10.222", 
                    "private_ip_addresses": [
                        {
                            "association": {
                                "ip_owner_id": "amazon", 
                                "public_dns_name": "", 
                                "public_ip": "54.255.228.58"
                            }, 
                            "primary": true, 
                            "private_ip_address": "10.10.10.222"
                        }
                    ], 
                    "source_dest_check": true, 
                    "status": "in-use", 
                    "subnet_id": "subnet-088bda43bbded2f4a", 
                    "vpc_id": "vpc-0b392999d1d961a4b"
                }
            ], 
            "placement": {
                "availability_zone": "ap-southeast-1a", 
                "group_name": "", 
                "tenancy": "default"
            }, 
            "platform": "windows", 
            "private_dns_name": "ip-10-10-10-222.ap-southeast-1.compute.internal", 
            "private_ip_address": "10.10.10.222", 
            "product_codes": [], 
            "public_dns_name": "", 
            "public_ip_address": "54.255.228.58", 
            "root_device_name": "/dev/sda1", 
            "root_device_type": "ebs", 
            "security_groups": [
                {
                    "group_id": "sg-0983408337a18d266", 
                    "group_name": "windows-all"
                }
            ], 
            "source_dest_check": true, 
            "state": {
                "code": 16, 
                "name": "running"
            }, 
            "state_transition_reason": "", 
            "subnet_id": "subnet-088bda43bbded2f4a", 
            "tags": {
                "Name": "simontest"
            }, 
            "virtualization_type": "hvm", 
            "vpc_id": "vpc-0b392999d1d961a4b"
        }, 
        {
            "ami_launch_index": 0, 
            "architecture": "x86_64", 
            "block_device_mappings": [
                {
                    "device_name": "/dev/sda1", 
                    "ebs": {
                        "attach_time": "2019-08-26T08:11:38+00:00", 
                        "delete_on_termination": false, 
                        "status": "attached", 
                        "volume_id": "vol-0ce54cacbf9b36b84"
                    }
                }
            ], 
            "capacity_reservation_specification": {
                "capacity_reservation_preference": "open"
            }, 
            "client_token": "15668070934436198", 
            "cpu_options": {
                "core_count": 1, 
                "threads_per_core": 2
            }, 
            "ebs_optimized": true, 
            "ena_support": true, 
            "hibernation_options": {
                "configured": false
            }, 
            "hypervisor": "xen", 
            "image_id": "ami-0b4dd9d65556cac22", 
            "instance_id": "i-097e7b29137921c72", 
            "instance_type": "m5.large", 
            "key_name": "simon-test-win", 
            "launch_time": "2019-08-26T08:11:37+00:00", 
            "monitoring": {
                "state": "disabled"
            }, 
            "network_interfaces": [
                {
                    "association": {
                        "ip_owner_id": "amazon", 
                        "public_dns_name": "", 
                        "public_ip": "13.229.227.108"
                    }, 
                    "attachment": {
                        "attach_time": "2019-08-26T08:11:37+00:00", 
                        "attachment_id": "eni-attach-043955a62732ee4bb", 
                        "delete_on_termination": true, 
                        "device_index": 0, 
                        "status": "attached"
                    }, 
                    "description": "Primary network interface", 
                    "groups": [
                        {
                            "group_id": "sg-0253280c071c020be", 
                            "group_name": "banna_node_ssh"
                        }
                    ], 
                    "interface_type": "interface", 
                    "ipv6_addresses": [], 
                    "mac_address": "06:fd:e3:5b:67:e4", 
                    "network_interface_id": "eni-070495043c5b5f587", 
                    "owner_id": "607624181858", 
                    "private_ip_address": "10.10.10.183", 
                    "private_ip_addresses": [
                        {
                            "association": {
                                "ip_owner_id": "amazon", 
                                "public_dns_name": "", 
                                "public_ip": "13.229.227.108"
                            }, 
                            "primary": true, 
                            "private_ip_address": "10.10.10.183"
                        }
                    ], 
                    "source_dest_check": true, 
                    "status": "in-use", 
                    "subnet_id": "subnet-088bda43bbded2f4a", 
                    "vpc_id": "vpc-0b392999d1d961a4b"
                }
            ], 
            "placement": {
                "availability_zone": "ap-southeast-1a", 
                "group_name": "", 
                "tenancy": "default"
            }, 
            "private_dns_name": "ip-10-10-10-183.ap-southeast-1.compute.internal", 
            "private_ip_address": "10.10.10.183", 
            "product_codes": [
                {
                    "product_code_id": "aw0evgkw8e5c1q413zgy5pjce", 
                    "product_code_type": "marketplace"
                }
            ], 
            "public_dns_name": "", 
            "public_ip_address": "13.229.227.108", 
            "root_device_name": "/dev/sda1", 
            "root_device_type": "ebs", 
            "security_groups": [
                {
                    "group_id": "sg-0253280c071c020be", 
                    "group_name": "banna_node_ssh"
                }
            ], 
            "source_dest_check": true, 
            "state": {
                "code": 16, 
                "name": "running"
            }, 
            "state_transition_reason": "", 
            "subnet_id": "subnet-088bda43bbded2f4a", 
            "tags": {
                "Name": "simontest"
            }, 
            "virtualization_type": "hvm", 
            "vpc_id": "vpc-0b392999d1d961a4b"
        }, 
        {
            "ami_launch_index": 0, 
            "architecture": "x86_64", 
            "block_device_mappings": [
                {
                    "device_name": "/dev/sda1", 
                    "ebs": {
                        "attach_time": "2019-09-13T13:09:41+00:00", 
                        "delete_on_termination": false, 
                        "status": "attached", 
                        "volume_id": "vol-0e8f938843f50eeec"
                    }
                }
            ], 
            "capacity_reservation_specification": {
                "capacity_reservation_preference": "open"
            }, 
            "client_token": "4ad5b4aa-f94c-ce2c-a2be-62c3e99d0b2d_subnet-05bcad98343c72643_1", 
            "cpu_options": {
                "core_count": 2, 
                "threads_per_core": 1
            }, 
            "ebs_optimized": false, 
            "ena_support": true, 
            "hibernation_options": {
                "configured": false
            }, 
            "hypervisor": "xen", 
            "image_id": "ami-08dcd6ec842f060c6", 
            "instance_id": "i-070cd6f3e291cc696", 
            "instance_type": "t2.medium", 
            "key_name": "banna2.0", 
            "launch_time": "2019-09-13T13:09:40+00:00", 
            "monitoring": {
                "state": "enabled"
            }, 
            "network_interfaces": [
                {
                    "attachment": {
                        "attach_time": "2019-09-13T13:09:40+00:00", 
                        "attachment_id": "eni-attach-0f9b56b25d08736e5", 
                        "delete_on_termination": true, 
                        "device_index": 0, 
                        "status": "attached"
                    }, 
                    "description": "", 
                    "groups": [
                        {
                            "group_id": "sg-0253280c071c020be", 
                            "group_name": "banna_node_ssh"
                        }, 
                        {
                            "group_id": "sg-081234813d3004af1", 
                            "group_name": "banna-Node_all"
                        }
                    ], 
                    "interface_type": "interface", 
                    "ipv6_addresses": [], 
                    "mac_address": "0a:4d:b1:e3:2d:3c", 
                    "network_interface_id": "eni-078f0591601d80fb1", 
                    "owner_id": "607624181858", 
                    "private_ip_address": "10.10.12.177", 
                    "private_ip_addresses": [
                        {
                            "primary": true, 
                            "private_ip_address": "10.10.12.177"
                        }
                    ], 
                    "source_dest_check": true, 
                    "status": "in-use", 
                    "subnet_id": "subnet-05bcad98343c72643", 
                    "vpc_id": "vpc-0b392999d1d961a4b"
                }
            ], 
            "placement": {
                "availability_zone": "ap-southeast-1c", 
                "group_name": "", 
                "tenancy": "default"
            }, 
            "private_dns_name": "ip-10-10-12-177.ap-southeast-1.compute.internal", 
            "private_ip_address": "10.10.12.177", 
            "product_codes": [
                {
                    "product_code_id": "aw0evgkw8e5c1q413zgy5pjce", 
                    "product_code_type": "marketplace"
                }
            ], 
            "public_dns_name": "", 
            "root_device_name": "/dev/sda1", 
            "root_device_type": "ebs", 
            "security_groups": [
                {
                    "group_id": "sg-0253280c071c020be", 
                    "group_name": "banna_node_ssh"
                }, 
                {
                    "group_id": "sg-081234813d3004af1", 
                    "group_name": "banna-Node_all"
                }
            ], 
            "source_dest_check": true, 
            "state": {
                "code": 16, 
                "name": "running"
            }, 
            "state_transition_reason": "", 
            "subnet_id": "subnet-05bcad98343c72643", 
            "tags": {
                "Environment": "Production", 
                "Name": "banna", 
                "aws:autoscaling:groupName": " banna-asg-group"
            }, 
            "virtualization_type": "hvm", 
            "vpc_id": "vpc-0b392999d1d961a4b"
        }, 
        {
            "ami_launch_index": 0, 
            "architecture": "x86_64", 
            "block_device_mappings": [
                {
                    "device_name": "/dev/sda1", 
                    "ebs": {
                        "attach_time": "2019-09-13T13:03:44+00:00", 
                        "delete_on_termination": false, 
                        "status": "attached", 
                        "volume_id": "vol-0e4d420753c30f31c"
                    }
                }
            ], 
            "capacity_reservation_specification": {
                "capacity_reservation_preference": "open"
            }, 
            "client_token": "156837982124332024", 
            "cpu_options": {
                "core_count": 2, 
                "threads_per_core": 1
            }, 
            "ebs_optimized": false, 
            "ena_support": true, 
            "hibernation_options": {
                "configured": false
            }, 
            "hypervisor": "xen", 
            "image_id": "ami-0b4dd9d65556cac22", 
            "instance_id": "i-07c99ca11bb187e05", 
            "instance_type": "t2.medium", 
            "key_name": "banna2.0", 
            "launch_time": "2019-09-13T13:03:43+00:00", 
            "monitoring": {
                "state": "enabled"
            }, 
            "network_interfaces": [
                {
                    "association": {
                        "ip_owner_id": "amazon", 
                        "public_dns_name": "", 
                        "public_ip": "52.221.224.212"
                    }, 
                    "attachment": {
                        "attach_time": "2019-09-13T13:03:43+00:00", 
                        "attachment_id": "eni-attach-0fe77e2c2c9f79f42", 
                        "delete_on_termination": true, 
                        "device_index": 0, 
                        "status": "attached"
                    }, 
                    "description": "Primary network interface", 
                    "groups": [
                        {
                            "group_id": "sg-0253280c071c020be", 
                            "group_name": "banna_node_ssh"
                        }, 
                        {
                            "group_id": "sg-081234813d3004af1", 
                            "group_name": "banna-Node_all"
                        }, 
                        {
                            "group_id": "sg-0d0b784231a27fb06", 
                            "group_name": "banna-ssh"
                        }
                    ], 
                    "interface_type": "interface", 
                    "ipv6_addresses": [], 
                    "mac_address": "06:ee:04:fa:2d:6c", 
                    "network_interface_id": "eni-0064028d3b3d49a45", 
                    "owner_id": "607624181858", 
                    "private_ip_address": "10.10.10.244", 
                    "private_ip_addresses": [
                        {
                            "association": {
                                "ip_owner_id": "amazon", 
                                "public_dns_name": "", 
                                "public_ip": "52.221.224.212"
                            }, 
                            "primary": true, 
                            "private_ip_address": "10.10.10.244"
                        }
                    ], 
                    "source_dest_check": true, 
                    "status": "in-use", 
                    "subnet_id": "subnet-088bda43bbded2f4a", 
                    "vpc_id": "vpc-0b392999d1d961a4b"
                }
            ], 
            "placement": {
                "availability_zone": "ap-southeast-1a", 
                "group_name": "", 
                "tenancy": "default"
            }, 
            "private_dns_name": "ip-10-10-10-244.ap-southeast-1.compute.internal", 
            "private_ip_address": "10.10.10.244", 
            "product_codes": [
                {
                    "product_code_id": "aw0evgkw8e5c1q413zgy5pjce", 
                    "product_code_type": "marketplace"
                }
            ], 
            "public_dns_name": "", 
            "public_ip_address": "52.221.224.212", 
            "root_device_name": "/dev/sda1", 
            "root_device_type": "ebs", 
            "security_groups": [
                {
                    "group_id": "sg-0253280c071c020be", 
                    "group_name": "banna_node_ssh"
                }, 
                {
                    "group_id": "sg-081234813d3004af1", 
                    "group_name": "banna-Node_all"
                }, 
                {
                    "group_id": "sg-0d0b784231a27fb06", 
                    "group_name": "banna-ssh"
                }
            ], 
            "source_dest_check": true, 
            "state": {
                "code": 16, 
                "name": "running"
            }, 
            "state_transition_reason": "", 
            "subnet_id": "subnet-088bda43bbded2f4a", 
            "tags": {
                "Name": "banna-ansible"
            }, 
            "virtualization_type": "hvm", 
            "vpc_id": "vpc-0b392999d1d961a4b"
        }
    ], 
    "invocation": {
        "module_args": {
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "debug_botocore_endpoint_logs": false, 
            "ec2_url": null, 
            "filters": {
                "instance-state-name": [
                    "running"
                ], 
                "vpc-id": "vpc-0b392999d1d961a4b"
            }, 
            "instance_ids": [], 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "validate_certs": true
        }
    }
}
2019-09-13 19:46:02,279 p=11635 u=root |  TASK [ec2.metric_alarm : set facts: instance IDs] **********************************************************************************************************************************************************
2019-09-13 19:46:02,279 p=11635 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/instance_id_fact.yml:23
2019-09-13 19:46:02,298 p=11635 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "instance_ids": "[AnsibleUndefined, AnsibleUndefined, AnsibleUndefined, AnsibleUndefined]"
    }, 
    "changed": false
}
2019-09-13 19:46:02,316 p=11635 u=root |  TASK [ec2.metric_alarm : include] **************************************************************************************************************************************************************************
2019-09-13 19:46:02,316 p=11635 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/main.yml:4
2019-09-13 19:46:02,357 p=11635 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 19:46:02,379 p=11635 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] ****************************************************************************************************************************************************
2019-09-13 19:46:02,379 p=11635 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 19:46:02,400 p=11635 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:46:02,400 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:46:02,408 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568403962.4-231665905287262 `" && echo ansible-tmp-1568403962.4-231665905287262="` echo /root/.ansible/tmp/ansible-tmp-1568403962.4-231665905287262 `" ) && sleep 0'
2019-09-13 19:46:02,625 p=11635 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:46:02,626 p=11635 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11635t8xxVi/tmpoRk0b_ TO /root/.ansible/tmp/ansible-tmp-1568403962.4-231665905287262/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:46:02,626 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568403962.4-231665905287262/ /root/.ansible/tmp/ansible-tmp-1568403962.4-231665905287262/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:46:02,634 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568403962.4-231665905287262/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:46:03,176 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568403962.4-231665905287262/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:46:03,188 p=11635 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-[AnsibleUndefined, AnsibleUndefined, AnsibleUndefined, AnsibleUndefined]-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "[AnsibleUndefined, AnsibleUndefined, AnsibleUndefined, AnsibleUndefined]"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "[AnsibleUndefined, AnsibleUndefined, AnsibleUndefined, AnsibleUndefined]"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-[AnsibleUndefined, AnsibleUndefined, AnsibleUndefined, AnsibleUndefined]-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 80.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:46:03.077Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-[AnsibleUndefined, AnsibleUndefined, AnsibleUndefined, AnsibleUndefined]-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 80.0, 
    "unit": "Percent"
}
2019-09-13 19:46:03,206 p=11635 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] ****************************************************************************************************************************************************
2019-09-13 19:46:03,206 p=11635 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 19:46:03,227 p=11635 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:46:03,227 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:46:03,234 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568403963.23-277703278143091 `" && echo ansible-tmp-1568403963.23-277703278143091="` echo /root/.ansible/tmp/ansible-tmp-1568403963.23-277703278143091 `" ) && sleep 0'
2019-09-13 19:46:03,244 p=11635 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:46:03,245 p=11635 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11635t8xxVi/tmpGNUuLV TO /root/.ansible/tmp/ansible-tmp-1568403963.23-277703278143091/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:46:03,246 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568403963.23-277703278143091/ /root/.ansible/tmp/ansible-tmp-1568403963.23-277703278143091/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:46:03,253 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568403963.23-277703278143091/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:46:03,809 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568403963.23-277703278143091/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:46:03,821 p=11635 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-[AnsibleUndefined, AnsibleUndefined, AnsibleUndefined, AnsibleUndefined]-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "[AnsibleUndefined, AnsibleUndefined, AnsibleUndefined, AnsibleUndefined]"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "[AnsibleUndefined, AnsibleUndefined, AnsibleUndefined, AnsibleUndefined]"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-[AnsibleUndefined, AnsibleUndefined, AnsibleUndefined, AnsibleUndefined]-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:46:03.704Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-[AnsibleUndefined, AnsibleUndefined, AnsibleUndefined, AnsibleUndefined]-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 19:46:03,838 p=11635 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] *************************************************************************************************************************
2019-09-13 19:46:03,838 p=11635 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:37
2019-09-13 19:46:03,859 p=11635 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:46:03,859 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:46:03,866 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568403963.86-171993129203605 `" && echo ansible-tmp-1568403963.86-171993129203605="` echo /root/.ansible/tmp/ansible-tmp-1568403963.86-171993129203605 `" ) && sleep 0'
2019-09-13 19:46:03,876 p=11635 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:46:03,877 p=11635 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11635t8xxVi/tmpdxzE_D TO /root/.ansible/tmp/ansible-tmp-1568403963.86-171993129203605/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:46:03,878 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568403963.86-171993129203605/ /root/.ansible/tmp/ansible-tmp-1568403963.86-171993129203605/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:46:03,885 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568403963.86-171993129203605/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:46:04,440 p=11635 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568403963.86-171993129203605/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:46:04,453 p=11635 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-[AnsibleUndefined, AnsibleUndefined, AnsibleUndefined, AnsibleUndefined]-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "[AnsibleUndefined, AnsibleUndefined, AnsibleUndefined, AnsibleUndefined]"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "[AnsibleUndefined, AnsibleUndefined, AnsibleUndefined, AnsibleUndefined]"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-[AnsibleUndefined, AnsibleUndefined, AnsibleUndefined, AnsibleUndefined]-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:46:04.335Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-[AnsibleUndefined, AnsibleUndefined, AnsibleUndefined, AnsibleUndefined]-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 19:46:04,453 p=11635 u=root |  META: ran handlers
2019-09-13 19:46:04,454 p=11635 u=root |  META: ran handlers
2019-09-13 19:46:04,455 p=11635 u=root |  PLAY RECAP *************************************************************************************************************************************************************************************************
2019-09-13 19:46:04,455 p=11635 u=root |  localhost                  : ok=9    changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2019-09-13 19:50:09,338 p=11822 u=root |  ansible-playbook 2.8.4
  config file = /home/centos/cloudwatch/ansible.cfg
  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python2.7/site-packages/ansible
  executable location = /bin/ansible-playbook
  python version = 2.7.5 (default, Jun 20 2019, 20:27:34) [GCC 4.8.5 20150623 (Red Hat 4.8.5-36)]
2019-09-13 19:50:09,338 p=11822 u=root |  Using /home/centos/cloudwatch/ansible.cfg as config file
2019-09-13 19:50:09,346 p=11822 u=root |  host_list declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 19:50:09,346 p=11822 u=root |  script declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 19:50:09,346 p=11822 u=root |  auto declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 19:50:09,349 p=11822 u=root |  Parsed /etc/ansible/hosts inventory source with ini plugin
2019-09-13 19:50:09,351 p=11822 u=root |   [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2019-09-13 19:50:09,782 p=11822 u=root |  PLAYBOOK: EC2_Alarms.yml ***********************************************************************************************************************************************************************************
2019-09-13 19:50:09,782 p=11822 u=root |  1 plays in EC2_Alarms.yml
2019-09-13 19:50:09,812 p=11822 u=root |  PLAY [Create IT Monitor EC2 vHost] *************************************************************************************************************************************************************************
2019-09-13 19:50:09,821 p=11822 u=root |  TASK [Gathering Facts] *************************************************************************************************************************************************************************************
2019-09-13 19:50:09,821 p=11822 u=root |  task path: /home/centos/cloudwatch/EC2_Alarms.yml:2
2019-09-13 19:50:09,831 p=11822 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:50:09,832 p=11822 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:50:09,839 p=11822 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404209.83-134624778209697 `" && echo ansible-tmp-1568404209.83-134624778209697="` echo /root/.ansible/tmp/ansible-tmp-1568404209.83-134624778209697 `" ) && sleep 0'
2019-09-13 19:50:10,212 p=11822 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/system/setup.py
2019-09-13 19:50:10,212 p=11822 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11822gqWaev/tmpYasWac TO /root/.ansible/tmp/ansible-tmp-1568404209.83-134624778209697/AnsiballZ_setup.py
2019-09-13 19:50:10,213 p=11822 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404209.83-134624778209697/ /root/.ansible/tmp/ansible-tmp-1568404209.83-134624778209697/AnsiballZ_setup.py && sleep 0'
2019-09-13 19:50:10,221 p=11822 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404209.83-134624778209697/AnsiballZ_setup.py && sleep 0'
2019-09-13 19:50:10,771 p=11822 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404209.83-134624778209697/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:50:10,802 p=11822 u=root |  ok: [localhost]
2019-09-13 19:50:10,803 p=11822 u=root |  META: ran handlers
2019-09-13 19:50:10,820 p=11822 u=root |  TASK [ec2.metric_alarm : include] **************************************************************************************************************************************************************************
2019-09-13 19:50:10,821 p=11822 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/main.yml:4
2019-09-13 19:50:10,833 p=11822 u=root |  fatal: [localhost]: FAILED! => {
    "msg": "'instance_ids' is undefined"
}
2019-09-13 19:50:10,833 p=11822 u=root |  NO MORE HOSTS LEFT *****************************************************************************************************************************************************************************************
2019-09-13 19:50:10,833 p=11822 u=root |  NO MORE HOSTS LEFT *****************************************************************************************************************************************************************************************
2019-09-13 19:50:10,834 p=11822 u=root |  PLAY RECAP *************************************************************************************************************************************************************************************************
2019-09-13 19:50:10,834 p=11822 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2019-09-13 19:50:55,193 p=11879 u=root |  ansible-playbook 2.8.4
  config file = /home/centos/cloudwatch/ansible.cfg
  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python2.7/site-packages/ansible
  executable location = /bin/ansible-playbook
  python version = 2.7.5 (default, Jun 20 2019, 20:27:34) [GCC 4.8.5 20150623 (Red Hat 4.8.5-36)]
2019-09-13 19:50:55,193 p=11879 u=root |  Using /home/centos/cloudwatch/ansible.cfg as config file
2019-09-13 19:50:55,201 p=11879 u=root |  host_list declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 19:50:55,201 p=11879 u=root |  script declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 19:50:55,201 p=11879 u=root |  auto declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 19:50:55,204 p=11879 u=root |  Parsed /etc/ansible/hosts inventory source with ini plugin
2019-09-13 19:50:55,206 p=11879 u=root |   [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2019-09-13 19:50:55,627 p=11879 u=root |  PLAYBOOK: EC2_Alarms.yml ***********************************************************************************************************************************************************************************
2019-09-13 19:50:55,628 p=11879 u=root |  1 plays in EC2_Alarms.yml
2019-09-13 19:50:55,658 p=11879 u=root |  PLAY [Create IT Monitor EC2 vHost] *************************************************************************************************************************************************************************
2019-09-13 19:50:55,666 p=11879 u=root |  TASK [Gathering Facts] *************************************************************************************************************************************************************************************
2019-09-13 19:50:55,666 p=11879 u=root |  task path: /home/centos/cloudwatch/EC2_Alarms.yml:2
2019-09-13 19:50:55,676 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:50:55,677 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:50:55,684 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404255.68-49508001300089 `" && echo ansible-tmp-1568404255.68-49508001300089="` echo /root/.ansible/tmp/ansible-tmp-1568404255.68-49508001300089 `" ) && sleep 0'
2019-09-13 19:50:56,047 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/system/setup.py
2019-09-13 19:50:56,048 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpivx3G7 TO /root/.ansible/tmp/ansible-tmp-1568404255.68-49508001300089/AnsiballZ_setup.py
2019-09-13 19:50:56,049 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404255.68-49508001300089/ /root/.ansible/tmp/ansible-tmp-1568404255.68-49508001300089/AnsiballZ_setup.py && sleep 0'
2019-09-13 19:50:56,056 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404255.68-49508001300089/AnsiballZ_setup.py && sleep 0'
2019-09-13 19:50:56,387 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404255.68-49508001300089/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:50:56,419 p=11879 u=root |  ok: [localhost]
2019-09-13 19:50:56,420 p=11879 u=root |  META: ran handlers
2019-09-13 19:50:56,437 p=11879 u=root |  TASK [ec2.metric_alarm : include] **************************************************************************************************************************************************************************
2019-09-13 19:50:56,437 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/main.yml:4
2019-09-13 19:50:56,523 p=11879 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 19:50:56,530 p=11879 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 19:50:56,536 p=11879 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 19:50:56,542 p=11879 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 19:50:56,549 p=11879 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 19:50:56,555 p=11879 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 19:50:56,563 p=11879 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 19:50:56,569 p=11879 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 19:50:56,575 p=11879 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 19:50:56,581 p=11879 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 19:50:56,588 p=11879 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 19:50:56,594 p=11879 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 19:50:56,600 p=11879 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 19:50:56,607 p=11879 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 19:50:56,613 p=11879 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 19:50:56,619 p=11879 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 19:50:56,626 p=11879 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 19:50:56,632 p=11879 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 19:50:56,638 p=11879 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 19:50:56,644 p=11879 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 19:50:56,663 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] ****************************************************************************************************************************************************
2019-09-13 19:50:56,663 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 19:50:56,682 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:50:56,683 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:50:56,690 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404256.68-94434140687575 `" && echo ansible-tmp-1568404256.68-94434140687575="` echo /root/.ansible/tmp/ansible-tmp-1568404256.68-94434140687575 `" ) && sleep 0'
2019-09-13 19:50:56,900 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:50:56,900 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpORiHif TO /root/.ansible/tmp/ansible-tmp-1568404256.68-94434140687575/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:50:56,901 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404256.68-94434140687575/ /root/.ansible/tmp/ansible-tmp-1568404256.68-94434140687575/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:50:56,909 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404256.68-94434140687575/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:50:57,454 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404256.68-94434140687575/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:50:57,466 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-00c87eaf4a801232f-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-00c87eaf4a801232f"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-00c87eaf4a801232f"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-00c87eaf4a801232f-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 80.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:50:57.358Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-00c87eaf4a801232f-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 80.0, 
    "unit": "Percent"
}
2019-09-13 19:50:57,483 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] ****************************************************************************************************************************************************
2019-09-13 19:50:57,483 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 19:50:57,505 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:50:57,506 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:50:57,513 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404257.51-56399245084317 `" && echo ansible-tmp-1568404257.51-56399245084317="` echo /root/.ansible/tmp/ansible-tmp-1568404257.51-56399245084317 `" ) && sleep 0'
2019-09-13 19:50:57,523 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:50:57,524 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmp9QRt4b TO /root/.ansible/tmp/ansible-tmp-1568404257.51-56399245084317/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:50:57,525 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404257.51-56399245084317/ /root/.ansible/tmp/ansible-tmp-1568404257.51-56399245084317/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:50:57,532 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404257.51-56399245084317/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:50:58,081 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404257.51-56399245084317/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:50:58,093 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-00c87eaf4a801232f-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-00c87eaf4a801232f"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-00c87eaf4a801232f"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-00c87eaf4a801232f-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:50:57.979Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-00c87eaf4a801232f-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 19:50:58,112 p=11879 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] *************************************************************************************************************************
2019-09-13 19:50:58,112 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:37
2019-09-13 19:50:58,131 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:50:58,131 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:50:58,139 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404258.13-156029469121644 `" && echo ansible-tmp-1568404258.13-156029469121644="` echo /root/.ansible/tmp/ansible-tmp-1568404258.13-156029469121644 `" ) && sleep 0'
2019-09-13 19:50:58,149 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:50:58,150 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpdHM82U TO /root/.ansible/tmp/ansible-tmp-1568404258.13-156029469121644/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:50:58,150 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404258.13-156029469121644/ /root/.ansible/tmp/ansible-tmp-1568404258.13-156029469121644/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:50:58,157 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404258.13-156029469121644/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:50:58,711 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404258.13-156029469121644/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:50:58,723 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-00c87eaf4a801232f-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-00c87eaf4a801232f"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-00c87eaf4a801232f"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-00c87eaf4a801232f-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:50:58.615Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-00c87eaf4a801232f-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 19:50:58,740 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] ****************************************************************************************************************************************************
2019-09-13 19:50:58,741 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 19:50:58,761 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:50:58,761 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:50:58,768 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404258.76-159913995701528 `" && echo ansible-tmp-1568404258.76-159913995701528="` echo /root/.ansible/tmp/ansible-tmp-1568404258.76-159913995701528 `" ) && sleep 0'
2019-09-13 19:50:58,779 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:50:58,780 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmp7u1l9V TO /root/.ansible/tmp/ansible-tmp-1568404258.76-159913995701528/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:50:58,781 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404258.76-159913995701528/ /root/.ansible/tmp/ansible-tmp-1568404258.76-159913995701528/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:50:58,788 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404258.76-159913995701528/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:50:59,333 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404258.76-159913995701528/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:50:59,345 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-012b2a742d6b6356c-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-012b2a742d6b6356c"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-012b2a742d6b6356c"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-012b2a742d6b6356c-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 80.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:50:59.232Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-012b2a742d6b6356c-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 80.0, 
    "unit": "Percent"
}
2019-09-13 19:50:59,362 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] ****************************************************************************************************************************************************
2019-09-13 19:50:59,362 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 19:50:59,382 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:50:59,383 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:50:59,390 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404259.38-218628327118273 `" && echo ansible-tmp-1568404259.38-218628327118273="` echo /root/.ansible/tmp/ansible-tmp-1568404259.38-218628327118273 `" ) && sleep 0'
2019-09-13 19:50:59,400 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:50:59,401 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpeDS_db TO /root/.ansible/tmp/ansible-tmp-1568404259.38-218628327118273/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:50:59,402 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404259.38-218628327118273/ /root/.ansible/tmp/ansible-tmp-1568404259.38-218628327118273/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:50:59,410 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404259.38-218628327118273/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:50:59,945 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404259.38-218628327118273/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:50:59,957 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-012b2a742d6b6356c-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-012b2a742d6b6356c"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-012b2a742d6b6356c"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-012b2a742d6b6356c-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:50:59.856Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-012b2a742d6b6356c-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 19:50:59,974 p=11879 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] *************************************************************************************************************************
2019-09-13 19:50:59,975 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:37
2019-09-13 19:50:59,994 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:50:59,994 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:00,002 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404259.99-205664766351311 `" && echo ansible-tmp-1568404259.99-205664766351311="` echo /root/.ansible/tmp/ansible-tmp-1568404259.99-205664766351311 `" ) && sleep 0'
2019-09-13 19:51:00,014 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:00,015 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpv_EMtV TO /root/.ansible/tmp/ansible-tmp-1568404259.99-205664766351311/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:00,016 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404259.99-205664766351311/ /root/.ansible/tmp/ansible-tmp-1568404259.99-205664766351311/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:00,024 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404259.99-205664766351311/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:00,586 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404259.99-205664766351311/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:00,598 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-012b2a742d6b6356c-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-012b2a742d6b6356c"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-012b2a742d6b6356c"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-012b2a742d6b6356c-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:00.492Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-012b2a742d6b6356c-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 19:51:00,616 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] ****************************************************************************************************************************************************
2019-09-13 19:51:00,616 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 19:51:00,636 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:00,636 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:00,643 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404260.64-79043336802796 `" && echo ansible-tmp-1568404260.64-79043336802796="` echo /root/.ansible/tmp/ansible-tmp-1568404260.64-79043336802796 `" ) && sleep 0'
2019-09-13 19:51:00,654 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:00,655 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpIlwzhV TO /root/.ansible/tmp/ansible-tmp-1568404260.64-79043336802796/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:00,655 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404260.64-79043336802796/ /root/.ansible/tmp/ansible-tmp-1568404260.64-79043336802796/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:00,663 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404260.64-79043336802796/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:01,179 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404260.64-79043336802796/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:01,190 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0159423736af5bfea-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-0159423736af5bfea"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-0159423736af5bfea"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0159423736af5bfea-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 80.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:01.084Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0159423736af5bfea-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 80.0, 
    "unit": "Percent"
}
2019-09-13 19:51:01,208 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] ****************************************************************************************************************************************************
2019-09-13 19:51:01,208 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 19:51:01,228 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:01,228 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:01,236 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404261.23-60028181151165 `" && echo ansible-tmp-1568404261.23-60028181151165="` echo /root/.ansible/tmp/ansible-tmp-1568404261.23-60028181151165 `" ) && sleep 0'
2019-09-13 19:51:01,247 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:01,248 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmprV8oAv TO /root/.ansible/tmp/ansible-tmp-1568404261.23-60028181151165/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:01,248 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404261.23-60028181151165/ /root/.ansible/tmp/ansible-tmp-1568404261.23-60028181151165/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:01,256 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404261.23-60028181151165/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:01,832 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404261.23-60028181151165/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:01,844 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0159423736af5bfea-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-0159423736af5bfea"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-0159423736af5bfea"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0159423736af5bfea-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:01.731Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0159423736af5bfea-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 19:51:01,861 p=11879 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] *************************************************************************************************************************
2019-09-13 19:51:01,862 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:37
2019-09-13 19:51:01,882 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:01,882 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:01,890 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404261.88-272388382428725 `" && echo ansible-tmp-1568404261.88-272388382428725="` echo /root/.ansible/tmp/ansible-tmp-1568404261.88-272388382428725 `" ) && sleep 0'
2019-09-13 19:51:01,901 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:01,902 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmps1qJkf TO /root/.ansible/tmp/ansible-tmp-1568404261.88-272388382428725/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:01,903 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404261.88-272388382428725/ /root/.ansible/tmp/ansible-tmp-1568404261.88-272388382428725/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:01,911 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404261.88-272388382428725/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:02,500 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404261.88-272388382428725/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:02,513 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0159423736af5bfea-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-0159423736af5bfea"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-0159423736af5bfea"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-0159423736af5bfea-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:02.401Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-0159423736af5bfea-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 19:51:02,530 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] ****************************************************************************************************************************************************
2019-09-13 19:51:02,530 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 19:51:02,550 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:02,551 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:02,558 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404262.55-275560177954072 `" && echo ansible-tmp-1568404262.55-275560177954072="` echo /root/.ansible/tmp/ansible-tmp-1568404262.55-275560177954072 `" ) && sleep 0'
2019-09-13 19:51:02,569 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:02,570 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpupRiFA TO /root/.ansible/tmp/ansible-tmp-1568404262.55-275560177954072/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:02,571 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404262.55-275560177954072/ /root/.ansible/tmp/ansible-tmp-1568404262.55-275560177954072/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:02,579 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404262.55-275560177954072/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:03,153 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404262.55-275560177954072/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:03,165 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-016696a4dbac24c6d-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-016696a4dbac24c6d"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-016696a4dbac24c6d"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-016696a4dbac24c6d-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 80.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:03.063Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-016696a4dbac24c6d-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 80.0, 
    "unit": "Percent"
}
2019-09-13 19:51:03,183 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] ****************************************************************************************************************************************************
2019-09-13 19:51:03,183 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 19:51:03,203 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:03,203 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:03,210 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404263.2-182801305320966 `" && echo ansible-tmp-1568404263.2-182801305320966="` echo /root/.ansible/tmp/ansible-tmp-1568404263.2-182801305320966 `" ) && sleep 0'
2019-09-13 19:51:03,220 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:03,221 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpAliWKl TO /root/.ansible/tmp/ansible-tmp-1568404263.2-182801305320966/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:03,222 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404263.2-182801305320966/ /root/.ansible/tmp/ansible-tmp-1568404263.2-182801305320966/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:03,229 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404263.2-182801305320966/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:03,812 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404263.2-182801305320966/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:03,825 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-016696a4dbac24c6d-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-016696a4dbac24c6d"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-016696a4dbac24c6d"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-016696a4dbac24c6d-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:03.707Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-016696a4dbac24c6d-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 19:51:03,842 p=11879 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] *************************************************************************************************************************
2019-09-13 19:51:03,842 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:37
2019-09-13 19:51:03,862 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:03,862 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:03,869 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404263.86-39044492591811 `" && echo ansible-tmp-1568404263.86-39044492591811="` echo /root/.ansible/tmp/ansible-tmp-1568404263.86-39044492591811 `" ) && sleep 0'
2019-09-13 19:51:03,880 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:03,880 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpyleWad TO /root/.ansible/tmp/ansible-tmp-1568404263.86-39044492591811/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:03,881 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404263.86-39044492591811/ /root/.ansible/tmp/ansible-tmp-1568404263.86-39044492591811/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:03,888 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404263.86-39044492591811/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:04,472 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404263.86-39044492591811/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:04,484 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-016696a4dbac24c6d-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-016696a4dbac24c6d"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-016696a4dbac24c6d"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-016696a4dbac24c6d-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:04.368Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-016696a4dbac24c6d-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 19:51:04,502 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] ****************************************************************************************************************************************************
2019-09-13 19:51:04,502 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 19:51:04,521 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:04,521 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:04,529 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404264.52-170268916626322 `" && echo ansible-tmp-1568404264.52-170268916626322="` echo /root/.ansible/tmp/ansible-tmp-1568404264.52-170268916626322 `" ) && sleep 0'
2019-09-13 19:51:04,539 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:04,540 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpUdyDRG TO /root/.ansible/tmp/ansible-tmp-1568404264.52-170268916626322/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:04,541 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404264.52-170268916626322/ /root/.ansible/tmp/ansible-tmp-1568404264.52-170268916626322/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:04,548 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404264.52-170268916626322/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:05,072 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404264.52-170268916626322/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:05,084 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-01d593c11d50686ba-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-01d593c11d50686ba"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-01d593c11d50686ba"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-01d593c11d50686ba-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 80.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:04.978Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-01d593c11d50686ba-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 80.0, 
    "unit": "Percent"
}
2019-09-13 19:51:05,101 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] ****************************************************************************************************************************************************
2019-09-13 19:51:05,102 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 19:51:05,121 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:05,122 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:05,129 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404265.12-70480613650850 `" && echo ansible-tmp-1568404265.12-70480613650850="` echo /root/.ansible/tmp/ansible-tmp-1568404265.12-70480613650850 `" ) && sleep 0'
2019-09-13 19:51:05,140 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:05,140 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpYsl7k9 TO /root/.ansible/tmp/ansible-tmp-1568404265.12-70480613650850/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:05,141 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404265.12-70480613650850/ /root/.ansible/tmp/ansible-tmp-1568404265.12-70480613650850/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:05,149 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404265.12-70480613650850/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:05,806 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404265.12-70480613650850/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:05,819 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-01d593c11d50686ba-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-01d593c11d50686ba"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-01d593c11d50686ba"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-01d593c11d50686ba-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:05.694Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-01d593c11d50686ba-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 19:51:05,835 p=11879 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] *************************************************************************************************************************
2019-09-13 19:51:05,836 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:37
2019-09-13 19:51:05,855 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:05,855 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:05,862 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404265.85-26817456540323 `" && echo ansible-tmp-1568404265.85-26817456540323="` echo /root/.ansible/tmp/ansible-tmp-1568404265.85-26817456540323 `" ) && sleep 0'
2019-09-13 19:51:05,873 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:05,874 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmplAGOSJ TO /root/.ansible/tmp/ansible-tmp-1568404265.85-26817456540323/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:05,875 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404265.85-26817456540323/ /root/.ansible/tmp/ansible-tmp-1568404265.85-26817456540323/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:05,882 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404265.85-26817456540323/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:06,455 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404265.85-26817456540323/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:06,469 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-01d593c11d50686ba-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-01d593c11d50686ba"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-01d593c11d50686ba"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-01d593c11d50686ba-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:06.343Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-01d593c11d50686ba-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 19:51:06,486 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] ****************************************************************************************************************************************************
2019-09-13 19:51:06,487 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 19:51:06,506 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:06,506 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:06,513 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404266.51-39871909295181 `" && echo ansible-tmp-1568404266.51-39871909295181="` echo /root/.ansible/tmp/ansible-tmp-1568404266.51-39871909295181 `" ) && sleep 0'
2019-09-13 19:51:06,524 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:06,525 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpU8Ov2N TO /root/.ansible/tmp/ansible-tmp-1568404266.51-39871909295181/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:06,526 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404266.51-39871909295181/ /root/.ansible/tmp/ansible-tmp-1568404266.51-39871909295181/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:06,533 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404266.51-39871909295181/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:07,072 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404266.51-39871909295181/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:07,084 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-032eaed76511c16b6-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-032eaed76511c16b6"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-032eaed76511c16b6"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-032eaed76511c16b6-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 80.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:06.965Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-032eaed76511c16b6-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 80.0, 
    "unit": "Percent"
}
2019-09-13 19:51:07,102 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] ****************************************************************************************************************************************************
2019-09-13 19:51:07,102 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 19:51:07,121 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:07,122 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:07,129 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404267.12-209667041044551 `" && echo ansible-tmp-1568404267.12-209667041044551="` echo /root/.ansible/tmp/ansible-tmp-1568404267.12-209667041044551 `" ) && sleep 0'
2019-09-13 19:51:07,139 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:07,140 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpv47KaA TO /root/.ansible/tmp/ansible-tmp-1568404267.12-209667041044551/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:07,141 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404267.12-209667041044551/ /root/.ansible/tmp/ansible-tmp-1568404267.12-209667041044551/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:07,148 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404267.12-209667041044551/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:07,753 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404267.12-209667041044551/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:07,765 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-032eaed76511c16b6-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-032eaed76511c16b6"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-032eaed76511c16b6"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-032eaed76511c16b6-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:07.652Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-032eaed76511c16b6-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 19:51:07,783 p=11879 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] *************************************************************************************************************************
2019-09-13 19:51:07,783 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:37
2019-09-13 19:51:07,802 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:07,802 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:07,810 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404267.8-25285622363495 `" && echo ansible-tmp-1568404267.8-25285622363495="` echo /root/.ansible/tmp/ansible-tmp-1568404267.8-25285622363495 `" ) && sleep 0'
2019-09-13 19:51:07,820 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:07,821 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpU5RuWL TO /root/.ansible/tmp/ansible-tmp-1568404267.8-25285622363495/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:07,822 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404267.8-25285622363495/ /root/.ansible/tmp/ansible-tmp-1568404267.8-25285622363495/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:07,829 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404267.8-25285622363495/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:08,451 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404267.8-25285622363495/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:08,463 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-032eaed76511c16b6-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-032eaed76511c16b6"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-032eaed76511c16b6"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-032eaed76511c16b6-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:08.351Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-032eaed76511c16b6-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 19:51:08,480 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] ****************************************************************************************************************************************************
2019-09-13 19:51:08,481 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 19:51:08,501 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:08,501 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:08,508 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404268.5-158599730819181 `" && echo ansible-tmp-1568404268.5-158599730819181="` echo /root/.ansible/tmp/ansible-tmp-1568404268.5-158599730819181 `" ) && sleep 0'
2019-09-13 19:51:08,519 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:08,520 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmph76yFR TO /root/.ansible/tmp/ansible-tmp-1568404268.5-158599730819181/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:08,521 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404268.5-158599730819181/ /root/.ansible/tmp/ansible-tmp-1568404268.5-158599730819181/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:08,528 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404268.5-158599730819181/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:09,123 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404268.5-158599730819181/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:09,136 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-035ebc2289adc1234-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-035ebc2289adc1234"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-035ebc2289adc1234"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-035ebc2289adc1234-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 80.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:09.024Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-035ebc2289adc1234-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 80.0, 
    "unit": "Percent"
}
2019-09-13 19:51:09,153 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] ****************************************************************************************************************************************************
2019-09-13 19:51:09,153 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 19:51:09,172 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:09,173 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:09,180 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404269.17-18148324656992 `" && echo ansible-tmp-1568404269.17-18148324656992="` echo /root/.ansible/tmp/ansible-tmp-1568404269.17-18148324656992 `" ) && sleep 0'
2019-09-13 19:51:09,190 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:09,191 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpbo6fM5 TO /root/.ansible/tmp/ansible-tmp-1568404269.17-18148324656992/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:09,192 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404269.17-18148324656992/ /root/.ansible/tmp/ansible-tmp-1568404269.17-18148324656992/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:09,199 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404269.17-18148324656992/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:09,761 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404269.17-18148324656992/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:09,773 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-035ebc2289adc1234-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-035ebc2289adc1234"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-035ebc2289adc1234"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-035ebc2289adc1234-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:09.661Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-035ebc2289adc1234-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 19:51:09,791 p=11879 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] *************************************************************************************************************************
2019-09-13 19:51:09,791 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:37
2019-09-13 19:51:09,810 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:09,810 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:09,817 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404269.81-91241543700539 `" && echo ansible-tmp-1568404269.81-91241543700539="` echo /root/.ansible/tmp/ansible-tmp-1568404269.81-91241543700539 `" ) && sleep 0'
2019-09-13 19:51:09,828 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:09,828 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpd76b8l TO /root/.ansible/tmp/ansible-tmp-1568404269.81-91241543700539/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:09,829 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404269.81-91241543700539/ /root/.ansible/tmp/ansible-tmp-1568404269.81-91241543700539/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:09,836 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404269.81-91241543700539/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:10,365 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404269.81-91241543700539/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:10,380 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-035ebc2289adc1234-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-035ebc2289adc1234"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-035ebc2289adc1234"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-035ebc2289adc1234-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:10.271Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-035ebc2289adc1234-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 19:51:10,398 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] ****************************************************************************************************************************************************
2019-09-13 19:51:10,398 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 19:51:10,420 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:10,421 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:10,428 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404270.42-70539447864913 `" && echo ansible-tmp-1568404270.42-70539447864913="` echo /root/.ansible/tmp/ansible-tmp-1568404270.42-70539447864913 `" ) && sleep 0'
2019-09-13 19:51:10,439 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:10,439 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpSiP5FS TO /root/.ansible/tmp/ansible-tmp-1568404270.42-70539447864913/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:10,440 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404270.42-70539447864913/ /root/.ansible/tmp/ansible-tmp-1568404270.42-70539447864913/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:10,448 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404270.42-70539447864913/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:10,967 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404270.42-70539447864913/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:10,978 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-070cd6f3e291cc696-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-070cd6f3e291cc696"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-070cd6f3e291cc696"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-070cd6f3e291cc696-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 80.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:10.868Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-070cd6f3e291cc696-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 80.0, 
    "unit": "Percent"
}
2019-09-13 19:51:10,998 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] ****************************************************************************************************************************************************
2019-09-13 19:51:10,998 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 19:51:11,017 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:11,018 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:11,025 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404271.02-37631665102414 `" && echo ansible-tmp-1568404271.02-37631665102414="` echo /root/.ansible/tmp/ansible-tmp-1568404271.02-37631665102414 `" ) && sleep 0'
2019-09-13 19:51:11,036 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:11,037 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmp3UYMxQ TO /root/.ansible/tmp/ansible-tmp-1568404271.02-37631665102414/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:11,038 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404271.02-37631665102414/ /root/.ansible/tmp/ansible-tmp-1568404271.02-37631665102414/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:11,045 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404271.02-37631665102414/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:11,645 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404271.02-37631665102414/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:11,657 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-070cd6f3e291cc696-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-070cd6f3e291cc696"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-070cd6f3e291cc696"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-070cd6f3e291cc696-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:11.506Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-070cd6f3e291cc696-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 19:51:11,675 p=11879 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] *************************************************************************************************************************
2019-09-13 19:51:11,675 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:37
2019-09-13 19:51:11,735 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:11,735 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:11,743 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404271.73-219210410092123 `" && echo ansible-tmp-1568404271.73-219210410092123="` echo /root/.ansible/tmp/ansible-tmp-1568404271.73-219210410092123 `" ) && sleep 0'
2019-09-13 19:51:11,754 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:11,755 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpsVKGkl TO /root/.ansible/tmp/ansible-tmp-1568404271.73-219210410092123/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:11,755 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404271.73-219210410092123/ /root/.ansible/tmp/ansible-tmp-1568404271.73-219210410092123/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:11,763 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404271.73-219210410092123/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:12,324 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404271.73-219210410092123/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:12,368 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-070cd6f3e291cc696-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-070cd6f3e291cc696"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-070cd6f3e291cc696"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-070cd6f3e291cc696-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:12.231Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-070cd6f3e291cc696-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 19:51:12,384 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] ****************************************************************************************************************************************************
2019-09-13 19:51:12,385 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 19:51:12,404 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:12,404 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:12,411 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404272.4-176563406176376 `" && echo ansible-tmp-1568404272.4-176563406176376="` echo /root/.ansible/tmp/ansible-tmp-1568404272.4-176563406176376 `" ) && sleep 0'
2019-09-13 19:51:12,422 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:12,423 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpAuw0OF TO /root/.ansible/tmp/ansible-tmp-1568404272.4-176563406176376/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:12,424 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404272.4-176563406176376/ /root/.ansible/tmp/ansible-tmp-1568404272.4-176563406176376/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:12,431 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404272.4-176563406176376/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:12,954 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404272.4-176563406176376/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:12,967 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-07c99ca11bb187e05-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-07c99ca11bb187e05"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-07c99ca11bb187e05"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-07c99ca11bb187e05-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 80.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:12.857Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-07c99ca11bb187e05-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 80.0, 
    "unit": "Percent"
}
2019-09-13 19:51:12,984 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] ****************************************************************************************************************************************************
2019-09-13 19:51:12,984 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 19:51:13,004 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:13,004 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:13,012 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404273.0-45632742471834 `" && echo ansible-tmp-1568404273.0-45632742471834="` echo /root/.ansible/tmp/ansible-tmp-1568404273.0-45632742471834 `" ) && sleep 0'
2019-09-13 19:51:13,023 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:13,024 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpypAuuA TO /root/.ansible/tmp/ansible-tmp-1568404273.0-45632742471834/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:13,025 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404273.0-45632742471834/ /root/.ansible/tmp/ansible-tmp-1568404273.0-45632742471834/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:13,033 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404273.0-45632742471834/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:13,569 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404273.0-45632742471834/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:13,582 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-07c99ca11bb187e05-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-07c99ca11bb187e05"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-07c99ca11bb187e05"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-07c99ca11bb187e05-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:13.493Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-07c99ca11bb187e05-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 19:51:13,599 p=11879 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] *************************************************************************************************************************
2019-09-13 19:51:13,599 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:37
2019-09-13 19:51:13,619 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:13,619 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:13,627 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404273.62-62153053435177 `" && echo ansible-tmp-1568404273.62-62153053435177="` echo /root/.ansible/tmp/ansible-tmp-1568404273.62-62153053435177 `" ) && sleep 0'
2019-09-13 19:51:13,638 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:13,639 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpPG5lvR TO /root/.ansible/tmp/ansible-tmp-1568404273.62-62153053435177/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:13,639 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404273.62-62153053435177/ /root/.ansible/tmp/ansible-tmp-1568404273.62-62153053435177/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:13,647 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404273.62-62153053435177/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:14,183 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404273.62-62153053435177/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:14,196 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-07c99ca11bb187e05-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-07c99ca11bb187e05"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-07c99ca11bb187e05"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-07c99ca11bb187e05-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:14.090Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-07c99ca11bb187e05-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 19:51:14,213 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] ****************************************************************************************************************************************************
2019-09-13 19:51:14,213 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 19:51:14,233 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:14,233 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:14,240 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404274.23-145860463408465 `" && echo ansible-tmp-1568404274.23-145860463408465="` echo /root/.ansible/tmp/ansible-tmp-1568404274.23-145860463408465 `" ) && sleep 0'
2019-09-13 19:51:14,252 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:14,252 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpnxRQJa TO /root/.ansible/tmp/ansible-tmp-1568404274.23-145860463408465/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:14,253 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404274.23-145860463408465/ /root/.ansible/tmp/ansible-tmp-1568404274.23-145860463408465/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:14,261 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404274.23-145860463408465/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:14,776 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404274.23-145860463408465/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:14,788 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-080337572ed1f8f67-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-080337572ed1f8f67"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-080337572ed1f8f67"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-080337572ed1f8f67-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 80.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:14.677Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-080337572ed1f8f67-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 80.0, 
    "unit": "Percent"
}
2019-09-13 19:51:14,805 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] ****************************************************************************************************************************************************
2019-09-13 19:51:14,805 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 19:51:14,825 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:14,825 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:14,833 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404274.82-273085296758430 `" && echo ansible-tmp-1568404274.82-273085296758430="` echo /root/.ansible/tmp/ansible-tmp-1568404274.82-273085296758430 `" ) && sleep 0'
2019-09-13 19:51:14,844 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:14,844 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmp2psATC TO /root/.ansible/tmp/ansible-tmp-1568404274.82-273085296758430/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:14,845 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404274.82-273085296758430/ /root/.ansible/tmp/ansible-tmp-1568404274.82-273085296758430/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:14,852 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404274.82-273085296758430/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:15,413 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404274.82-273085296758430/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:15,425 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-080337572ed1f8f67-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-080337572ed1f8f67"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-080337572ed1f8f67"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-080337572ed1f8f67-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:15.325Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-080337572ed1f8f67-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 19:51:15,443 p=11879 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] *************************************************************************************************************************
2019-09-13 19:51:15,443 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:37
2019-09-13 19:51:15,463 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:15,464 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:15,471 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404275.46-37137623264653 `" && echo ansible-tmp-1568404275.46-37137623264653="` echo /root/.ansible/tmp/ansible-tmp-1568404275.46-37137623264653 `" ) && sleep 0'
2019-09-13 19:51:15,482 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:15,483 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmphM4Czi TO /root/.ansible/tmp/ansible-tmp-1568404275.46-37137623264653/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:15,484 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404275.46-37137623264653/ /root/.ansible/tmp/ansible-tmp-1568404275.46-37137623264653/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:15,491 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404275.46-37137623264653/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:16,031 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404275.46-37137623264653/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:16,045 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-080337572ed1f8f67-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-080337572ed1f8f67"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-080337572ed1f8f67"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-080337572ed1f8f67-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:15.944Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-080337572ed1f8f67-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 19:51:16,062 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] ****************************************************************************************************************************************************
2019-09-13 19:51:16,062 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 19:51:16,082 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:16,082 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:16,090 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404276.08-275116047574808 `" && echo ansible-tmp-1568404276.08-275116047574808="` echo /root/.ansible/tmp/ansible-tmp-1568404276.08-275116047574808 `" ) && sleep 0'
2019-09-13 19:51:16,100 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:16,101 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmp2bD36K TO /root/.ansible/tmp/ansible-tmp-1568404276.08-275116047574808/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:16,102 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404276.08-275116047574808/ /root/.ansible/tmp/ansible-tmp-1568404276.08-275116047574808/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:16,109 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404276.08-275116047574808/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:16,623 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404276.08-275116047574808/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:16,635 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-097e7b29137921c72-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-097e7b29137921c72"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-097e7b29137921c72"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-097e7b29137921c72-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 80.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:16.524Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-097e7b29137921c72-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 80.0, 
    "unit": "Percent"
}
2019-09-13 19:51:16,653 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] ****************************************************************************************************************************************************
2019-09-13 19:51:16,653 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 19:51:16,673 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:16,673 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:16,681 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404276.67-278000193980759 `" && echo ansible-tmp-1568404276.67-278000193980759="` echo /root/.ansible/tmp/ansible-tmp-1568404276.67-278000193980759 `" ) && sleep 0'
2019-09-13 19:51:16,692 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:16,693 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpeyho0G TO /root/.ansible/tmp/ansible-tmp-1568404276.67-278000193980759/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:16,694 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404276.67-278000193980759/ /root/.ansible/tmp/ansible-tmp-1568404276.67-278000193980759/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:16,702 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404276.67-278000193980759/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:17,324 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404276.67-278000193980759/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:17,337 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-097e7b29137921c72-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-097e7b29137921c72"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-097e7b29137921c72"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-097e7b29137921c72-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:17.226Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-097e7b29137921c72-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 19:51:17,354 p=11879 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] *************************************************************************************************************************
2019-09-13 19:51:17,355 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:37
2019-09-13 19:51:17,375 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:17,375 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:17,383 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404277.37-257783022998333 `" && echo ansible-tmp-1568404277.37-257783022998333="` echo /root/.ansible/tmp/ansible-tmp-1568404277.37-257783022998333 `" ) && sleep 0'
2019-09-13 19:51:17,395 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:17,395 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmphZUAgG TO /root/.ansible/tmp/ansible-tmp-1568404277.37-257783022998333/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:17,396 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404277.37-257783022998333/ /root/.ansible/tmp/ansible-tmp-1568404277.37-257783022998333/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:17,404 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404277.37-257783022998333/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:17,962 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404277.37-257783022998333/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:17,975 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-097e7b29137921c72-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-097e7b29137921c72"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-097e7b29137921c72"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-097e7b29137921c72-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:17.867Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-097e7b29137921c72-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 19:51:17,992 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] ****************************************************************************************************************************************************
2019-09-13 19:51:17,993 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 19:51:18,013 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:18,013 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:18,021 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404278.01-172018595995893 `" && echo ansible-tmp-1568404278.01-172018595995893="` echo /root/.ansible/tmp/ansible-tmp-1568404278.01-172018595995893 `" ) && sleep 0'
2019-09-13 19:51:18,033 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:18,034 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpk5dmhb TO /root/.ansible/tmp/ansible-tmp-1568404278.01-172018595995893/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:18,035 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404278.01-172018595995893/ /root/.ansible/tmp/ansible-tmp-1568404278.01-172018595995893/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:18,043 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404278.01-172018595995893/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:18,576 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404278.01-172018595995893/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:18,587 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-098458477f2c0db16-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-098458477f2c0db16"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-098458477f2c0db16"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-098458477f2c0db16-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 80.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:18.479Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-098458477f2c0db16-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 80.0, 
    "unit": "Percent"
}
2019-09-13 19:51:18,605 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] ****************************************************************************************************************************************************
2019-09-13 19:51:18,605 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 19:51:18,626 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:18,626 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:18,633 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404278.63-165989880801666 `" && echo ansible-tmp-1568404278.63-165989880801666="` echo /root/.ansible/tmp/ansible-tmp-1568404278.63-165989880801666 `" ) && sleep 0'
2019-09-13 19:51:18,645 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:18,645 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmp8hmOX1 TO /root/.ansible/tmp/ansible-tmp-1568404278.63-165989880801666/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:18,646 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404278.63-165989880801666/ /root/.ansible/tmp/ansible-tmp-1568404278.63-165989880801666/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:18,654 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404278.63-165989880801666/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:19,225 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404278.63-165989880801666/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:19,238 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-098458477f2c0db16-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-098458477f2c0db16"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-098458477f2c0db16"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-098458477f2c0db16-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:19.128Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-098458477f2c0db16-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 19:51:19,255 p=11879 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] *************************************************************************************************************************
2019-09-13 19:51:19,255 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:37
2019-09-13 19:51:19,275 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:19,275 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:19,283 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404279.27-240659972964382 `" && echo ansible-tmp-1568404279.27-240659972964382="` echo /root/.ansible/tmp/ansible-tmp-1568404279.27-240659972964382 `" ) && sleep 0'
2019-09-13 19:51:19,294 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:19,294 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpO5MNBB TO /root/.ansible/tmp/ansible-tmp-1568404279.27-240659972964382/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:19,295 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404279.27-240659972964382/ /root/.ansible/tmp/ansible-tmp-1568404279.27-240659972964382/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:19,303 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404279.27-240659972964382/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:19,922 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404279.27-240659972964382/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:19,934 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-098458477f2c0db16-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-098458477f2c0db16"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-098458477f2c0db16"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-098458477f2c0db16-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:19.781Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-098458477f2c0db16-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 19:51:19,952 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] ****************************************************************************************************************************************************
2019-09-13 19:51:19,953 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 19:51:19,972 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:19,973 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:19,980 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404279.97-184781152453880 `" && echo ansible-tmp-1568404279.97-184781152453880="` echo /root/.ansible/tmp/ansible-tmp-1568404279.97-184781152453880 `" ) && sleep 0'
2019-09-13 19:51:19,992 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:19,993 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpOQK40R TO /root/.ansible/tmp/ansible-tmp-1568404279.97-184781152453880/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:19,994 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404279.97-184781152453880/ /root/.ansible/tmp/ansible-tmp-1568404279.97-184781152453880/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:20,002 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404279.97-184781152453880/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:20,541 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404279.97-184781152453880/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:20,552 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0bac557cfd6af33ce-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-0bac557cfd6af33ce"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-0bac557cfd6af33ce"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0bac557cfd6af33ce-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 80.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:20.449Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0bac557cfd6af33ce-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 80.0, 
    "unit": "Percent"
}
2019-09-13 19:51:20,570 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] ****************************************************************************************************************************************************
2019-09-13 19:51:20,570 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 19:51:20,590 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:20,591 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:20,598 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404280.59-253126180288248 `" && echo ansible-tmp-1568404280.59-253126180288248="` echo /root/.ansible/tmp/ansible-tmp-1568404280.59-253126180288248 `" ) && sleep 0'
2019-09-13 19:51:20,610 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:20,610 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmppYgnH4 TO /root/.ansible/tmp/ansible-tmp-1568404280.59-253126180288248/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:20,611 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404280.59-253126180288248/ /root/.ansible/tmp/ansible-tmp-1568404280.59-253126180288248/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:20,619 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404280.59-253126180288248/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:21,252 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404280.59-253126180288248/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:21,264 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0bac557cfd6af33ce-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-0bac557cfd6af33ce"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-0bac557cfd6af33ce"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0bac557cfd6af33ce-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:21.159Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0bac557cfd6af33ce-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 19:51:21,281 p=11879 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] *************************************************************************************************************************
2019-09-13 19:51:21,281 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:37
2019-09-13 19:51:21,301 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:21,301 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:21,309 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404281.3-163477930707269 `" && echo ansible-tmp-1568404281.3-163477930707269="` echo /root/.ansible/tmp/ansible-tmp-1568404281.3-163477930707269 `" ) && sleep 0'
2019-09-13 19:51:21,320 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:21,321 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpTqcjub TO /root/.ansible/tmp/ansible-tmp-1568404281.3-163477930707269/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:21,322 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404281.3-163477930707269/ /root/.ansible/tmp/ansible-tmp-1568404281.3-163477930707269/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:21,329 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404281.3-163477930707269/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:21,897 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404281.3-163477930707269/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:21,909 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0bac557cfd6af33ce-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-0bac557cfd6af33ce"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-0bac557cfd6af33ce"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-0bac557cfd6af33ce-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:21.788Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-0bac557cfd6af33ce-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 19:51:21,927 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] ****************************************************************************************************************************************************
2019-09-13 19:51:21,927 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 19:51:21,946 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:21,946 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:21,954 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404281.95-253549857902316 `" && echo ansible-tmp-1568404281.95-253549857902316="` echo /root/.ansible/tmp/ansible-tmp-1568404281.95-253549857902316 `" ) && sleep 0'
2019-09-13 19:51:21,966 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:21,967 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpyEnHeB TO /root/.ansible/tmp/ansible-tmp-1568404281.95-253549857902316/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:21,968 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404281.95-253549857902316/ /root/.ansible/tmp/ansible-tmp-1568404281.95-253549857902316/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:21,975 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404281.95-253549857902316/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:22,501 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404281.95-253549857902316/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:22,513 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0e8824e314ee2e884-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-0e8824e314ee2e884"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-0e8824e314ee2e884"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0e8824e314ee2e884-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 80.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:22.407Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0e8824e314ee2e884-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 80.0, 
    "unit": "Percent"
}
2019-09-13 19:51:22,530 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] ****************************************************************************************************************************************************
2019-09-13 19:51:22,531 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 19:51:22,550 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:22,551 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:22,558 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404282.55-18252574667999 `" && echo ansible-tmp-1568404282.55-18252574667999="` echo /root/.ansible/tmp/ansible-tmp-1568404282.55-18252574667999 `" ) && sleep 0'
2019-09-13 19:51:22,570 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:22,571 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpf1Vk62 TO /root/.ansible/tmp/ansible-tmp-1568404282.55-18252574667999/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:22,572 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404282.55-18252574667999/ /root/.ansible/tmp/ansible-tmp-1568404282.55-18252574667999/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:22,579 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404282.55-18252574667999/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:23,140 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404282.55-18252574667999/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:23,153 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0e8824e314ee2e884-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-0e8824e314ee2e884"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-0e8824e314ee2e884"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0e8824e314ee2e884-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:23.025Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0e8824e314ee2e884-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 19:51:23,170 p=11879 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] *************************************************************************************************************************
2019-09-13 19:51:23,170 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:37
2019-09-13 19:51:23,193 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:23,193 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:23,201 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404283.19-273623160555244 `" && echo ansible-tmp-1568404283.19-273623160555244="` echo /root/.ansible/tmp/ansible-tmp-1568404283.19-273623160555244 `" ) && sleep 0'
2019-09-13 19:51:23,212 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:23,212 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpMGziBZ TO /root/.ansible/tmp/ansible-tmp-1568404283.19-273623160555244/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:23,213 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404283.19-273623160555244/ /root/.ansible/tmp/ansible-tmp-1568404283.19-273623160555244/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:23,221 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404283.19-273623160555244/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:23,793 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404283.19-273623160555244/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:23,805 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0e8824e314ee2e884-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-0e8824e314ee2e884"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-0e8824e314ee2e884"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-0e8824e314ee2e884-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:23.669Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-0e8824e314ee2e884-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 19:51:23,825 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] ****************************************************************************************************************************************************
2019-09-13 19:51:23,825 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 19:51:23,844 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:23,844 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:23,852 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404283.84-179212001877965 `" && echo ansible-tmp-1568404283.84-179212001877965="` echo /root/.ansible/tmp/ansible-tmp-1568404283.84-179212001877965 `" ) && sleep 0'
2019-09-13 19:51:23,862 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:23,863 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpdY7xS7 TO /root/.ansible/tmp/ansible-tmp-1568404283.84-179212001877965/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:23,864 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404283.84-179212001877965/ /root/.ansible/tmp/ansible-tmp-1568404283.84-179212001877965/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:23,871 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404283.84-179212001877965/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:24,403 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404283.84-179212001877965/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:24,418 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0fd349b795b31da1d-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-0fd349b795b31da1d"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-0fd349b795b31da1d"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0fd349b795b31da1d-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 80.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:24.307Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0fd349b795b31da1d-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 80.0, 
    "unit": "Percent"
}
2019-09-13 19:51:24,435 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] ****************************************************************************************************************************************************
2019-09-13 19:51:24,435 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 19:51:24,456 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:24,456 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:24,464 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404284.46-16438443370485 `" && echo ansible-tmp-1568404284.46-16438443370485="` echo /root/.ansible/tmp/ansible-tmp-1568404284.46-16438443370485 `" ) && sleep 0'
2019-09-13 19:51:24,475 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:24,476 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpsJ11u9 TO /root/.ansible/tmp/ansible-tmp-1568404284.46-16438443370485/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:24,477 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404284.46-16438443370485/ /root/.ansible/tmp/ansible-tmp-1568404284.46-16438443370485/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:24,484 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404284.46-16438443370485/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:25,033 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404284.46-16438443370485/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:25,046 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0fd349b795b31da1d-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-0fd349b795b31da1d"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-0fd349b795b31da1d"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0fd349b795b31da1d-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:24.937Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0fd349b795b31da1d-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 19:51:25,063 p=11879 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] *************************************************************************************************************************
2019-09-13 19:51:25,063 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:37
2019-09-13 19:51:25,083 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:25,083 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:25,090 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404285.08-205512021738866 `" && echo ansible-tmp-1568404285.08-205512021738866="` echo /root/.ansible/tmp/ansible-tmp-1568404285.08-205512021738866 `" ) && sleep 0'
2019-09-13 19:51:25,102 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:25,102 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpolDymA TO /root/.ansible/tmp/ansible-tmp-1568404285.08-205512021738866/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:25,103 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404285.08-205512021738866/ /root/.ansible/tmp/ansible-tmp-1568404285.08-205512021738866/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:25,111 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404285.08-205512021738866/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:25,653 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404285.08-205512021738866/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:25,665 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0fd349b795b31da1d-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-0fd349b795b31da1d"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-0fd349b795b31da1d"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-0fd349b795b31da1d-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:25.561Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-0fd349b795b31da1d-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 19:51:25,683 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] ****************************************************************************************************************************************************
2019-09-13 19:51:25,683 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 19:51:25,702 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:25,703 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:25,710 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404285.7-133698397087590 `" && echo ansible-tmp-1568404285.7-133698397087590="` echo /root/.ansible/tmp/ansible-tmp-1568404285.7-133698397087590 `" ) && sleep 0'
2019-09-13 19:51:25,721 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:25,722 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpT0g1nC TO /root/.ansible/tmp/ansible-tmp-1568404285.7-133698397087590/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:25,723 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404285.7-133698397087590/ /root/.ansible/tmp/ansible-tmp-1568404285.7-133698397087590/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:25,730 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404285.7-133698397087590/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:26,389 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404285.7-133698397087590/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:26,401 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0140237139d20661c-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-0140237139d20661c"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-0140237139d20661c"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0140237139d20661c-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 80.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:26.301Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0140237139d20661c-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 80.0, 
    "unit": "Percent"
}
2019-09-13 19:51:26,419 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] ****************************************************************************************************************************************************
2019-09-13 19:51:26,419 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 19:51:26,439 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:26,439 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:26,447 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404286.44-152722288392374 `" && echo ansible-tmp-1568404286.44-152722288392374="` echo /root/.ansible/tmp/ansible-tmp-1568404286.44-152722288392374 `" ) && sleep 0'
2019-09-13 19:51:26,458 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:26,459 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpPWAqtD TO /root/.ansible/tmp/ansible-tmp-1568404286.44-152722288392374/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:26,460 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404286.44-152722288392374/ /root/.ansible/tmp/ansible-tmp-1568404286.44-152722288392374/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:26,468 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404286.44-152722288392374/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:27,008 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404286.44-152722288392374/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:27,020 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0140237139d20661c-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-0140237139d20661c"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-0140237139d20661c"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0140237139d20661c-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:26.907Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0140237139d20661c-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 19:51:27,038 p=11879 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] *************************************************************************************************************************
2019-09-13 19:51:27,038 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:37
2019-09-13 19:51:27,057 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:27,057 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:27,064 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404287.06-148679440443695 `" && echo ansible-tmp-1568404287.06-148679440443695="` echo /root/.ansible/tmp/ansible-tmp-1568404287.06-148679440443695 `" ) && sleep 0'
2019-09-13 19:51:27,076 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:27,076 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmp9zlJ5W TO /root/.ansible/tmp/ansible-tmp-1568404287.06-148679440443695/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:27,077 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404287.06-148679440443695/ /root/.ansible/tmp/ansible-tmp-1568404287.06-148679440443695/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:27,084 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404287.06-148679440443695/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:27,646 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404287.06-148679440443695/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:27,659 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0140237139d20661c-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-0140237139d20661c"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-0140237139d20661c"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-0140237139d20661c-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:27.545Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-0140237139d20661c-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 19:51:27,676 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] ****************************************************************************************************************************************************
2019-09-13 19:51:27,676 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 19:51:27,696 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:27,697 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:27,704 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404287.7-74024753825390 `" && echo ansible-tmp-1568404287.7-74024753825390="` echo /root/.ansible/tmp/ansible-tmp-1568404287.7-74024753825390 `" ) && sleep 0'
2019-09-13 19:51:27,715 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:27,716 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpDH5gBM TO /root/.ansible/tmp/ansible-tmp-1568404287.7-74024753825390/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:27,717 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404287.7-74024753825390/ /root/.ansible/tmp/ansible-tmp-1568404287.7-74024753825390/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:27,724 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404287.7-74024753825390/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:28,243 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404287.7-74024753825390/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:28,257 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-03c85c372e990f54f-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-03c85c372e990f54f"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-03c85c372e990f54f"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-03c85c372e990f54f-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 80.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:28.156Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-03c85c372e990f54f-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 80.0, 
    "unit": "Percent"
}
2019-09-13 19:51:28,273 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] ****************************************************************************************************************************************************
2019-09-13 19:51:28,274 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 19:51:28,293 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:28,294 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:28,301 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404288.29-104674282739075 `" && echo ansible-tmp-1568404288.29-104674282739075="` echo /root/.ansible/tmp/ansible-tmp-1568404288.29-104674282739075 `" ) && sleep 0'
2019-09-13 19:51:28,312 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:28,312 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpAbsInE TO /root/.ansible/tmp/ansible-tmp-1568404288.29-104674282739075/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:28,313 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404288.29-104674282739075/ /root/.ansible/tmp/ansible-tmp-1568404288.29-104674282739075/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:28,320 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404288.29-104674282739075/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:28,891 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404288.29-104674282739075/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:28,903 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-03c85c372e990f54f-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-03c85c372e990f54f"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-03c85c372e990f54f"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-03c85c372e990f54f-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:28.780Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-03c85c372e990f54f-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 19:51:28,920 p=11879 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] *************************************************************************************************************************
2019-09-13 19:51:28,921 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:37
2019-09-13 19:51:28,940 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:28,940 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:28,948 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404288.94-10462132861833 `" && echo ansible-tmp-1568404288.94-10462132861833="` echo /root/.ansible/tmp/ansible-tmp-1568404288.94-10462132861833 `" ) && sleep 0'
2019-09-13 19:51:28,959 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:28,960 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmprjfcUw TO /root/.ansible/tmp/ansible-tmp-1568404288.94-10462132861833/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:28,961 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404288.94-10462132861833/ /root/.ansible/tmp/ansible-tmp-1568404288.94-10462132861833/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:28,968 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404288.94-10462132861833/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:29,628 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404288.94-10462132861833/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:29,641 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-03c85c372e990f54f-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-03c85c372e990f54f"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-03c85c372e990f54f"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-03c85c372e990f54f-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:29.401Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-03c85c372e990f54f-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 19:51:29,659 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] ****************************************************************************************************************************************************
2019-09-13 19:51:29,659 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 19:51:29,680 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:29,680 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:29,687 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404289.68-109894556851491 `" && echo ansible-tmp-1568404289.68-109894556851491="` echo /root/.ansible/tmp/ansible-tmp-1568404289.68-109894556851491 `" ) && sleep 0'
2019-09-13 19:51:29,699 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:29,699 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpq4scZT TO /root/.ansible/tmp/ansible-tmp-1568404289.68-109894556851491/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:29,700 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404289.68-109894556851491/ /root/.ansible/tmp/ansible-tmp-1568404289.68-109894556851491/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:29,708 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404289.68-109894556851491/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:30,254 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404289.68-109894556851491/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:30,267 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-052249509c4dcd893-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-052249509c4dcd893"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-052249509c4dcd893"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-052249509c4dcd893-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 80.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:30.155Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-052249509c4dcd893-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 80.0, 
    "unit": "Percent"
}
2019-09-13 19:51:30,284 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] ****************************************************************************************************************************************************
2019-09-13 19:51:30,284 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 19:51:30,304 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:30,304 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:30,312 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404290.3-219501204365097 `" && echo ansible-tmp-1568404290.3-219501204365097="` echo /root/.ansible/tmp/ansible-tmp-1568404290.3-219501204365097 `" ) && sleep 0'
2019-09-13 19:51:30,323 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:30,323 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpFhpQG7 TO /root/.ansible/tmp/ansible-tmp-1568404290.3-219501204365097/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:30,324 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404290.3-219501204365097/ /root/.ansible/tmp/ansible-tmp-1568404290.3-219501204365097/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:30,332 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404290.3-219501204365097/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:30,869 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404290.3-219501204365097/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:30,882 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-052249509c4dcd893-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-052249509c4dcd893"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-052249509c4dcd893"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-052249509c4dcd893-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:30.787Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-052249509c4dcd893-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 19:51:30,899 p=11879 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] *************************************************************************************************************************
2019-09-13 19:51:30,899 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:37
2019-09-13 19:51:30,919 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:30,920 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:30,927 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404290.92-52648661987241 `" && echo ansible-tmp-1568404290.92-52648661987241="` echo /root/.ansible/tmp/ansible-tmp-1568404290.92-52648661987241 `" ) && sleep 0'
2019-09-13 19:51:30,938 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:30,939 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmp44py_Z TO /root/.ansible/tmp/ansible-tmp-1568404290.92-52648661987241/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:30,940 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404290.92-52648661987241/ /root/.ansible/tmp/ansible-tmp-1568404290.92-52648661987241/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:30,947 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404290.92-52648661987241/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:31,616 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404290.92-52648661987241/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:31,628 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-052249509c4dcd893-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-052249509c4dcd893"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-052249509c4dcd893"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-052249509c4dcd893-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:31.435Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-052249509c4dcd893-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 19:51:31,645 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] ****************************************************************************************************************************************************
2019-09-13 19:51:31,646 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 19:51:31,665 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:31,666 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:31,673 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404291.67-203387301368512 `" && echo ansible-tmp-1568404291.67-203387301368512="` echo /root/.ansible/tmp/ansible-tmp-1568404291.67-203387301368512 `" ) && sleep 0'
2019-09-13 19:51:31,684 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:31,684 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmph8QQFD TO /root/.ansible/tmp/ansible-tmp-1568404291.67-203387301368512/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:31,685 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404291.67-203387301368512/ /root/.ansible/tmp/ansible-tmp-1568404291.67-203387301368512/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:31,693 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404291.67-203387301368512/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:32,225 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404291.67-203387301368512/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:32,237 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0732efe8b7fab18f2-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-0732efe8b7fab18f2"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-0732efe8b7fab18f2"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0732efe8b7fab18f2-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 80.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:32.126Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0732efe8b7fab18f2-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 80.0, 
    "unit": "Percent"
}
2019-09-13 19:51:32,254 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] ****************************************************************************************************************************************************
2019-09-13 19:51:32,255 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 19:51:32,274 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:32,274 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:32,281 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404292.27-33955227126099 `" && echo ansible-tmp-1568404292.27-33955227126099="` echo /root/.ansible/tmp/ansible-tmp-1568404292.27-33955227126099 `" ) && sleep 0'
2019-09-13 19:51:32,292 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:32,293 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpcmYkSu TO /root/.ansible/tmp/ansible-tmp-1568404292.27-33955227126099/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:32,294 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404292.27-33955227126099/ /root/.ansible/tmp/ansible-tmp-1568404292.27-33955227126099/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:32,301 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404292.27-33955227126099/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:32,871 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404292.27-33955227126099/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:32,883 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0732efe8b7fab18f2-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-0732efe8b7fab18f2"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-0732efe8b7fab18f2"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0732efe8b7fab18f2-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:32.776Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0732efe8b7fab18f2-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 19:51:32,900 p=11879 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] *************************************************************************************************************************
2019-09-13 19:51:32,900 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:37
2019-09-13 19:51:32,920 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:32,920 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:32,927 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404292.92-120210810282749 `" && echo ansible-tmp-1568404292.92-120210810282749="` echo /root/.ansible/tmp/ansible-tmp-1568404292.92-120210810282749 `" ) && sleep 0'
2019-09-13 19:51:32,938 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:32,939 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpgZ9Zew TO /root/.ansible/tmp/ansible-tmp-1568404292.92-120210810282749/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:32,940 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404292.92-120210810282749/ /root/.ansible/tmp/ansible-tmp-1568404292.92-120210810282749/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:32,947 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404292.92-120210810282749/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:33,523 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404292.92-120210810282749/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:33,535 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0732efe8b7fab18f2-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-0732efe8b7fab18f2"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-0732efe8b7fab18f2"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-0732efe8b7fab18f2-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:33.416Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-0732efe8b7fab18f2-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 19:51:33,553 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] ****************************************************************************************************************************************************
2019-09-13 19:51:33,553 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 19:51:33,572 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:33,573 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:33,580 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404293.57-218539202080680 `" && echo ansible-tmp-1568404293.57-218539202080680="` echo /root/.ansible/tmp/ansible-tmp-1568404293.57-218539202080680 `" ) && sleep 0'
2019-09-13 19:51:33,591 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:33,592 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmp8mB7BX TO /root/.ansible/tmp/ansible-tmp-1568404293.57-218539202080680/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:33,593 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404293.57-218539202080680/ /root/.ansible/tmp/ansible-tmp-1568404293.57-218539202080680/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:33,601 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404293.57-218539202080680/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:34,150 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404293.57-218539202080680/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:34,163 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0bdab7e87d8641c79-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-0bdab7e87d8641c79"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-0bdab7e87d8641c79"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0bdab7e87d8641c79-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 80.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:34.047Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0bdab7e87d8641c79-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 80.0, 
    "unit": "Percent"
}
2019-09-13 19:51:34,180 p=11879 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] ****************************************************************************************************************************************************
2019-09-13 19:51:34,180 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 19:51:34,200 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:34,200 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:34,208 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404294.2-79852984656037 `" && echo ansible-tmp-1568404294.2-79852984656037="` echo /root/.ansible/tmp/ansible-tmp-1568404294.2-79852984656037 `" ) && sleep 0'
2019-09-13 19:51:34,220 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:34,220 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpI1JwOr TO /root/.ansible/tmp/ansible-tmp-1568404294.2-79852984656037/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:34,221 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404294.2-79852984656037/ /root/.ansible/tmp/ansible-tmp-1568404294.2-79852984656037/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:34,229 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404294.2-79852984656037/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:34,816 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404294.2-79852984656037/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:34,829 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0bdab7e87d8641c79-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-0bdab7e87d8641c79"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-0bdab7e87d8641c79"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0bdab7e87d8641c79-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:34.726Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0bdab7e87d8641c79-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 19:51:34,846 p=11879 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] *************************************************************************************************************************
2019-09-13 19:51:34,846 p=11879 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:37
2019-09-13 19:51:34,866 p=11879 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:51:34,866 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:51:34,874 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404294.87-234416103127934 `" && echo ansible-tmp-1568404294.87-234416103127934="` echo /root/.ansible/tmp/ansible-tmp-1568404294.87-234416103127934 `" ) && sleep 0'
2019-09-13 19:51:34,885 p=11879 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 19:51:34,886 p=11879 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-11879Unci_b/tmpyLlaNC TO /root/.ansible/tmp/ansible-tmp-1568404294.87-234416103127934/AnsiballZ_ec2_metric_alarm.py
2019-09-13 19:51:34,886 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404294.87-234416103127934/ /root/.ansible/tmp/ansible-tmp-1568404294.87-234416103127934/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:34,894 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404294.87-234416103127934/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 19:51:35,471 p=11879 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404294.87-234416103127934/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:51:35,483 p=11879 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0bdab7e87d8641c79-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-0bdab7e87d8641c79"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-0bdab7e87d8641c79"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-0bdab7e87d8641c79-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T19:51:35.369Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-0bdab7e87d8641c79-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 19:51:35,484 p=11879 u=root |  META: ran handlers
2019-09-13 19:51:35,484 p=11879 u=root |  META: ran handlers
2019-09-13 19:51:35,485 p=11879 u=root |  PLAY RECAP *************************************************************************************************************************************************************************************************
2019-09-13 19:51:35,485 p=11879 u=root |  localhost                  : ok=81   changed=60   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2019-09-13 19:52:55,898 p=13440 u=root |  ansible-playbook 2.8.4
  config file = /home/centos/cloudwatch/ansible.cfg
  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python2.7/site-packages/ansible
  executable location = /bin/ansible-playbook
  python version = 2.7.5 (default, Jun 20 2019, 20:27:34) [GCC 4.8.5 20150623 (Red Hat 4.8.5-36)]
2019-09-13 19:52:55,898 p=13440 u=root |  Using /home/centos/cloudwatch/ansible.cfg as config file
2019-09-13 19:52:55,905 p=13440 u=root |  host_list declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 19:52:55,906 p=13440 u=root |  script declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 19:52:55,906 p=13440 u=root |  auto declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 19:52:55,909 p=13440 u=root |  Parsed /etc/ansible/hosts inventory source with ini plugin
2019-09-13 19:52:55,910 p=13440 u=root |   [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2019-09-13 19:52:56,130 p=13440 u=root |  statically imported: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/instance_id_fact.yml
2019-09-13 19:52:56,340 p=13440 u=root |  PLAYBOOK: EC2_Alarms.yml ***********************************************************************************************************************************************************************************
2019-09-13 19:52:56,340 p=13440 u=root |  1 plays in EC2_Alarms.yml
2019-09-13 19:52:56,370 p=13440 u=root |  PLAY [Create IT Monitor EC2 vHost] *************************************************************************************************************************************************************************
2019-09-13 19:52:56,380 p=13440 u=root |  TASK [Gathering Facts] *************************************************************************************************************************************************************************************
2019-09-13 19:52:56,381 p=13440 u=root |  task path: /home/centos/cloudwatch/EC2_Alarms.yml:2
2019-09-13 19:52:56,391 p=13440 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:52:56,391 p=13440 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:52:56,398 p=13440 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404376.39-278825873792856 `" && echo ansible-tmp-1568404376.39-278825873792856="` echo /root/.ansible/tmp/ansible-tmp-1568404376.39-278825873792856 `" ) && sleep 0'
2019-09-13 19:52:56,769 p=13440 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/system/setup.py
2019-09-13 19:52:56,770 p=13440 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-13440lSeNcP/tmp0ztGHr TO /root/.ansible/tmp/ansible-tmp-1568404376.39-278825873792856/AnsiballZ_setup.py
2019-09-13 19:52:56,771 p=13440 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404376.39-278825873792856/ /root/.ansible/tmp/ansible-tmp-1568404376.39-278825873792856/AnsiballZ_setup.py && sleep 0'
2019-09-13 19:52:56,779 p=13440 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404376.39-278825873792856/AnsiballZ_setup.py && sleep 0'
2019-09-13 19:52:57,248 p=13440 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404376.39-278825873792856/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:52:57,280 p=13440 u=root |  ok: [localhost]
2019-09-13 19:52:57,281 p=13440 u=root |  META: ran handlers
2019-09-13 19:52:57,298 p=13440 u=root |  TASK [ec2.metric_alarm : VPC facts] ************************************************************************************************************************************************************************
2019-09-13 19:52:57,298 p=13440 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/instance_id_fact.yml:3
2019-09-13 19:52:57,312 p=13440 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:52:57,313 p=13440 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:52:57,320 p=13440 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404377.31-68150718881197 `" && echo ansible-tmp-1568404377.31-68150718881197="` echo /root/.ansible/tmp/ansible-tmp-1568404377.31-68150718881197 `" ) && sleep 0'
2019-09-13 19:52:57,533 p=13440 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_vpc_net_facts.py
2019-09-13 19:52:57,534 p=13440 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-13440lSeNcP/tmpIiozy3 TO /root/.ansible/tmp/ansible-tmp-1568404377.31-68150718881197/AnsiballZ_ec2_vpc_net_facts.py
2019-09-13 19:52:57,535 p=13440 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404377.31-68150718881197/ /root/.ansible/tmp/ansible-tmp-1568404377.31-68150718881197/AnsiballZ_ec2_vpc_net_facts.py && sleep 0'
2019-09-13 19:52:57,543 p=13440 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404377.31-68150718881197/AnsiballZ_ec2_vpc_net_facts.py && sleep 0'
2019-09-13 19:52:58,394 p=13440 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404377.31-68150718881197/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:52:58,407 p=13440 u=root |  ok: [localhost] => {
    "changed": false, 
    "invocation": {
        "module_args": {
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "debug_botocore_endpoint_logs": false, 
            "ec2_url": null, 
            "filters": {
                "tag:Name": "banna"
            }, 
            "profile": null, 
            "region": null, 
            "security_token": null, 
            "validate_certs": true, 
            "vpc_ids": []
        }
    }, 
    "vpcs": [
        {
            "cidr_block": "10.10.0.0/16", 
            "cidr_block_association_set": [
                {
                    "association_id": "vpc-cidr-assoc-0a94dbbca27fc4830", 
                    "cidr_block": "10.10.0.0/16", 
                    "cidr_block_state": {
                        "state": "associated"
                    }
                }
            ], 
            "classic_link_dns_supported": false, 
            "classic_link_enabled": false, 
            "dhcp_options_id": "dopt-6a07350d", 
            "enable_dns_hostnames": false, 
            "enable_dns_support": true, 
            "id": "vpc-0b392999d1d961a4b", 
            "instance_tenancy": "default", 
            "is_default": false, 
            "owner_id": "607624181858", 
            "state": "available", 
            "tags": {
                "Name": "banna"
            }, 
            "vpc_id": "vpc-0b392999d1d961a4b"
        }
    ]
}
2019-09-13 19:52:58,424 p=13440 u=root |  TASK [ec2.metric_alarm : set fact: VPC ID] *****************************************************************************************************************************************************************
2019-09-13 19:52:58,424 p=13440 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/instance_id_fact.yml:10
2019-09-13 19:52:58,441 p=13440 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "vpc_id": "vpc-0b392999d1d961a4b"
    }, 
    "changed": false
}
2019-09-13 19:52:58,458 p=13440 u=root |  TASK [ec2.metric_alarm : capture instance facts] ***********************************************************************************************************************************************************
2019-09-13 19:52:58,458 p=13440 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/instance_id_fact.yml:15
2019-09-13 19:52:58,474 p=13440 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 19:52:58,474 p=13440 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 19:52:58,481 p=13440 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568404378.47-148944437323296 `" && echo ansible-tmp-1568404378.47-148944437323296="` echo /root/.ansible/tmp/ansible-tmp-1568404378.47-148944437323296 `" ) && sleep 0'
2019-09-13 19:52:58,691 p=13440 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_instance_facts.py
2019-09-13 19:52:58,692 p=13440 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-13440lSeNcP/tmpWADypt TO /root/.ansible/tmp/ansible-tmp-1568404378.47-148944437323296/AnsiballZ_ec2_instance_facts.py
2019-09-13 19:52:58,693 p=13440 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568404378.47-148944437323296/ /root/.ansible/tmp/ansible-tmp-1568404378.47-148944437323296/AnsiballZ_ec2_instance_facts.py && sleep 0'
2019-09-13 19:52:58,701 p=13440 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568404378.47-148944437323296/AnsiballZ_ec2_instance_facts.py && sleep 0'
2019-09-13 19:52:59,404 p=13440 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568404378.47-148944437323296/ > /dev/null 2>&1 && sleep 0'
2019-09-13 19:52:59,439 p=13440 u=root |  ok: [localhost] => {
    "changed": false, 
    "instances": [
        {
            "ami_launch_index": 0, 
            "architecture": "x86_64", 
            "block_device_mappings": [
                {
                    "device_name": "/dev/sda1", 
                    "ebs": {
                        "attach_time": "2019-08-23T04:25:48+00:00", 
                        "delete_on_termination": true, 
                        "status": "attached", 
                        "volume_id": "vol-016d3544223e2f652"
                    }
                }
            ], 
            "capacity_reservation_specification": {
                "capacity_reservation_preference": "open"
            }, 
            "client_token": "", 
            "cpu_options": {
                "core_count": 2, 
                "threads_per_core": 2
            }, 
            "ebs_optimized": true, 
            "ena_support": true, 
            "hibernation_options": {
                "configured": false
            }, 
            "hypervisor": "xen", 
            "image_id": "ami-0870ed7dabc81cf98", 
            "instance_id": "i-012b2a742d6b6356c", 
            "instance_type": "m5a.xlarge", 
            "key_name": "simon-test-win", 
            "launch_time": "2019-08-23T04:25:48+00:00", 
            "monitoring": {
                "state": "disabled"
            }, 
            "network_interfaces": [
                {
                    "association": {
                        "ip_owner_id": "amazon", 
                        "public_dns_name": "", 
                        "public_ip": "54.255.228.58"
                    }, 
                    "attachment": {
                        "attach_time": "2019-08-23T04:25:48+00:00", 
                        "attachment_id": "eni-attach-0cdbbc454fce44ce8", 
                        "delete_on_termination": true, 
                        "device_index": 0, 
                        "status": "attached"
                    }, 
                    "description": "Primary network interface", 
                    "groups": [
                        {
                            "group_id": "sg-0983408337a18d266", 
                            "group_name": "windows-all"
                        }
                    ], 
                    "interface_type": "interface", 
                    "ipv6_addresses": [], 
                    "mac_address": "06:23:7a:58:20:88", 
                    "network_interface_id": "eni-0e7144eed80222c0d", 
                    "owner_id": "607624181858", 
                    "private_ip_address": "10.10.10.222", 
                    "private_ip_addresses": [
                        {
                            "association": {
                                "ip_owner_id": "amazon", 
                                "public_dns_name": "", 
                                "public_ip": "54.255.228.58"
                            }, 
                            "primary": true, 
                            "private_ip_address": "10.10.10.222"
                        }
                    ], 
                    "source_dest_check": true, 
                    "status": "in-use", 
                    "subnet_id": "subnet-088bda43bbded2f4a", 
                    "vpc_id": "vpc-0b392999d1d961a4b"
                }
            ], 
            "placement": {
                "availability_zone": "ap-southeast-1a", 
                "group_name": "", 
                "tenancy": "default"
            }, 
            "platform": "windows", 
            "private_dns_name": "ip-10-10-10-222.ap-southeast-1.compute.internal", 
            "private_ip_address": "10.10.10.222", 
            "product_codes": [], 
            "public_dns_name": "", 
            "public_ip_address": "54.255.228.58", 
            "root_device_name": "/dev/sda1", 
            "root_device_type": "ebs", 
            "security_groups": [
                {
                    "group_id": "sg-0983408337a18d266", 
                    "group_name": "windows-all"
                }
            ], 
            "source_dest_check": true, 
            "state": {
                "code": 16, 
                "name": "running"
            }, 
            "state_transition_reason": "", 
            "subnet_id": "subnet-088bda43bbded2f4a", 
            "tags": {
                "Name": "simontest"
            }, 
            "virtualization_type": "hvm", 
            "vpc_id": "vpc-0b392999d1d961a4b"
        }, 
        {
            "ami_launch_index": 0, 
            "architecture": "x86_64", 
            "block_device_mappings": [
                {
                    "device_name": "/dev/sda1", 
                    "ebs": {
                        "attach_time": "2019-08-26T08:11:38+00:00", 
                        "delete_on_termination": false, 
                        "status": "attached", 
                        "volume_id": "vol-0ce54cacbf9b36b84"
                    }
                }
            ], 
            "capacity_reservation_specification": {
                "capacity_reservation_preference": "open"
            }, 
            "client_token": "15668070934436198", 
            "cpu_options": {
                "core_count": 1, 
                "threads_per_core": 2
            }, 
            "ebs_optimized": true, 
            "ena_support": true, 
            "hibernation_options": {
                "configured": false
            }, 
            "hypervisor": "xen", 
            "image_id": "ami-0b4dd9d65556cac22", 
            "instance_id": "i-097e7b29137921c72", 
            "instance_type": "m5.large", 
            "key_name": "simon-test-win", 
            "launch_time": "2019-08-26T08:11:37+00:00", 
            "monitoring": {
                "state": "disabled"
            }, 
            "network_interfaces": [
                {
                    "association": {
                        "ip_owner_id": "amazon", 
                        "public_dns_name": "", 
                        "public_ip": "13.229.227.108"
                    }, 
                    "attachment": {
                        "attach_time": "2019-08-26T08:11:37+00:00", 
                        "attachment_id": "eni-attach-043955a62732ee4bb", 
                        "delete_on_termination": true, 
                        "device_index": 0, 
                        "status": "attached"
                    }, 
                    "description": "Primary network interface", 
                    "groups": [
                        {
                            "group_id": "sg-0253280c071c020be", 
                            "group_name": "banna_node_ssh"
                        }
                    ], 
                    "interface_type": "interface", 
                    "ipv6_addresses": [], 
                    "mac_address": "06:fd:e3:5b:67:e4", 
                    "network_interface_id": "eni-070495043c5b5f587", 
                    "owner_id": "607624181858", 
                    "private_ip_address": "10.10.10.183", 
                    "private_ip_addresses": [
                        {
                            "association": {
                                "ip_owner_id": "amazon", 
                                "public_dns_name": "", 
                                "public_ip": "13.229.227.108"
                            }, 
                            "primary": true, 
                            "private_ip_address": "10.10.10.183"
                        }
                    ], 
                    "source_dest_check": true, 
                    "status": "in-use", 
                    "subnet_id": "subnet-088bda43bbded2f4a", 
                    "vpc_id": "vpc-0b392999d1d961a4b"
                }
            ], 
            "placement": {
                "availability_zone": "ap-southeast-1a", 
                "group_name": "", 
                "tenancy": "default"
            }, 
            "private_dns_name": "ip-10-10-10-183.ap-southeast-1.compute.internal", 
            "private_ip_address": "10.10.10.183", 
            "product_codes": [
                {
                    "product_code_id": "aw0evgkw8e5c1q413zgy5pjce", 
                    "product_code_type": "marketplace"
                }
            ], 
            "public_dns_name": "", 
            "public_ip_address": "13.229.227.108", 
            "root_device_name": "/dev/sda1", 
            "root_device_type": "ebs", 
            "security_groups": [
                {
                    "group_id": "sg-0253280c071c020be", 
                    "group_name": "banna_node_ssh"
                }
            ], 
            "source_dest_check": true, 
            "state": {
                "code": 16, 
                "name": "running"
            }, 
            "state_transition_reason": "", 
            "subnet_id": "subnet-088bda43bbded2f4a", 
            "tags": {
                "Name": "simontest"
            }, 
            "virtualization_type": "hvm", 
            "vpc_id": "vpc-0b392999d1d961a4b"
        }, 
        {
            "ami_launch_index": 0, 
            "architecture": "x86_64", 
            "block_device_mappings": [
                {
                    "device_name": "/dev/sda1", 
                    "ebs": {
                        "attach_time": "2019-09-13T13:09:41+00:00", 
                        "delete_on_termination": false, 
                        "status": "attached", 
                        "volume_id": "vol-0e8f938843f50eeec"
                    }
                }
            ], 
            "capacity_reservation_specification": {
                "capacity_reservation_preference": "open"
            }, 
            "client_token": "4ad5b4aa-f94c-ce2c-a2be-62c3e99d0b2d_subnet-05bcad98343c72643_1", 
            "cpu_options": {
                "core_count": 2, 
                "threads_per_core": 1
            }, 
            "ebs_optimized": false, 
            "ena_support": true, 
            "hibernation_options": {
                "configured": false
            }, 
            "hypervisor": "xen", 
            "image_id": "ami-08dcd6ec842f060c6", 
            "instance_id": "i-070cd6f3e291cc696", 
            "instance_type": "t2.medium", 
            "key_name": "banna2.0", 
            "launch_time": "2019-09-13T13:09:40+00:00", 
            "monitoring": {
                "state": "enabled"
            }, 
            "network_interfaces": [
                {
                    "attachment": {
                        "attach_time": "2019-09-13T13:09:40+00:00", 
                        "attachment_id": "eni-attach-0f9b56b25d08736e5", 
                        "delete_on_termination": true, 
                        "device_index": 0, 
                        "status": "attached"
                    }, 
                    "description": "", 
                    "groups": [
                        {
                            "group_id": "sg-0253280c071c020be", 
                            "group_name": "banna_node_ssh"
                        }, 
                        {
                            "group_id": "sg-081234813d3004af1", 
                            "group_name": "banna-Node_all"
                        }
                    ], 
                    "interface_type": "interface", 
                    "ipv6_addresses": [], 
                    "mac_address": "0a:4d:b1:e3:2d:3c", 
                    "network_interface_id": "eni-078f0591601d80fb1", 
                    "owner_id": "607624181858", 
                    "private_ip_address": "10.10.12.177", 
                    "private_ip_addresses": [
                        {
                            "primary": true, 
                            "private_ip_address": "10.10.12.177"
                        }
                    ], 
                    "source_dest_check": true, 
                    "status": "in-use", 
                    "subnet_id": "subnet-05bcad98343c72643", 
                    "vpc_id": "vpc-0b392999d1d961a4b"
                }
            ], 
            "placement": {
                "availability_zone": "ap-southeast-1c", 
                "group_name": "", 
                "tenancy": "default"
            }, 
            "private_dns_name": "ip-10-10-12-177.ap-southeast-1.compute.internal", 
            "private_ip_address": "10.10.12.177", 
            "product_codes": [
                {
                    "product_code_id": "aw0evgkw8e5c1q413zgy5pjce", 
                    "product_code_type": "marketplace"
                }
            ], 
            "public_dns_name": "", 
            "root_device_name": "/dev/sda1", 
            "root_device_type": "ebs", 
            "security_groups": [
                {
                    "group_id": "sg-0253280c071c020be", 
                    "group_name": "banna_node_ssh"
                }, 
                {
                    "group_id": "sg-081234813d3004af1", 
                    "group_name": "banna-Node_all"
                }
            ], 
            "source_dest_check": true, 
            "state": {
                "code": 16, 
                "name": "running"
            }, 
            "state_transition_reason": "", 
            "subnet_id": "subnet-05bcad98343c72643", 
            "tags": {
                "Environment": "Production", 
                "Name": "banna", 
                "aws:autoscaling:groupName": " banna-asg-group"
            }, 
            "virtualization_type": "hvm", 
            "vpc_id": "vpc-0b392999d1d961a4b"
        }, 
        {
            "ami_launch_index": 0, 
            "architecture": "x86_64", 
            "block_device_mappings": [
                {
                    "device_name": "/dev/sda1", 
                    "ebs": {
                        "attach_time": "2019-09-13T13:03:44+00:00", 
                        "delete_on_termination": false, 
                        "status": "attached", 
                        "volume_id": "vol-0e4d420753c30f31c"
                    }
                }
            ], 
            "capacity_reservation_specification": {
                "capacity_reservation_preference": "open"
            }, 
            "client_token": "156837982124332024", 
            "cpu_options": {
                "core_count": 2, 
                "threads_per_core": 1
            }, 
            "ebs_optimized": false, 
            "ena_support": true, 
            "hibernation_options": {
                "configured": false
            }, 
            "hypervisor": "xen", 
            "image_id": "ami-0b4dd9d65556cac22", 
            "instance_id": "i-07c99ca11bb187e05", 
            "instance_type": "t2.medium", 
            "key_name": "banna2.0", 
            "launch_time": "2019-09-13T13:03:43+00:00", 
            "monitoring": {
                "state": "enabled"
            }, 
            "network_interfaces": [
                {
                    "association": {
                        "ip_owner_id": "amazon", 
                        "public_dns_name": "", 
                        "public_ip": "52.221.224.212"
                    }, 
                    "attachment": {
                        "attach_time": "2019-09-13T13:03:43+00:00", 
                        "attachment_id": "eni-attach-0fe77e2c2c9f79f42", 
                        "delete_on_termination": true, 
                        "device_index": 0, 
                        "status": "attached"
                    }, 
                    "description": "Primary network interface", 
                    "groups": [
                        {
                            "group_id": "sg-0253280c071c020be", 
                            "group_name": "banna_node_ssh"
                        }, 
                        {
                            "group_id": "sg-081234813d3004af1", 
                            "group_name": "banna-Node_all"
                        }, 
                        {
                            "group_id": "sg-0d0b784231a27fb06", 
                            "group_name": "banna-ssh"
                        }
                    ], 
                    "interface_type": "interface", 
                    "ipv6_addresses": [], 
                    "mac_address": "06:ee:04:fa:2d:6c", 
                    "network_interface_id": "eni-0064028d3b3d49a45", 
                    "owner_id": "607624181858", 
                    "private_ip_address": "10.10.10.244", 
                    "private_ip_addresses": [
                        {
                            "association": {
                                "ip_owner_id": "amazon", 
                                "public_dns_name": "", 
                                "public_ip": "52.221.224.212"
                            }, 
                            "primary": true, 
                            "private_ip_address": "10.10.10.244"
                        }
                    ], 
                    "source_dest_check": true, 
                    "status": "in-use", 
                    "subnet_id": "subnet-088bda43bbded2f4a", 
                    "vpc_id": "vpc-0b392999d1d961a4b"
                }
            ], 
            "placement": {
                "availability_zone": "ap-southeast-1a", 
                "group_name": "", 
                "tenancy": "default"
            }, 
            "private_dns_name": "ip-10-10-10-244.ap-southeast-1.compute.internal", 
            "private_ip_address": "10.10.10.244", 
            "product_codes": [
                {
                    "product_code_id": "aw0evgkw8e5c1q413zgy5pjce", 
                    "product_code_type": "marketplace"
                }
            ], 
            "public_dns_name": "", 
            "public_ip_address": "52.221.224.212", 
            "root_device_name": "/dev/sda1", 
            "root_device_type": "ebs", 
            "security_groups": [
                {
                    "group_id": "sg-0253280c071c020be", 
                    "group_name": "banna_node_ssh"
                }, 
                {
                    "group_id": "sg-081234813d3004af1", 
                    "group_name": "banna-Node_all"
                }, 
                {
                    "group_id": "sg-0d0b784231a27fb06", 
                    "group_name": "banna-ssh"
                }
            ], 
            "source_dest_check": true, 
            "state": {
                "code": 16, 
                "name": "running"
            }, 
            "state_transition_reason": "", 
            "subnet_id": "subnet-088bda43bbded2f4a", 
            "tags": {
                "Name": "banna-ansible"
            }, 
            "virtualization_type": "hvm", 
            "vpc_id": "vpc-0b392999d1d961a4b"
        }
    ], 
    "invocation": {
        "module_args": {
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "debug_botocore_endpoint_logs": false, 
            "ec2_url": null, 
            "filters": {
                "instance-state-name": [
                    "running"
                ], 
                "vpc-id": "vpc-0b392999d1d961a4b"
            }, 
            "instance_ids": [], 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "validate_certs": true
        }
    }
}
2019-09-13 19:52:59,456 p=13440 u=root |  TASK [ec2.metric_alarm : set facts: instance IDs] **********************************************************************************************************************************************************
2019-09-13 19:52:59,456 p=13440 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/instance_id_fact.yml:23
2019-09-13 19:52:59,474 p=13440 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "instance_ids": "[AnsibleUndefined, AnsibleUndefined, AnsibleUndefined, AnsibleUndefined]"
    }, 
    "changed": false
}
2019-09-13 19:52:59,474 p=13440 u=root |  META: ran handlers
2019-09-13 19:52:59,475 p=13440 u=root |  META: ran handlers
2019-09-13 19:52:59,476 p=13440 u=root |  PLAY RECAP *************************************************************************************************************************************************************************************************
2019-09-13 19:52:59,476 p=13440 u=root |  localhost                  : ok=5    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2019-09-13 20:26:17,529 p=13591 u=root |  ansible-playbook 2.8.4
  config file = /home/centos/cloudwatch/ansible.cfg
  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python2.7/site-packages/ansible
  executable location = /bin/ansible-playbook
  python version = 2.7.5 (default, Jun 20 2019, 20:27:34) [GCC 4.8.5 20150623 (Red Hat 4.8.5-36)]
2019-09-13 20:26:17,529 p=13591 u=root |  Using /home/centos/cloudwatch/ansible.cfg as config file
2019-09-13 20:26:17,537 p=13591 u=root |  host_list declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 20:26:17,537 p=13591 u=root |  script declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 20:26:17,537 p=13591 u=root |  auto declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 20:26:17,540 p=13591 u=root |  Parsed /etc/ansible/hosts inventory source with ini plugin
2019-09-13 20:26:17,542 p=13591 u=root |   [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2019-09-13 20:26:17,761 p=13591 u=root |  statically imported: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/instance_id_fact.yml
2019-09-13 20:26:17,967 p=13591 u=root |  PLAYBOOK: EC2_Alarms.yml ***********************************************************************************************************************************************************************************
2019-09-13 20:26:17,968 p=13591 u=root |  1 plays in EC2_Alarms.yml
2019-09-13 20:26:17,998 p=13591 u=root |  PLAY [Create IT Monitor EC2 vHost] *************************************************************************************************************************************************************************
2019-09-13 20:26:18,009 p=13591 u=root |  TASK [Gathering Facts] *************************************************************************************************************************************************************************************
2019-09-13 20:26:18,009 p=13591 u=root |  task path: /home/centos/cloudwatch/EC2_Alarms.yml:2
2019-09-13 20:26:18,020 p=13591 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 20:26:18,020 p=13591 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 20:26:18,027 p=13591 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568406378.02-273256800868726 `" && echo ansible-tmp-1568406378.02-273256800868726="` echo /root/.ansible/tmp/ansible-tmp-1568406378.02-273256800868726 `" ) && sleep 0'
2019-09-13 20:26:18,394 p=13591 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/system/setup.py
2019-09-13 20:26:18,394 p=13591 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-13591x6rgYH/tmpjaKy9k TO /root/.ansible/tmp/ansible-tmp-1568406378.02-273256800868726/AnsiballZ_setup.py
2019-09-13 20:26:18,395 p=13591 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568406378.02-273256800868726/ /root/.ansible/tmp/ansible-tmp-1568406378.02-273256800868726/AnsiballZ_setup.py && sleep 0'
2019-09-13 20:26:18,403 p=13591 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568406378.02-273256800868726/AnsiballZ_setup.py && sleep 0'
2019-09-13 20:26:18,822 p=13591 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568406378.02-273256800868726/ > /dev/null 2>&1 && sleep 0'
2019-09-13 20:26:18,854 p=13591 u=root |  ok: [localhost]
2019-09-13 20:26:18,854 p=13591 u=root |  META: ran handlers
2019-09-13 20:26:18,872 p=13591 u=root |  TASK [ec2.metric_alarm : VPC facts] ************************************************************************************************************************************************************************
2019-09-13 20:26:18,872 p=13591 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/instance_id_fact.yml:3
2019-09-13 20:26:18,887 p=13591 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 20:26:18,887 p=13591 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 20:26:18,895 p=13591 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568406378.89-211973392749928 `" && echo ansible-tmp-1568406378.89-211973392749928="` echo /root/.ansible/tmp/ansible-tmp-1568406378.89-211973392749928 `" ) && sleep 0'
2019-09-13 20:26:19,108 p=13591 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_vpc_net_facts.py
2019-09-13 20:26:19,109 p=13591 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-13591x6rgYH/tmpZR077e TO /root/.ansible/tmp/ansible-tmp-1568406378.89-211973392749928/AnsiballZ_ec2_vpc_net_facts.py
2019-09-13 20:26:19,110 p=13591 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568406378.89-211973392749928/ /root/.ansible/tmp/ansible-tmp-1568406378.89-211973392749928/AnsiballZ_ec2_vpc_net_facts.py && sleep 0'
2019-09-13 20:26:19,117 p=13591 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568406378.89-211973392749928/AnsiballZ_ec2_vpc_net_facts.py && sleep 0'
2019-09-13 20:26:20,017 p=13591 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568406378.89-211973392749928/ > /dev/null 2>&1 && sleep 0'
2019-09-13 20:26:20,031 p=13591 u=root |  ok: [localhost] => {
    "changed": false, 
    "invocation": {
        "module_args": {
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "debug_botocore_endpoint_logs": false, 
            "ec2_url": null, 
            "filters": {
                "tag:Name": "banna"
            }, 
            "profile": null, 
            "region": null, 
            "security_token": null, 
            "validate_certs": true, 
            "vpc_ids": []
        }
    }, 
    "vpcs": [
        {
            "cidr_block": "10.10.0.0/16", 
            "cidr_block_association_set": [
                {
                    "association_id": "vpc-cidr-assoc-0a94dbbca27fc4830", 
                    "cidr_block": "10.10.0.0/16", 
                    "cidr_block_state": {
                        "state": "associated"
                    }
                }
            ], 
            "classic_link_dns_supported": false, 
            "classic_link_enabled": false, 
            "dhcp_options_id": "dopt-6a07350d", 
            "enable_dns_hostnames": false, 
            "enable_dns_support": true, 
            "id": "vpc-0b392999d1d961a4b", 
            "instance_tenancy": "default", 
            "is_default": false, 
            "owner_id": "607624181858", 
            "state": "available", 
            "tags": {
                "Name": "banna"
            }, 
            "vpc_id": "vpc-0b392999d1d961a4b"
        }
    ]
}
2019-09-13 20:26:20,048 p=13591 u=root |  TASK [ec2.metric_alarm : set fact: VPC ID] *****************************************************************************************************************************************************************
2019-09-13 20:26:20,048 p=13591 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/instance_id_fact.yml:10
2019-09-13 20:26:20,064 p=13591 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "vpc_id": "vpc-0b392999d1d961a4b"
    }, 
    "changed": false
}
2019-09-13 20:26:20,081 p=13591 u=root |  TASK [ec2.metric_alarm : capture instance facts] ***********************************************************************************************************************************************************
2019-09-13 20:26:20,081 p=13591 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/instance_id_fact.yml:15
2019-09-13 20:26:20,098 p=13591 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 20:26:20,098 p=13591 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 20:26:20,106 p=13591 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568406380.1-192138613591004 `" && echo ansible-tmp-1568406380.1-192138613591004="` echo /root/.ansible/tmp/ansible-tmp-1568406380.1-192138613591004 `" ) && sleep 0'
2019-09-13 20:26:20,320 p=13591 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_instance_facts.py
2019-09-13 20:26:20,321 p=13591 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-13591x6rgYH/tmpsK1rXc TO /root/.ansible/tmp/ansible-tmp-1568406380.1-192138613591004/AnsiballZ_ec2_instance_facts.py
2019-09-13 20:26:20,321 p=13591 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568406380.1-192138613591004/ /root/.ansible/tmp/ansible-tmp-1568406380.1-192138613591004/AnsiballZ_ec2_instance_facts.py && sleep 0'
2019-09-13 20:26:20,330 p=13591 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568406380.1-192138613591004/AnsiballZ_ec2_instance_facts.py && sleep 0'
2019-09-13 20:26:21,198 p=13591 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568406380.1-192138613591004/ > /dev/null 2>&1 && sleep 0'
2019-09-13 20:26:21,233 p=13591 u=root |  ok: [localhost] => {
    "changed": false, 
    "instances": [
        {
            "ami_launch_index": 0, 
            "architecture": "x86_64", 
            "block_device_mappings": [
                {
                    "device_name": "/dev/sda1", 
                    "ebs": {
                        "attach_time": "2019-08-23T04:25:48+00:00", 
                        "delete_on_termination": true, 
                        "status": "attached", 
                        "volume_id": "vol-016d3544223e2f652"
                    }
                }
            ], 
            "capacity_reservation_specification": {
                "capacity_reservation_preference": "open"
            }, 
            "client_token": "", 
            "cpu_options": {
                "core_count": 2, 
                "threads_per_core": 2
            }, 
            "ebs_optimized": true, 
            "ena_support": true, 
            "hibernation_options": {
                "configured": false
            }, 
            "hypervisor": "xen", 
            "image_id": "ami-0870ed7dabc81cf98", 
            "instance_id": "i-012b2a742d6b6356c", 
            "instance_type": "m5a.xlarge", 
            "key_name": "simon-test-win", 
            "launch_time": "2019-08-23T04:25:48+00:00", 
            "monitoring": {
                "state": "disabled"
            }, 
            "network_interfaces": [
                {
                    "association": {
                        "ip_owner_id": "amazon", 
                        "public_dns_name": "", 
                        "public_ip": "54.255.228.58"
                    }, 
                    "attachment": {
                        "attach_time": "2019-08-23T04:25:48+00:00", 
                        "attachment_id": "eni-attach-0cdbbc454fce44ce8", 
                        "delete_on_termination": true, 
                        "device_index": 0, 
                        "status": "attached"
                    }, 
                    "description": "Primary network interface", 
                    "groups": [
                        {
                            "group_id": "sg-0983408337a18d266", 
                            "group_name": "windows-all"
                        }
                    ], 
                    "interface_type": "interface", 
                    "ipv6_addresses": [], 
                    "mac_address": "06:23:7a:58:20:88", 
                    "network_interface_id": "eni-0e7144eed80222c0d", 
                    "owner_id": "607624181858", 
                    "private_ip_address": "10.10.10.222", 
                    "private_ip_addresses": [
                        {
                            "association": {
                                "ip_owner_id": "amazon", 
                                "public_dns_name": "", 
                                "public_ip": "54.255.228.58"
                            }, 
                            "primary": true, 
                            "private_ip_address": "10.10.10.222"
                        }
                    ], 
                    "source_dest_check": true, 
                    "status": "in-use", 
                    "subnet_id": "subnet-088bda43bbded2f4a", 
                    "vpc_id": "vpc-0b392999d1d961a4b"
                }
            ], 
            "placement": {
                "availability_zone": "ap-southeast-1a", 
                "group_name": "", 
                "tenancy": "default"
            }, 
            "platform": "windows", 
            "private_dns_name": "ip-10-10-10-222.ap-southeast-1.compute.internal", 
            "private_ip_address": "10.10.10.222", 
            "product_codes": [], 
            "public_dns_name": "", 
            "public_ip_address": "54.255.228.58", 
            "root_device_name": "/dev/sda1", 
            "root_device_type": "ebs", 
            "security_groups": [
                {
                    "group_id": "sg-0983408337a18d266", 
                    "group_name": "windows-all"
                }
            ], 
            "source_dest_check": true, 
            "state": {
                "code": 16, 
                "name": "running"
            }, 
            "state_transition_reason": "", 
            "subnet_id": "subnet-088bda43bbded2f4a", 
            "tags": {
                "Name": "simontest"
            }, 
            "virtualization_type": "hvm", 
            "vpc_id": "vpc-0b392999d1d961a4b"
        }, 
        {
            "ami_launch_index": 0, 
            "architecture": "x86_64", 
            "block_device_mappings": [
                {
                    "device_name": "/dev/sda1", 
                    "ebs": {
                        "attach_time": "2019-08-26T08:11:38+00:00", 
                        "delete_on_termination": false, 
                        "status": "attached", 
                        "volume_id": "vol-0ce54cacbf9b36b84"
                    }
                }
            ], 
            "capacity_reservation_specification": {
                "capacity_reservation_preference": "open"
            }, 
            "client_token": "15668070934436198", 
            "cpu_options": {
                "core_count": 1, 
                "threads_per_core": 2
            }, 
            "ebs_optimized": true, 
            "ena_support": true, 
            "hibernation_options": {
                "configured": false
            }, 
            "hypervisor": "xen", 
            "image_id": "ami-0b4dd9d65556cac22", 
            "instance_id": "i-097e7b29137921c72", 
            "instance_type": "m5.large", 
            "key_name": "simon-test-win", 
            "launch_time": "2019-08-26T08:11:37+00:00", 
            "monitoring": {
                "state": "disabled"
            }, 
            "network_interfaces": [
                {
                    "association": {
                        "ip_owner_id": "amazon", 
                        "public_dns_name": "", 
                        "public_ip": "13.229.227.108"
                    }, 
                    "attachment": {
                        "attach_time": "2019-08-26T08:11:37+00:00", 
                        "attachment_id": "eni-attach-043955a62732ee4bb", 
                        "delete_on_termination": true, 
                        "device_index": 0, 
                        "status": "attached"
                    }, 
                    "description": "Primary network interface", 
                    "groups": [
                        {
                            "group_id": "sg-0253280c071c020be", 
                            "group_name": "banna_node_ssh"
                        }
                    ], 
                    "interface_type": "interface", 
                    "ipv6_addresses": [], 
                    "mac_address": "06:fd:e3:5b:67:e4", 
                    "network_interface_id": "eni-070495043c5b5f587", 
                    "owner_id": "607624181858", 
                    "private_ip_address": "10.10.10.183", 
                    "private_ip_addresses": [
                        {
                            "association": {
                                "ip_owner_id": "amazon", 
                                "public_dns_name": "", 
                                "public_ip": "13.229.227.108"
                            }, 
                            "primary": true, 
                            "private_ip_address": "10.10.10.183"
                        }
                    ], 
                    "source_dest_check": true, 
                    "status": "in-use", 
                    "subnet_id": "subnet-088bda43bbded2f4a", 
                    "vpc_id": "vpc-0b392999d1d961a4b"
                }
            ], 
            "placement": {
                "availability_zone": "ap-southeast-1a", 
                "group_name": "", 
                "tenancy": "default"
            }, 
            "private_dns_name": "ip-10-10-10-183.ap-southeast-1.compute.internal", 
            "private_ip_address": "10.10.10.183", 
            "product_codes": [
                {
                    "product_code_id": "aw0evgkw8e5c1q413zgy5pjce", 
                    "product_code_type": "marketplace"
                }
            ], 
            "public_dns_name": "", 
            "public_ip_address": "13.229.227.108", 
            "root_device_name": "/dev/sda1", 
            "root_device_type": "ebs", 
            "security_groups": [
                {
                    "group_id": "sg-0253280c071c020be", 
                    "group_name": "banna_node_ssh"
                }
            ], 
            "source_dest_check": true, 
            "state": {
                "code": 16, 
                "name": "running"
            }, 
            "state_transition_reason": "", 
            "subnet_id": "subnet-088bda43bbded2f4a", 
            "tags": {
                "Name": "simontest"
            }, 
            "virtualization_type": "hvm", 
            "vpc_id": "vpc-0b392999d1d961a4b"
        }, 
        {
            "ami_launch_index": 0, 
            "architecture": "x86_64", 
            "block_device_mappings": [
                {
                    "device_name": "/dev/sda1", 
                    "ebs": {
                        "attach_time": "2019-09-13T13:09:41+00:00", 
                        "delete_on_termination": false, 
                        "status": "attached", 
                        "volume_id": "vol-0e8f938843f50eeec"
                    }
                }
            ], 
            "capacity_reservation_specification": {
                "capacity_reservation_preference": "open"
            }, 
            "client_token": "4ad5b4aa-f94c-ce2c-a2be-62c3e99d0b2d_subnet-05bcad98343c72643_1", 
            "cpu_options": {
                "core_count": 2, 
                "threads_per_core": 1
            }, 
            "ebs_optimized": false, 
            "ena_support": true, 
            "hibernation_options": {
                "configured": false
            }, 
            "hypervisor": "xen", 
            "image_id": "ami-08dcd6ec842f060c6", 
            "instance_id": "i-070cd6f3e291cc696", 
            "instance_type": "t2.medium", 
            "key_name": "banna2.0", 
            "launch_time": "2019-09-13T13:09:40+00:00", 
            "monitoring": {
                "state": "enabled"
            }, 
            "network_interfaces": [
                {
                    "attachment": {
                        "attach_time": "2019-09-13T13:09:40+00:00", 
                        "attachment_id": "eni-attach-0f9b56b25d08736e5", 
                        "delete_on_termination": true, 
                        "device_index": 0, 
                        "status": "attached"
                    }, 
                    "description": "", 
                    "groups": [
                        {
                            "group_id": "sg-0253280c071c020be", 
                            "group_name": "banna_node_ssh"
                        }, 
                        {
                            "group_id": "sg-081234813d3004af1", 
                            "group_name": "banna-Node_all"
                        }
                    ], 
                    "interface_type": "interface", 
                    "ipv6_addresses": [], 
                    "mac_address": "0a:4d:b1:e3:2d:3c", 
                    "network_interface_id": "eni-078f0591601d80fb1", 
                    "owner_id": "607624181858", 
                    "private_ip_address": "10.10.12.177", 
                    "private_ip_addresses": [
                        {
                            "primary": true, 
                            "private_ip_address": "10.10.12.177"
                        }
                    ], 
                    "source_dest_check": true, 
                    "status": "in-use", 
                    "subnet_id": "subnet-05bcad98343c72643", 
                    "vpc_id": "vpc-0b392999d1d961a4b"
                }
            ], 
            "placement": {
                "availability_zone": "ap-southeast-1c", 
                "group_name": "", 
                "tenancy": "default"
            }, 
            "private_dns_name": "ip-10-10-12-177.ap-southeast-1.compute.internal", 
            "private_ip_address": "10.10.12.177", 
            "product_codes": [
                {
                    "product_code_id": "aw0evgkw8e5c1q413zgy5pjce", 
                    "product_code_type": "marketplace"
                }
            ], 
            "public_dns_name": "", 
            "root_device_name": "/dev/sda1", 
            "root_device_type": "ebs", 
            "security_groups": [
                {
                    "group_id": "sg-0253280c071c020be", 
                    "group_name": "banna_node_ssh"
                }, 
                {
                    "group_id": "sg-081234813d3004af1", 
                    "group_name": "banna-Node_all"
                }
            ], 
            "source_dest_check": true, 
            "state": {
                "code": 16, 
                "name": "running"
            }, 
            "state_transition_reason": "", 
            "subnet_id": "subnet-05bcad98343c72643", 
            "tags": {
                "Environment": "Production", 
                "Name": "banna", 
                "aws:autoscaling:groupName": " banna-asg-group"
            }, 
            "virtualization_type": "hvm", 
            "vpc_id": "vpc-0b392999d1d961a4b"
        }, 
        {
            "ami_launch_index": 0, 
            "architecture": "x86_64", 
            "block_device_mappings": [
                {
                    "device_name": "/dev/sda1", 
                    "ebs": {
                        "attach_time": "2019-09-13T13:03:44+00:00", 
                        "delete_on_termination": false, 
                        "status": "attached", 
                        "volume_id": "vol-0e4d420753c30f31c"
                    }
                }
            ], 
            "capacity_reservation_specification": {
                "capacity_reservation_preference": "open"
            }, 
            "client_token": "156837982124332024", 
            "cpu_options": {
                "core_count": 2, 
                "threads_per_core": 1
            }, 
            "ebs_optimized": false, 
            "ena_support": true, 
            "hibernation_options": {
                "configured": false
            }, 
            "hypervisor": "xen", 
            "image_id": "ami-0b4dd9d65556cac22", 
            "instance_id": "i-07c99ca11bb187e05", 
            "instance_type": "t2.medium", 
            "key_name": "banna2.0", 
            "launch_time": "2019-09-13T13:03:43+00:00", 
            "monitoring": {
                "state": "enabled"
            }, 
            "network_interfaces": [
                {
                    "association": {
                        "ip_owner_id": "amazon", 
                        "public_dns_name": "", 
                        "public_ip": "52.221.224.212"
                    }, 
                    "attachment": {
                        "attach_time": "2019-09-13T13:03:43+00:00", 
                        "attachment_id": "eni-attach-0fe77e2c2c9f79f42", 
                        "delete_on_termination": true, 
                        "device_index": 0, 
                        "status": "attached"
                    }, 
                    "description": "Primary network interface", 
                    "groups": [
                        {
                            "group_id": "sg-0253280c071c020be", 
                            "group_name": "banna_node_ssh"
                        }, 
                        {
                            "group_id": "sg-081234813d3004af1", 
                            "group_name": "banna-Node_all"
                        }, 
                        {
                            "group_id": "sg-0d0b784231a27fb06", 
                            "group_name": "banna-ssh"
                        }
                    ], 
                    "interface_type": "interface", 
                    "ipv6_addresses": [], 
                    "mac_address": "06:ee:04:fa:2d:6c", 
                    "network_interface_id": "eni-0064028d3b3d49a45", 
                    "owner_id": "607624181858", 
                    "private_ip_address": "10.10.10.244", 
                    "private_ip_addresses": [
                        {
                            "association": {
                                "ip_owner_id": "amazon", 
                                "public_dns_name": "", 
                                "public_ip": "52.221.224.212"
                            }, 
                            "primary": true, 
                            "private_ip_address": "10.10.10.244"
                        }
                    ], 
                    "source_dest_check": true, 
                    "status": "in-use", 
                    "subnet_id": "subnet-088bda43bbded2f4a", 
                    "vpc_id": "vpc-0b392999d1d961a4b"
                }
            ], 
            "placement": {
                "availability_zone": "ap-southeast-1a", 
                "group_name": "", 
                "tenancy": "default"
            }, 
            "private_dns_name": "ip-10-10-10-244.ap-southeast-1.compute.internal", 
            "private_ip_address": "10.10.10.244", 
            "product_codes": [
                {
                    "product_code_id": "aw0evgkw8e5c1q413zgy5pjce", 
                    "product_code_type": "marketplace"
                }
            ], 
            "public_dns_name": "", 
            "public_ip_address": "52.221.224.212", 
            "root_device_name": "/dev/sda1", 
            "root_device_type": "ebs", 
            "security_groups": [
                {
                    "group_id": "sg-0253280c071c020be", 
                    "group_name": "banna_node_ssh"
                }, 
                {
                    "group_id": "sg-081234813d3004af1", 
                    "group_name": "banna-Node_all"
                }, 
                {
                    "group_id": "sg-0d0b784231a27fb06", 
                    "group_name": "banna-ssh"
                }
            ], 
            "source_dest_check": true, 
            "state": {
                "code": 16, 
                "name": "running"
            }, 
            "state_transition_reason": "", 
            "subnet_id": "subnet-088bda43bbded2f4a", 
            "tags": {
                "Name": "banna-ansible"
            }, 
            "virtualization_type": "hvm", 
            "vpc_id": "vpc-0b392999d1d961a4b"
        }
    ], 
    "invocation": {
        "module_args": {
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "debug_botocore_endpoint_logs": false, 
            "ec2_url": null, 
            "filters": {
                "instance-state-name": [
                    "running"
                ], 
                "vpc-id": "vpc-0b392999d1d961a4b"
            }, 
            "instance_ids": [], 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "validate_certs": true
        }
    }
}
2019-09-13 20:26:21,250 p=13591 u=root |  TASK [ec2.metric_alarm : set facts: instance IDs] **********************************************************************************************************************************************************
2019-09-13 20:26:21,250 p=13591 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/instance_id_fact.yml:23
2019-09-13 20:26:21,270 p=13591 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "instance_ids": [
            "i-012b2a742d6b6356c", 
            "i-097e7b29137921c72", 
            "i-070cd6f3e291cc696", 
            "i-07c99ca11bb187e05"
        ]
    }, 
    "changed": false
}
2019-09-13 20:26:21,270 p=13591 u=root |  META: ran handlers
2019-09-13 20:26:21,271 p=13591 u=root |  META: ran handlers
2019-09-13 20:26:21,272 p=13591 u=root |  PLAY RECAP *************************************************************************************************************************************************************************************************
2019-09-13 20:26:21,272 p=13591 u=root |  localhost                  : ok=5    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2019-09-13 20:30:52,236 p=13724 u=root |  ansible-playbook 2.8.4
  config file = /home/centos/cloudwatch/ansible.cfg
  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python2.7/site-packages/ansible
  executable location = /bin/ansible-playbook
  python version = 2.7.5 (default, Jun 20 2019, 20:27:34) [GCC 4.8.5 20150623 (Red Hat 4.8.5-36)]
2019-09-13 20:30:52,236 p=13724 u=root |  Using /home/centos/cloudwatch/ansible.cfg as config file
2019-09-13 20:30:52,244 p=13724 u=root |  host_list declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 20:30:52,244 p=13724 u=root |  script declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 20:30:52,244 p=13724 u=root |  auto declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 20:30:52,247 p=13724 u=root |  Parsed /etc/ansible/hosts inventory source with ini plugin
2019-09-13 20:30:52,249 p=13724 u=root |   [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2019-09-13 20:30:52,464 p=13724 u=root |  statically imported: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/instance_id_fact.yml
2019-09-13 20:30:52,673 p=13724 u=root |  PLAYBOOK: EC2_Alarms.yml ***********************************************************************************************************************************************************************************
2019-09-13 20:30:52,673 p=13724 u=root |  1 plays in EC2_Alarms.yml
2019-09-13 20:30:52,704 p=13724 u=root |  PLAY [Create IT Monitor EC2 vHost] *************************************************************************************************************************************************************************
2019-09-13 20:30:52,715 p=13724 u=root |  TASK [Gathering Facts] *************************************************************************************************************************************************************************************
2019-09-13 20:30:52,715 p=13724 u=root |  task path: /home/centos/cloudwatch/EC2_Alarms.yml:2
2019-09-13 20:30:52,725 p=13724 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 20:30:52,725 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 20:30:52,732 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568406652.72-198290926825570 `" && echo ansible-tmp-1568406652.72-198290926825570="` echo /root/.ansible/tmp/ansible-tmp-1568406652.72-198290926825570 `" ) && sleep 0'
2019-09-13 20:30:53,095 p=13724 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/system/setup.py
2019-09-13 20:30:53,096 p=13724 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-13724_Hi3VZ/tmp3kD4lw TO /root/.ansible/tmp/ansible-tmp-1568406652.72-198290926825570/AnsiballZ_setup.py
2019-09-13 20:30:53,097 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568406652.72-198290926825570/ /root/.ansible/tmp/ansible-tmp-1568406652.72-198290926825570/AnsiballZ_setup.py && sleep 0'
2019-09-13 20:30:53,105 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568406652.72-198290926825570/AnsiballZ_setup.py && sleep 0'
2019-09-13 20:30:53,602 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568406652.72-198290926825570/ > /dev/null 2>&1 && sleep 0'
2019-09-13 20:30:53,634 p=13724 u=root |  ok: [localhost]
2019-09-13 20:30:53,635 p=13724 u=root |  META: ran handlers
2019-09-13 20:30:53,652 p=13724 u=root |  TASK [ec2.metric_alarm : VPC facts] ************************************************************************************************************************************************************************
2019-09-13 20:30:53,653 p=13724 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/instance_id_fact.yml:3
2019-09-13 20:30:53,667 p=13724 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 20:30:53,667 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 20:30:53,674 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568406653.67-251464227393472 `" && echo ansible-tmp-1568406653.67-251464227393472="` echo /root/.ansible/tmp/ansible-tmp-1568406653.67-251464227393472 `" ) && sleep 0'
2019-09-13 20:30:53,888 p=13724 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_vpc_net_facts.py
2019-09-13 20:30:53,888 p=13724 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-13724_Hi3VZ/tmpnrLN6o TO /root/.ansible/tmp/ansible-tmp-1568406653.67-251464227393472/AnsiballZ_ec2_vpc_net_facts.py
2019-09-13 20:30:53,889 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568406653.67-251464227393472/ /root/.ansible/tmp/ansible-tmp-1568406653.67-251464227393472/AnsiballZ_ec2_vpc_net_facts.py && sleep 0'
2019-09-13 20:30:53,897 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568406653.67-251464227393472/AnsiballZ_ec2_vpc_net_facts.py && sleep 0'
2019-09-13 20:30:54,751 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568406653.67-251464227393472/ > /dev/null 2>&1 && sleep 0'
2019-09-13 20:30:54,765 p=13724 u=root |  ok: [localhost] => {
    "changed": false, 
    "invocation": {
        "module_args": {
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "debug_botocore_endpoint_logs": false, 
            "ec2_url": null, 
            "filters": {
                "tag:Name": "banna"
            }, 
            "profile": null, 
            "region": null, 
            "security_token": null, 
            "validate_certs": true, 
            "vpc_ids": []
        }
    }, 
    "vpcs": [
        {
            "cidr_block": "10.10.0.0/16", 
            "cidr_block_association_set": [
                {
                    "association_id": "vpc-cidr-assoc-0a94dbbca27fc4830", 
                    "cidr_block": "10.10.0.0/16", 
                    "cidr_block_state": {
                        "state": "associated"
                    }
                }
            ], 
            "classic_link_dns_supported": false, 
            "classic_link_enabled": false, 
            "dhcp_options_id": "dopt-6a07350d", 
            "enable_dns_hostnames": false, 
            "enable_dns_support": true, 
            "id": "vpc-0b392999d1d961a4b", 
            "instance_tenancy": "default", 
            "is_default": false, 
            "owner_id": "607624181858", 
            "state": "available", 
            "tags": {
                "Name": "banna"
            }, 
            "vpc_id": "vpc-0b392999d1d961a4b"
        }
    ]
}
2019-09-13 20:30:54,782 p=13724 u=root |  TASK [ec2.metric_alarm : set fact: VPC ID] *****************************************************************************************************************************************************************
2019-09-13 20:30:54,782 p=13724 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/instance_id_fact.yml:10
2019-09-13 20:30:54,798 p=13724 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "vpc_id": "vpc-0b392999d1d961a4b"
    }, 
    "changed": false
}
2019-09-13 20:30:54,815 p=13724 u=root |  TASK [ec2.metric_alarm : capture instance facts] ***********************************************************************************************************************************************************
2019-09-13 20:30:54,815 p=13724 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/instance_id_fact.yml:15
2019-09-13 20:30:54,832 p=13724 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 20:30:54,832 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 20:30:54,839 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568406654.83-262234112511360 `" && echo ansible-tmp-1568406654.83-262234112511360="` echo /root/.ansible/tmp/ansible-tmp-1568406654.83-262234112511360 `" ) && sleep 0'
2019-09-13 20:30:55,055 p=13724 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_instance_facts.py
2019-09-13 20:30:55,056 p=13724 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-13724_Hi3VZ/tmpFxWbtq TO /root/.ansible/tmp/ansible-tmp-1568406654.83-262234112511360/AnsiballZ_ec2_instance_facts.py
2019-09-13 20:30:55,057 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568406654.83-262234112511360/ /root/.ansible/tmp/ansible-tmp-1568406654.83-262234112511360/AnsiballZ_ec2_instance_facts.py && sleep 0'
2019-09-13 20:30:55,064 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568406654.83-262234112511360/AnsiballZ_ec2_instance_facts.py && sleep 0'
2019-09-13 20:30:55,763 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568406654.83-262234112511360/ > /dev/null 2>&1 && sleep 0'
2019-09-13 20:30:55,799 p=13724 u=root |  ok: [localhost] => {
    "changed": false, 
    "instances": [
        {
            "ami_launch_index": 0, 
            "architecture": "x86_64", 
            "block_device_mappings": [
                {
                    "device_name": "/dev/sda1", 
                    "ebs": {
                        "attach_time": "2019-08-23T04:25:48+00:00", 
                        "delete_on_termination": true, 
                        "status": "attached", 
                        "volume_id": "vol-016d3544223e2f652"
                    }
                }
            ], 
            "capacity_reservation_specification": {
                "capacity_reservation_preference": "open"
            }, 
            "client_token": "", 
            "cpu_options": {
                "core_count": 2, 
                "threads_per_core": 2
            }, 
            "ebs_optimized": true, 
            "ena_support": true, 
            "hibernation_options": {
                "configured": false
            }, 
            "hypervisor": "xen", 
            "image_id": "ami-0870ed7dabc81cf98", 
            "instance_id": "i-012b2a742d6b6356c", 
            "instance_type": "m5a.xlarge", 
            "key_name": "simon-test-win", 
            "launch_time": "2019-08-23T04:25:48+00:00", 
            "monitoring": {
                "state": "disabled"
            }, 
            "network_interfaces": [
                {
                    "association": {
                        "ip_owner_id": "amazon", 
                        "public_dns_name": "", 
                        "public_ip": "54.255.228.58"
                    }, 
                    "attachment": {
                        "attach_time": "2019-08-23T04:25:48+00:00", 
                        "attachment_id": "eni-attach-0cdbbc454fce44ce8", 
                        "delete_on_termination": true, 
                        "device_index": 0, 
                        "status": "attached"
                    }, 
                    "description": "Primary network interface", 
                    "groups": [
                        {
                            "group_id": "sg-0983408337a18d266", 
                            "group_name": "windows-all"
                        }
                    ], 
                    "interface_type": "interface", 
                    "ipv6_addresses": [], 
                    "mac_address": "06:23:7a:58:20:88", 
                    "network_interface_id": "eni-0e7144eed80222c0d", 
                    "owner_id": "607624181858", 
                    "private_ip_address": "10.10.10.222", 
                    "private_ip_addresses": [
                        {
                            "association": {
                                "ip_owner_id": "amazon", 
                                "public_dns_name": "", 
                                "public_ip": "54.255.228.58"
                            }, 
                            "primary": true, 
                            "private_ip_address": "10.10.10.222"
                        }
                    ], 
                    "source_dest_check": true, 
                    "status": "in-use", 
                    "subnet_id": "subnet-088bda43bbded2f4a", 
                    "vpc_id": "vpc-0b392999d1d961a4b"
                }
            ], 
            "placement": {
                "availability_zone": "ap-southeast-1a", 
                "group_name": "", 
                "tenancy": "default"
            }, 
            "platform": "windows", 
            "private_dns_name": "ip-10-10-10-222.ap-southeast-1.compute.internal", 
            "private_ip_address": "10.10.10.222", 
            "product_codes": [], 
            "public_dns_name": "", 
            "public_ip_address": "54.255.228.58", 
            "root_device_name": "/dev/sda1", 
            "root_device_type": "ebs", 
            "security_groups": [
                {
                    "group_id": "sg-0983408337a18d266", 
                    "group_name": "windows-all"
                }
            ], 
            "source_dest_check": true, 
            "state": {
                "code": 16, 
                "name": "running"
            }, 
            "state_transition_reason": "", 
            "subnet_id": "subnet-088bda43bbded2f4a", 
            "tags": {
                "Name": "simontest01"
            }, 
            "virtualization_type": "hvm", 
            "vpc_id": "vpc-0b392999d1d961a4b"
        }, 
        {
            "ami_launch_index": 0, 
            "architecture": "x86_64", 
            "block_device_mappings": [
                {
                    "device_name": "/dev/sda1", 
                    "ebs": {
                        "attach_time": "2019-08-26T08:11:38+00:00", 
                        "delete_on_termination": false, 
                        "status": "attached", 
                        "volume_id": "vol-0ce54cacbf9b36b84"
                    }
                }
            ], 
            "capacity_reservation_specification": {
                "capacity_reservation_preference": "open"
            }, 
            "client_token": "15668070934436198", 
            "cpu_options": {
                "core_count": 1, 
                "threads_per_core": 2
            }, 
            "ebs_optimized": true, 
            "ena_support": true, 
            "hibernation_options": {
                "configured": false
            }, 
            "hypervisor": "xen", 
            "image_id": "ami-0b4dd9d65556cac22", 
            "instance_id": "i-097e7b29137921c72", 
            "instance_type": "m5.large", 
            "key_name": "simon-test-win", 
            "launch_time": "2019-08-26T08:11:37+00:00", 
            "monitoring": {
                "state": "disabled"
            }, 
            "network_interfaces": [
                {
                    "association": {
                        "ip_owner_id": "amazon", 
                        "public_dns_name": "", 
                        "public_ip": "13.229.227.108"
                    }, 
                    "attachment": {
                        "attach_time": "2019-08-26T08:11:37+00:00", 
                        "attachment_id": "eni-attach-043955a62732ee4bb", 
                        "delete_on_termination": true, 
                        "device_index": 0, 
                        "status": "attached"
                    }, 
                    "description": "Primary network interface", 
                    "groups": [
                        {
                            "group_id": "sg-0253280c071c020be", 
                            "group_name": "banna_node_ssh"
                        }
                    ], 
                    "interface_type": "interface", 
                    "ipv6_addresses": [], 
                    "mac_address": "06:fd:e3:5b:67:e4", 
                    "network_interface_id": "eni-070495043c5b5f587", 
                    "owner_id": "607624181858", 
                    "private_ip_address": "10.10.10.183", 
                    "private_ip_addresses": [
                        {
                            "association": {
                                "ip_owner_id": "amazon", 
                                "public_dns_name": "", 
                                "public_ip": "13.229.227.108"
                            }, 
                            "primary": true, 
                            "private_ip_address": "10.10.10.183"
                        }
                    ], 
                    "source_dest_check": true, 
                    "status": "in-use", 
                    "subnet_id": "subnet-088bda43bbded2f4a", 
                    "vpc_id": "vpc-0b392999d1d961a4b"
                }
            ], 
            "placement": {
                "availability_zone": "ap-southeast-1a", 
                "group_name": "", 
                "tenancy": "default"
            }, 
            "private_dns_name": "ip-10-10-10-183.ap-southeast-1.compute.internal", 
            "private_ip_address": "10.10.10.183", 
            "product_codes": [
                {
                    "product_code_id": "aw0evgkw8e5c1q413zgy5pjce", 
                    "product_code_type": "marketplace"
                }
            ], 
            "public_dns_name": "", 
            "public_ip_address": "13.229.227.108", 
            "root_device_name": "/dev/sda1", 
            "root_device_type": "ebs", 
            "security_groups": [
                {
                    "group_id": "sg-0253280c071c020be", 
                    "group_name": "banna_node_ssh"
                }
            ], 
            "source_dest_check": true, 
            "state": {
                "code": 16, 
                "name": "running"
            }, 
            "state_transition_reason": "", 
            "subnet_id": "subnet-088bda43bbded2f4a", 
            "tags": {
                "Name": "simontest"
            }, 
            "virtualization_type": "hvm", 
            "vpc_id": "vpc-0b392999d1d961a4b"
        }, 
        {
            "ami_launch_index": 0, 
            "architecture": "x86_64", 
            "block_device_mappings": [
                {
                    "device_name": "/dev/sda1", 
                    "ebs": {
                        "attach_time": "2019-09-13T13:09:41+00:00", 
                        "delete_on_termination": false, 
                        "status": "attached", 
                        "volume_id": "vol-0e8f938843f50eeec"
                    }
                }
            ], 
            "capacity_reservation_specification": {
                "capacity_reservation_preference": "open"
            }, 
            "client_token": "4ad5b4aa-f94c-ce2c-a2be-62c3e99d0b2d_subnet-05bcad98343c72643_1", 
            "cpu_options": {
                "core_count": 2, 
                "threads_per_core": 1
            }, 
            "ebs_optimized": false, 
            "ena_support": true, 
            "hibernation_options": {
                "configured": false
            }, 
            "hypervisor": "xen", 
            "image_id": "ami-08dcd6ec842f060c6", 
            "instance_id": "i-070cd6f3e291cc696", 
            "instance_type": "t2.medium", 
            "key_name": "banna2.0", 
            "launch_time": "2019-09-13T13:09:40+00:00", 
            "monitoring": {
                "state": "enabled"
            }, 
            "network_interfaces": [
                {
                    "attachment": {
                        "attach_time": "2019-09-13T13:09:40+00:00", 
                        "attachment_id": "eni-attach-0f9b56b25d08736e5", 
                        "delete_on_termination": true, 
                        "device_index": 0, 
                        "status": "attached"
                    }, 
                    "description": "", 
                    "groups": [
                        {
                            "group_id": "sg-0253280c071c020be", 
                            "group_name": "banna_node_ssh"
                        }, 
                        {
                            "group_id": "sg-081234813d3004af1", 
                            "group_name": "banna-Node_all"
                        }
                    ], 
                    "interface_type": "interface", 
                    "ipv6_addresses": [], 
                    "mac_address": "0a:4d:b1:e3:2d:3c", 
                    "network_interface_id": "eni-078f0591601d80fb1", 
                    "owner_id": "607624181858", 
                    "private_ip_address": "10.10.12.177", 
                    "private_ip_addresses": [
                        {
                            "primary": true, 
                            "private_ip_address": "10.10.12.177"
                        }
                    ], 
                    "source_dest_check": true, 
                    "status": "in-use", 
                    "subnet_id": "subnet-05bcad98343c72643", 
                    "vpc_id": "vpc-0b392999d1d961a4b"
                }
            ], 
            "placement": {
                "availability_zone": "ap-southeast-1c", 
                "group_name": "", 
                "tenancy": "default"
            }, 
            "private_dns_name": "ip-10-10-12-177.ap-southeast-1.compute.internal", 
            "private_ip_address": "10.10.12.177", 
            "product_codes": [
                {
                    "product_code_id": "aw0evgkw8e5c1q413zgy5pjce", 
                    "product_code_type": "marketplace"
                }
            ], 
            "public_dns_name": "", 
            "root_device_name": "/dev/sda1", 
            "root_device_type": "ebs", 
            "security_groups": [
                {
                    "group_id": "sg-0253280c071c020be", 
                    "group_name": "banna_node_ssh"
                }, 
                {
                    "group_id": "sg-081234813d3004af1", 
                    "group_name": "banna-Node_all"
                }
            ], 
            "source_dest_check": true, 
            "state": {
                "code": 16, 
                "name": "running"
            }, 
            "state_transition_reason": "", 
            "subnet_id": "subnet-05bcad98343c72643", 
            "tags": {
                "Environment": "Production", 
                "Name": "banna", 
                "aws:autoscaling:groupName": " banna-asg-group"
            }, 
            "virtualization_type": "hvm", 
            "vpc_id": "vpc-0b392999d1d961a4b"
        }, 
        {
            "ami_launch_index": 0, 
            "architecture": "x86_64", 
            "block_device_mappings": [
                {
                    "device_name": "/dev/sda1", 
                    "ebs": {
                        "attach_time": "2019-09-13T13:03:44+00:00", 
                        "delete_on_termination": false, 
                        "status": "attached", 
                        "volume_id": "vol-0e4d420753c30f31c"
                    }
                }
            ], 
            "capacity_reservation_specification": {
                "capacity_reservation_preference": "open"
            }, 
            "client_token": "156837982124332024", 
            "cpu_options": {
                "core_count": 2, 
                "threads_per_core": 1
            }, 
            "ebs_optimized": false, 
            "ena_support": true, 
            "hibernation_options": {
                "configured": false
            }, 
            "hypervisor": "xen", 
            "image_id": "ami-0b4dd9d65556cac22", 
            "instance_id": "i-07c99ca11bb187e05", 
            "instance_type": "t2.medium", 
            "key_name": "banna2.0", 
            "launch_time": "2019-09-13T13:03:43+00:00", 
            "monitoring": {
                "state": "enabled"
            }, 
            "network_interfaces": [
                {
                    "association": {
                        "ip_owner_id": "amazon", 
                        "public_dns_name": "", 
                        "public_ip": "52.221.224.212"
                    }, 
                    "attachment": {
                        "attach_time": "2019-09-13T13:03:43+00:00", 
                        "attachment_id": "eni-attach-0fe77e2c2c9f79f42", 
                        "delete_on_termination": true, 
                        "device_index": 0, 
                        "status": "attached"
                    }, 
                    "description": "Primary network interface", 
                    "groups": [
                        {
                            "group_id": "sg-0253280c071c020be", 
                            "group_name": "banna_node_ssh"
                        }, 
                        {
                            "group_id": "sg-081234813d3004af1", 
                            "group_name": "banna-Node_all"
                        }, 
                        {
                            "group_id": "sg-0d0b784231a27fb06", 
                            "group_name": "banna-ssh"
                        }
                    ], 
                    "interface_type": "interface", 
                    "ipv6_addresses": [], 
                    "mac_address": "06:ee:04:fa:2d:6c", 
                    "network_interface_id": "eni-0064028d3b3d49a45", 
                    "owner_id": "607624181858", 
                    "private_ip_address": "10.10.10.244", 
                    "private_ip_addresses": [
                        {
                            "association": {
                                "ip_owner_id": "amazon", 
                                "public_dns_name": "", 
                                "public_ip": "52.221.224.212"
                            }, 
                            "primary": true, 
                            "private_ip_address": "10.10.10.244"
                        }
                    ], 
                    "source_dest_check": true, 
                    "status": "in-use", 
                    "subnet_id": "subnet-088bda43bbded2f4a", 
                    "vpc_id": "vpc-0b392999d1d961a4b"
                }
            ], 
            "placement": {
                "availability_zone": "ap-southeast-1a", 
                "group_name": "", 
                "tenancy": "default"
            }, 
            "private_dns_name": "ip-10-10-10-244.ap-southeast-1.compute.internal", 
            "private_ip_address": "10.10.10.244", 
            "product_codes": [
                {
                    "product_code_id": "aw0evgkw8e5c1q413zgy5pjce", 
                    "product_code_type": "marketplace"
                }
            ], 
            "public_dns_name": "", 
            "public_ip_address": "52.221.224.212", 
            "root_device_name": "/dev/sda1", 
            "root_device_type": "ebs", 
            "security_groups": [
                {
                    "group_id": "sg-0253280c071c020be", 
                    "group_name": "banna_node_ssh"
                }, 
                {
                    "group_id": "sg-081234813d3004af1", 
                    "group_name": "banna-Node_all"
                }, 
                {
                    "group_id": "sg-0d0b784231a27fb06", 
                    "group_name": "banna-ssh"
                }
            ], 
            "source_dest_check": true, 
            "state": {
                "code": 16, 
                "name": "running"
            }, 
            "state_transition_reason": "", 
            "subnet_id": "subnet-088bda43bbded2f4a", 
            "tags": {
                "Name": "banna-ansible"
            }, 
            "virtualization_type": "hvm", 
            "vpc_id": "vpc-0b392999d1d961a4b"
        }
    ], 
    "invocation": {
        "module_args": {
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "debug_botocore_endpoint_logs": false, 
            "ec2_url": null, 
            "filters": {
                "instance-state-name": [
                    "running"
                ], 
                "vpc-id": "vpc-0b392999d1d961a4b"
            }, 
            "instance_ids": [], 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "validate_certs": true
        }
    }
}
2019-09-13 20:30:55,815 p=13724 u=root |  TASK [ec2.metric_alarm : set facts: instance IDs] **********************************************************************************************************************************************************
2019-09-13 20:30:55,816 p=13724 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/instance_id_fact.yml:23
2019-09-13 20:30:55,834 p=13724 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "instance_ids": [
            "i-012b2a742d6b6356c", 
            "i-097e7b29137921c72", 
            "i-070cd6f3e291cc696", 
            "i-07c99ca11bb187e05"
        ]
    }, 
    "changed": false
}
2019-09-13 20:30:55,851 p=13724 u=root |  TASK [ec2.metric_alarm : include] **************************************************************************************************************************************************************************
2019-09-13 20:30:55,852 p=13724 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/main.yml:4
2019-09-13 20:30:55,899 p=13724 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 20:30:55,907 p=13724 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 20:30:55,913 p=13724 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 20:30:55,919 p=13724 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 20:30:55,939 p=13724 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] ****************************************************************************************************************************************************
2019-09-13 20:30:55,940 p=13724 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 20:30:55,959 p=13724 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 20:30:55,960 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 20:30:55,967 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568406655.96-250738144366281 `" && echo ansible-tmp-1568406655.96-250738144366281="` echo /root/.ansible/tmp/ansible-tmp-1568406655.96-250738144366281 `" ) && sleep 0'
2019-09-13 20:30:56,179 p=13724 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 20:30:56,179 p=13724 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-13724_Hi3VZ/tmp9H6riD TO /root/.ansible/tmp/ansible-tmp-1568406655.96-250738144366281/AnsiballZ_ec2_metric_alarm.py
2019-09-13 20:30:56,180 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568406655.96-250738144366281/ /root/.ansible/tmp/ansible-tmp-1568406655.96-250738144366281/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 20:30:56,188 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568406655.96-250738144366281/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 20:30:56,736 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568406655.96-250738144366281/ > /dev/null 2>&1 && sleep 0'
2019-09-13 20:30:56,748 p=13724 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-012b2a742d6b6356c-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-012b2a742d6b6356c"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-012b2a742d6b6356c"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-012b2a742d6b6356c-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 80.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T20:30:56.621Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-012b2a742d6b6356c-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 80.0, 
    "unit": "Percent"
}
2019-09-13 20:30:56,765 p=13724 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] ****************************************************************************************************************************************************
2019-09-13 20:30:56,765 p=13724 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 20:30:56,784 p=13724 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 20:30:56,784 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 20:30:56,791 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568406656.78-175770070842003 `" && echo ansible-tmp-1568406656.78-175770070842003="` echo /root/.ansible/tmp/ansible-tmp-1568406656.78-175770070842003 `" ) && sleep 0'
2019-09-13 20:30:56,802 p=13724 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 20:30:56,802 p=13724 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-13724_Hi3VZ/tmpdAbOGB TO /root/.ansible/tmp/ansible-tmp-1568406656.78-175770070842003/AnsiballZ_ec2_metric_alarm.py
2019-09-13 20:30:56,803 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568406656.78-175770070842003/ /root/.ansible/tmp/ansible-tmp-1568406656.78-175770070842003/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 20:30:56,810 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568406656.78-175770070842003/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 20:30:57,384 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568406656.78-175770070842003/ > /dev/null 2>&1 && sleep 0'
2019-09-13 20:30:57,395 p=13724 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-012b2a742d6b6356c-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-012b2a742d6b6356c"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-012b2a742d6b6356c"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-012b2a742d6b6356c-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T20:30:57.278Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-012b2a742d6b6356c-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 20:30:57,413 p=13724 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] *************************************************************************************************************************
2019-09-13 20:30:57,413 p=13724 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:37
2019-09-13 20:30:57,431 p=13724 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 20:30:57,432 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 20:30:57,439 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568406657.43-126415878152289 `" && echo ansible-tmp-1568406657.43-126415878152289="` echo /root/.ansible/tmp/ansible-tmp-1568406657.43-126415878152289 `" ) && sleep 0'
2019-09-13 20:30:57,449 p=13724 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 20:30:57,450 p=13724 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-13724_Hi3VZ/tmpA19ROt TO /root/.ansible/tmp/ansible-tmp-1568406657.43-126415878152289/AnsiballZ_ec2_metric_alarm.py
2019-09-13 20:30:57,450 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568406657.43-126415878152289/ /root/.ansible/tmp/ansible-tmp-1568406657.43-126415878152289/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 20:30:57,457 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568406657.43-126415878152289/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 20:30:57,994 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568406657.43-126415878152289/ > /dev/null 2>&1 && sleep 0'
2019-09-13 20:30:58,006 p=13724 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-012b2a742d6b6356c-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-012b2a742d6b6356c"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-012b2a742d6b6356c"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-012b2a742d6b6356c-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T20:30:57.900Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-012b2a742d6b6356c-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 20:30:58,024 p=13724 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] ****************************************************************************************************************************************************
2019-09-13 20:30:58,024 p=13724 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 20:30:58,044 p=13724 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 20:30:58,044 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 20:30:58,051 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568406658.04-16265338709478 `" && echo ansible-tmp-1568406658.04-16265338709478="` echo /root/.ansible/tmp/ansible-tmp-1568406658.04-16265338709478 `" ) && sleep 0'
2019-09-13 20:30:58,062 p=13724 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 20:30:58,063 p=13724 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-13724_Hi3VZ/tmponfQv5 TO /root/.ansible/tmp/ansible-tmp-1568406658.04-16265338709478/AnsiballZ_ec2_metric_alarm.py
2019-09-13 20:30:58,064 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568406658.04-16265338709478/ /root/.ansible/tmp/ansible-tmp-1568406658.04-16265338709478/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 20:30:58,072 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568406658.04-16265338709478/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 20:30:58,604 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568406658.04-16265338709478/ > /dev/null 2>&1 && sleep 0'
2019-09-13 20:30:58,616 p=13724 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-097e7b29137921c72-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-097e7b29137921c72"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-097e7b29137921c72"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-097e7b29137921c72-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 80.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T20:30:58.503Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-097e7b29137921c72-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 80.0, 
    "unit": "Percent"
}
2019-09-13 20:30:58,633 p=13724 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] ****************************************************************************************************************************************************
2019-09-13 20:30:58,634 p=13724 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 20:30:58,653 p=13724 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 20:30:58,653 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 20:30:58,660 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568406658.65-108737380147987 `" && echo ansible-tmp-1568406658.65-108737380147987="` echo /root/.ansible/tmp/ansible-tmp-1568406658.65-108737380147987 `" ) && sleep 0'
2019-09-13 20:30:58,671 p=13724 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 20:30:58,671 p=13724 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-13724_Hi3VZ/tmpBsxX2h TO /root/.ansible/tmp/ansible-tmp-1568406658.65-108737380147987/AnsiballZ_ec2_metric_alarm.py
2019-09-13 20:30:58,673 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568406658.65-108737380147987/ /root/.ansible/tmp/ansible-tmp-1568406658.65-108737380147987/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 20:30:58,680 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568406658.65-108737380147987/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 20:30:59,248 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568406658.65-108737380147987/ > /dev/null 2>&1 && sleep 0'
2019-09-13 20:30:59,259 p=13724 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-097e7b29137921c72-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-097e7b29137921c72"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-097e7b29137921c72"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-097e7b29137921c72-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T20:30:59.149Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-097e7b29137921c72-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 20:30:59,276 p=13724 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] *************************************************************************************************************************
2019-09-13 20:30:59,277 p=13724 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:37
2019-09-13 20:30:59,296 p=13724 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 20:30:59,296 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 20:30:59,303 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568406659.3-280879494437218 `" && echo ansible-tmp-1568406659.3-280879494437218="` echo /root/.ansible/tmp/ansible-tmp-1568406659.3-280879494437218 `" ) && sleep 0'
2019-09-13 20:30:59,314 p=13724 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 20:30:59,314 p=13724 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-13724_Hi3VZ/tmphA1K9j TO /root/.ansible/tmp/ansible-tmp-1568406659.3-280879494437218/AnsiballZ_ec2_metric_alarm.py
2019-09-13 20:30:59,315 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568406659.3-280879494437218/ /root/.ansible/tmp/ansible-tmp-1568406659.3-280879494437218/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 20:30:59,322 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568406659.3-280879494437218/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 20:31:00,010 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568406659.3-280879494437218/ > /dev/null 2>&1 && sleep 0'
2019-09-13 20:31:00,024 p=13724 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-097e7b29137921c72-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-097e7b29137921c72"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-097e7b29137921c72"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-097e7b29137921c72-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T20:30:59.913Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-097e7b29137921c72-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 20:31:00,041 p=13724 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] ****************************************************************************************************************************************************
2019-09-13 20:31:00,041 p=13724 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 20:31:00,061 p=13724 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 20:31:00,061 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 20:31:00,069 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568406660.06-797204929662 `" && echo ansible-tmp-1568406660.06-797204929662="` echo /root/.ansible/tmp/ansible-tmp-1568406660.06-797204929662 `" ) && sleep 0'
2019-09-13 20:31:00,080 p=13724 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 20:31:00,080 p=13724 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-13724_Hi3VZ/tmpE3xmXK TO /root/.ansible/tmp/ansible-tmp-1568406660.06-797204929662/AnsiballZ_ec2_metric_alarm.py
2019-09-13 20:31:00,081 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568406660.06-797204929662/ /root/.ansible/tmp/ansible-tmp-1568406660.06-797204929662/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 20:31:00,088 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568406660.06-797204929662/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 20:31:00,630 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568406660.06-797204929662/ > /dev/null 2>&1 && sleep 0'
2019-09-13 20:31:00,642 p=13724 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-070cd6f3e291cc696-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-070cd6f3e291cc696"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-070cd6f3e291cc696"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-070cd6f3e291cc696-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 80.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T20:31:00.527Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-070cd6f3e291cc696-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 80.0, 
    "unit": "Percent"
}
2019-09-13 20:31:00,659 p=13724 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] ****************************************************************************************************************************************************
2019-09-13 20:31:00,659 p=13724 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 20:31:00,678 p=13724 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 20:31:00,678 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 20:31:00,685 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568406660.68-28508060319417 `" && echo ansible-tmp-1568406660.68-28508060319417="` echo /root/.ansible/tmp/ansible-tmp-1568406660.68-28508060319417 `" ) && sleep 0'
2019-09-13 20:31:00,696 p=13724 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 20:31:00,696 p=13724 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-13724_Hi3VZ/tmpPJ0gdR TO /root/.ansible/tmp/ansible-tmp-1568406660.68-28508060319417/AnsiballZ_ec2_metric_alarm.py
2019-09-13 20:31:00,697 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568406660.68-28508060319417/ /root/.ansible/tmp/ansible-tmp-1568406660.68-28508060319417/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 20:31:00,704 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568406660.68-28508060319417/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 20:31:01,275 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568406660.68-28508060319417/ > /dev/null 2>&1 && sleep 0'
2019-09-13 20:31:01,288 p=13724 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-070cd6f3e291cc696-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-070cd6f3e291cc696"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-070cd6f3e291cc696"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-070cd6f3e291cc696-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T20:31:01.172Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-070cd6f3e291cc696-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 20:31:01,305 p=13724 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] *************************************************************************************************************************
2019-09-13 20:31:01,305 p=13724 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:37
2019-09-13 20:31:01,325 p=13724 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 20:31:01,326 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 20:31:01,333 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568406661.33-119376503649893 `" && echo ansible-tmp-1568406661.33-119376503649893="` echo /root/.ansible/tmp/ansible-tmp-1568406661.33-119376503649893 `" ) && sleep 0'
2019-09-13 20:31:01,344 p=13724 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 20:31:01,345 p=13724 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-13724_Hi3VZ/tmpBZc5rc TO /root/.ansible/tmp/ansible-tmp-1568406661.33-119376503649893/AnsiballZ_ec2_metric_alarm.py
2019-09-13 20:31:01,345 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568406661.33-119376503649893/ /root/.ansible/tmp/ansible-tmp-1568406661.33-119376503649893/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 20:31:01,353 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568406661.33-119376503649893/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 20:31:01,952 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568406661.33-119376503649893/ > /dev/null 2>&1 && sleep 0'
2019-09-13 20:31:01,963 p=13724 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-070cd6f3e291cc696-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-070cd6f3e291cc696"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-070cd6f3e291cc696"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-070cd6f3e291cc696-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T20:31:01.840Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-070cd6f3e291cc696-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 20:31:01,981 p=13724 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] ****************************************************************************************************************************************************
2019-09-13 20:31:01,981 p=13724 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 20:31:02,001 p=13724 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 20:31:02,001 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 20:31:02,009 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568406662.0-213022719958342 `" && echo ansible-tmp-1568406662.0-213022719958342="` echo /root/.ansible/tmp/ansible-tmp-1568406662.0-213022719958342 `" ) && sleep 0'
2019-09-13 20:31:02,020 p=13724 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 20:31:02,021 p=13724 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-13724_Hi3VZ/tmpEKHS7e TO /root/.ansible/tmp/ansible-tmp-1568406662.0-213022719958342/AnsiballZ_ec2_metric_alarm.py
2019-09-13 20:31:02,022 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568406662.0-213022719958342/ /root/.ansible/tmp/ansible-tmp-1568406662.0-213022719958342/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 20:31:02,030 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568406662.0-213022719958342/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 20:31:02,590 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568406662.0-213022719958342/ > /dev/null 2>&1 && sleep 0'
2019-09-13 20:31:02,601 p=13724 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-07c99ca11bb187e05-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-07c99ca11bb187e05"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-07c99ca11bb187e05"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-07c99ca11bb187e05-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 80.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T20:31:02.479Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-07c99ca11bb187e05-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 80.0, 
    "unit": "Percent"
}
2019-09-13 20:31:02,619 p=13724 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] ****************************************************************************************************************************************************
2019-09-13 20:31:02,619 p=13724 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 20:31:02,639 p=13724 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 20:31:02,639 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 20:31:02,646 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568406662.64-141170189547675 `" && echo ansible-tmp-1568406662.64-141170189547675="` echo /root/.ansible/tmp/ansible-tmp-1568406662.64-141170189547675 `" ) && sleep 0'
2019-09-13 20:31:02,657 p=13724 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 20:31:02,657 p=13724 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-13724_Hi3VZ/tmpXw5nV_ TO /root/.ansible/tmp/ansible-tmp-1568406662.64-141170189547675/AnsiballZ_ec2_metric_alarm.py
2019-09-13 20:31:02,658 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568406662.64-141170189547675/ /root/.ansible/tmp/ansible-tmp-1568406662.64-141170189547675/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 20:31:02,665 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568406662.64-141170189547675/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 20:31:03,232 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568406662.64-141170189547675/ > /dev/null 2>&1 && sleep 0'
2019-09-13 20:31:03,245 p=13724 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-07c99ca11bb187e05-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-07c99ca11bb187e05"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-07c99ca11bb187e05"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-07c99ca11bb187e05-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T20:31:03.125Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-07c99ca11bb187e05-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 20:31:03,262 p=13724 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] *************************************************************************************************************************
2019-09-13 20:31:03,262 p=13724 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:37
2019-09-13 20:31:03,281 p=13724 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 20:31:03,281 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 20:31:03,289 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568406663.28-51291693827691 `" && echo ansible-tmp-1568406663.28-51291693827691="` echo /root/.ansible/tmp/ansible-tmp-1568406663.28-51291693827691 `" ) && sleep 0'
2019-09-13 20:31:03,299 p=13724 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 20:31:03,300 p=13724 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-13724_Hi3VZ/tmpfhIMNx TO /root/.ansible/tmp/ansible-tmp-1568406663.28-51291693827691/AnsiballZ_ec2_metric_alarm.py
2019-09-13 20:31:03,300 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568406663.28-51291693827691/ /root/.ansible/tmp/ansible-tmp-1568406663.28-51291693827691/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 20:31:03,308 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568406663.28-51291693827691/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 20:31:03,841 p=13724 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568406663.28-51291693827691/ > /dev/null 2>&1 && sleep 0'
2019-09-13 20:31:03,854 p=13724 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-07c99ca11bb187e05-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-07c99ca11bb187e05"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-07c99ca11bb187e05"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-07c99ca11bb187e05-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T20:31:03.747Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-07c99ca11bb187e05-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 20:31:03,854 p=13724 u=root |  META: ran handlers
2019-09-13 20:31:03,855 p=13724 u=root |  META: ran handlers
2019-09-13 20:31:03,856 p=13724 u=root |  PLAY RECAP *************************************************************************************************************************************************************************************************
2019-09-13 20:31:03,856 p=13724 u=root |  localhost                  : ok=21   changed=12   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
