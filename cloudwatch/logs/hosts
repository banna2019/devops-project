
2019-09-13 14:44:08,801 p=5757 u=root |   [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2019-09-13 14:44:09,287 p=5757 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: local

2019-09-13 14:44:09,289 p=5757 u=root |  PLAY [Create IT Monitor EC2 vHost] ****************************************************************************************************************
2019-09-13 14:44:09,289 p=5757 u=root |  skipping: no hosts matched
2019-09-13 14:44:09,289 p=5757 u=root |  PLAY RECAP ****************************************************************************************************************************************
2019-09-13 14:44:44,670 p=5766 u=root |   [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2019-09-13 14:44:45,100 p=5766 u=root |  ERROR! the field 'hosts' is required but was not set
2019-09-13 14:44:57,045 p=5776 u=root |   [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2019-09-13 14:44:57,493 p=5776 u=root |  PLAY [Create IT Monitor EC2 vHost] ****************************************************************************************************************
2019-09-13 14:44:57,493 p=5776 u=root |  skipping: no hosts matched
2019-09-13 14:44:57,494 p=5776 u=root |  PLAY RECAP ****************************************************************************************************************************************
2019-09-13 14:45:20,377 p=5791 u=root |   [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2019-09-13 14:45:20,824 p=5791 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: local

2019-09-13 14:45:20,826 p=5791 u=root |  PLAY [Create IT Monitor EC2 vHost] ****************************************************************************************************************
2019-09-13 14:45:20,826 p=5791 u=root |  skipping: no hosts matched
2019-09-13 14:45:20,826 p=5791 u=root |  PLAY RECAP ****************************************************************************************************************************************
2019-09-13 14:47:12,732 p=5807 u=root |   [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2019-09-13 14:47:13,184 p=5807 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: local

2019-09-13 14:47:13,186 p=5807 u=root |  PLAY [Create IT Monitor EC2 vHost] ****************************************************************************************************************
2019-09-13 14:47:13,186 p=5807 u=root |  skipping: no hosts matched
2019-09-13 14:47:13,186 p=5807 u=root |  PLAY RECAP ****************************************************************************************************************************************
2019-09-13 14:48:54,339 p=5826 u=root |   [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2019-09-13 14:48:54,792 p=5826 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: local

2019-09-13 14:48:54,795 p=5826 u=root |  PLAY [Create IT Monitor EC2 vHost] ****************************************************************************************************************
2019-09-13 14:48:54,795 p=5826 u=root |  skipping: no hosts matched
2019-09-13 14:48:54,795 p=5826 u=root |  PLAY RECAP ****************************************************************************************************************************************
2019-09-13 14:49:38,400 p=5835 u=root |  ansible-playbook 2.8.4
  config file = /home/centos/cloudwatch/ansible.cfg
  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python2.7/site-packages/ansible
  executable location = /bin/ansible-playbook
  python version = 2.7.5 (default, Jun 20 2019, 20:27:34) [GCC 4.8.5 20150623 (Red Hat 4.8.5-36)]
2019-09-13 14:49:38,401 p=5835 u=root |  Using /home/centos/cloudwatch/ansible.cfg as config file
2019-09-13 14:49:38,408 p=5835 u=root |  host_list declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 14:49:38,408 p=5835 u=root |  script declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 14:49:38,409 p=5835 u=root |  auto declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 14:49:38,412 p=5835 u=root |  Parsed /etc/ansible/hosts inventory source with ini plugin
2019-09-13 14:49:38,413 p=5835 u=root |   [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2019-09-13 14:49:38,835 p=5835 u=root |  PLAYBOOK: EC2_Alarms.yml **************************************************************************************************************************
2019-09-13 14:49:38,836 p=5835 u=root |  1 plays in EC2_Alarms.yml
2019-09-13 14:49:38,863 p=5835 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: local

2019-09-13 14:49:38,865 p=5835 u=root |  PLAY [Create IT Monitor EC2 vHost] ****************************************************************************************************************
2019-09-13 14:49:38,865 p=5835 u=root |  skipping: no hosts matched
2019-09-13 14:49:38,865 p=5835 u=root |  PLAY RECAP ****************************************************************************************************************************************
2019-09-13 14:52:20,870 p=5868 u=root |  ansible-playbook 2.8.4
  config file = /home/centos/cloudwatch/ansible.cfg
  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python2.7/site-packages/ansible
  executable location = /bin/ansible-playbook
  python version = 2.7.5 (default, Jun 20 2019, 20:27:34) [GCC 4.8.5 20150623 (Red Hat 4.8.5-36)]
2019-09-13 14:52:20,870 p=5868 u=root |  Using /home/centos/cloudwatch/ansible.cfg as config file
2019-09-13 14:52:20,878 p=5868 u=root |  host_list declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 14:52:20,878 p=5868 u=root |  script declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 14:52:20,878 p=5868 u=root |  auto declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 14:52:20,881 p=5868 u=root |  Parsed /etc/ansible/hosts inventory source with ini plugin
2019-09-13 14:52:20,883 p=5868 u=root |   [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2019-09-13 14:52:21,307 p=5868 u=root |  PLAYBOOK: EC2_Alarms.yml **************************************************************************************************************************
2019-09-13 14:52:21,307 p=5868 u=root |  1 plays in EC2_Alarms.yml
2019-09-13 14:52:21,336 p=5868 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: local

2019-09-13 14:52:21,338 p=5868 u=root |  PLAY [Create IT Monitor EC2 vHost] ****************************************************************************************************************
2019-09-13 14:52:21,338 p=5868 u=root |  skipping: no hosts matched
2019-09-13 14:52:21,338 p=5868 u=root |  PLAY RECAP ****************************************************************************************************************************************
2019-09-13 14:54:20,496 p=5885 u=root |  ansible-playbook 2.8.4
  config file = /home/centos/cloudwatch/ansible.cfg
  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python2.7/site-packages/ansible
  executable location = /bin/ansible-playbook
  python version = 2.7.5 (default, Jun 20 2019, 20:27:34) [GCC 4.8.5 20150623 (Red Hat 4.8.5-36)]
2019-09-13 14:54:20,496 p=5885 u=root |  Using /home/centos/cloudwatch/ansible.cfg as config file
2019-09-13 14:54:20,504 p=5885 u=root |  host_list declined parsing /home/centos/cloudwatch/hosts.inventory as it did not pass it's verify_file() method
2019-09-13 14:54:20,504 p=5885 u=root |  Skipping due to inventory source not existing or not being readable by the current user
2019-09-13 14:54:20,504 p=5885 u=root |  script declined parsing /home/centos/cloudwatch/hosts.inventory as it did not pass it's verify_file() method
2019-09-13 14:54:20,505 p=5885 u=root |  auto declined parsing /home/centos/cloudwatch/hosts.inventory as it did not pass it's verify_file() method
2019-09-13 14:54:20,505 p=5885 u=root |  Skipping due to inventory source not existing or not being readable by the current user
2019-09-13 14:54:20,505 p=5885 u=root |  yaml declined parsing /home/centos/cloudwatch/hosts.inventory as it did not pass it's verify_file() method
2019-09-13 14:54:20,505 p=5885 u=root |  Skipping due to inventory source not existing or not being readable by the current user
2019-09-13 14:54:20,505 p=5885 u=root |  ini declined parsing /home/centos/cloudwatch/hosts.inventory as it did not pass it's verify_file() method
2019-09-13 14:54:20,505 p=5885 u=root |  Skipping due to inventory source not existing or not being readable by the current user
2019-09-13 14:54:20,505 p=5885 u=root |  toml declined parsing /home/centos/cloudwatch/hosts.inventory as it did not pass it's verify_file() method
2019-09-13 14:54:20,506 p=5885 u=root |   [WARNING]: Unable to parse /home/centos/cloudwatch/hosts.inventory as an inventory source

2019-09-13 14:54:20,506 p=5885 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2019-09-13 14:54:20,507 p=5885 u=root |   [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2019-09-13 14:54:20,932 p=5885 u=root |  PLAYBOOK: EC2_Alarms.yml **************************************************************************************************************************
2019-09-13 14:54:20,932 p=5885 u=root |  1 plays in EC2_Alarms.yml
2019-09-13 14:54:20,960 p=5885 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: local

2019-09-13 14:54:20,962 p=5885 u=root |  PLAY [Create IT Monitor EC2 vHost] ****************************************************************************************************************
2019-09-13 14:54:20,963 p=5885 u=root |  skipping: no hosts matched
2019-09-13 14:54:20,963 p=5885 u=root |  PLAY RECAP ****************************************************************************************************************************************
2019-09-13 14:58:20,175 p=5898 u=root |  ansible-playbook 2.8.4
  config file = /home/centos/cloudwatch/ansible.cfg
  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python2.7/site-packages/ansible
  executable location = /bin/ansible-playbook
  python version = 2.7.5 (default, Jun 20 2019, 20:27:34) [GCC 4.8.5 20150623 (Red Hat 4.8.5-36)]
2019-09-13 14:58:20,175 p=5898 u=root |  Using /home/centos/cloudwatch/ansible.cfg as config file
2019-09-13 14:58:20,183 p=5898 u=root |  host_list declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 14:58:20,183 p=5898 u=root |  script declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 14:58:20,183 p=5898 u=root |  auto declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 14:58:20,186 p=5898 u=root |  Parsed /etc/ansible/hosts inventory source with ini plugin
2019-09-13 14:58:20,188 p=5898 u=root |   [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2019-09-13 14:58:20,607 p=5898 u=root |  PLAYBOOK: EC2_Alarms.yml **************************************************************************************************************************
2019-09-13 14:58:20,608 p=5898 u=root |  1 plays in EC2_Alarms.yml
2019-09-13 14:58:20,638 p=5898 u=root |  PLAY [Create IT Monitor EC2 vHost] ****************************************************************************************************************
2019-09-13 14:58:20,647 p=5898 u=root |  TASK [Gathering Facts] ****************************************************************************************************************************
2019-09-13 14:58:20,647 p=5898 u=root |  task path: /home/centos/cloudwatch/EC2_Alarms.yml:2
2019-09-13 14:58:20,657 p=5898 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 14:58:20,657 p=5898 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 14:58:20,667 p=5898 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568386700.66-155750461103974 `" && echo ansible-tmp-1568386700.66-155750461103974="` echo /root/.ansible/tmp/ansible-tmp-1568386700.66-155750461103974 `" ) && sleep 0'
2019-09-13 14:58:21,034 p=5898 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/system/setup.py
2019-09-13 14:58:21,035 p=5898 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-5898qLROru/tmpZhYMoI TO /root/.ansible/tmp/ansible-tmp-1568386700.66-155750461103974/AnsiballZ_setup.py
2019-09-13 14:58:21,036 p=5898 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568386700.66-155750461103974/ /root/.ansible/tmp/ansible-tmp-1568386700.66-155750461103974/AnsiballZ_setup.py && sleep 0'
2019-09-13 14:58:21,044 p=5898 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568386700.66-155750461103974/AnsiballZ_setup.py && sleep 0'
2019-09-13 14:58:21,577 p=5898 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568386700.66-155750461103974/ > /dev/null 2>&1 && sleep 0'
2019-09-13 14:58:21,609 p=5898 u=root |  ok: [localhost]
2019-09-13 14:58:21,610 p=5898 u=root |  META: ran handlers
2019-09-13 14:58:21,627 p=5898 u=root |  TASK [ec2.metric_alarm : include] *****************************************************************************************************************
2019-09-13 14:58:21,627 p=5898 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/main.yml:3
2019-09-13 14:58:21,712 p=5898 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 14:58:21,719 p=5898 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 14:58:21,725 p=5898 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 14:58:21,731 p=5898 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 14:58:21,738 p=5898 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 14:58:21,744 p=5898 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 14:58:21,752 p=5898 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 14:58:21,758 p=5898 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 14:58:21,764 p=5898 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 14:58:21,770 p=5898 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 14:58:21,777 p=5898 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 14:58:21,783 p=5898 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 14:58:21,790 p=5898 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 14:58:21,796 p=5898 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 14:58:21,803 p=5898 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 14:58:21,809 p=5898 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 14:58:21,815 p=5898 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 14:58:21,821 p=5898 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 14:58:21,828 p=5898 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 14:58:21,834 p=5898 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 14:58:21,853 p=5898 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] *******************************************************************************************
2019-09-13 14:58:21,853 p=5898 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 14:58:21,873 p=5898 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 14:58:21,873 p=5898 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 14:58:21,881 p=5898 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568386701.87-104112320681939 `" && echo ansible-tmp-1568386701.87-104112320681939="` echo /root/.ansible/tmp/ansible-tmp-1568386701.87-104112320681939 `" ) && sleep 0'
2019-09-13 14:58:22,096 p=5898 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 14:58:22,097 p=5898 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-5898qLROru/tmpOHtea1 TO /root/.ansible/tmp/ansible-tmp-1568386701.87-104112320681939/AnsiballZ_ec2_metric_alarm.py
2019-09-13 14:58:22,098 p=5898 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568386701.87-104112320681939/ /root/.ansible/tmp/ansible-tmp-1568386701.87-104112320681939/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 14:58:22,106 p=5898 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568386701.87-104112320681939/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 14:58:22,474 p=5898 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568386701.87-104112320681939/ > /dev/null 2>&1 && sleep 0'
2019-09-13 14:58:22,486 p=5898 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-00c87eaf4a801232f-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-00c87eaf4a801232f"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-00c87eaf4a801232f"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-00c87eaf4a801232f-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 85.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T14:58:22.393Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-00c87eaf4a801232f-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 85.0, 
    "unit": "Percent"
}
2019-09-13 14:58:22,503 p=5898 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] *******************************************************************************************
2019-09-13 14:58:22,504 p=5898 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 14:58:22,526 p=5898 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 14:58:22,526 p=5898 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 14:58:22,533 p=5898 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568386702.53-125655593998343 `" && echo ansible-tmp-1568386702.53-125655593998343="` echo /root/.ansible/tmp/ansible-tmp-1568386702.53-125655593998343 `" ) && sleep 0'
2019-09-13 14:58:22,543 p=5898 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 14:58:22,544 p=5898 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-5898qLROru/tmpp1ljFB TO /root/.ansible/tmp/ansible-tmp-1568386702.53-125655593998343/AnsiballZ_ec2_metric_alarm.py
2019-09-13 14:58:22,545 p=5898 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568386702.53-125655593998343/ /root/.ansible/tmp/ansible-tmp-1568386702.53-125655593998343/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 14:58:22,552 p=5898 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568386702.53-125655593998343/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 14:58:22,920 p=5898 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568386702.53-125655593998343/ > /dev/null 2>&1 && sleep 0'
2019-09-13 14:58:22,931 p=5898 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-00c87eaf4a801232f-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-00c87eaf4a801232f"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-00c87eaf4a801232f"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-00c87eaf4a801232f-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T14:58:22.829Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-00c87eaf4a801232f-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 14:58:22,951 p=5898 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] ****************************************************************
2019-09-13 14:58:22,951 p=5898 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:36
2019-09-13 14:58:22,970 p=5898 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 14:58:22,970 p=5898 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 14:58:22,978 p=5898 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568386702.97-147773143396866 `" && echo ansible-tmp-1568386702.97-147773143396866="` echo /root/.ansible/tmp/ansible-tmp-1568386702.97-147773143396866 `" ) && sleep 0'
2019-09-13 14:58:22,989 p=5898 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 14:58:22,990 p=5898 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-5898qLROru/tmp4RNJ1g TO /root/.ansible/tmp/ansible-tmp-1568386702.97-147773143396866/AnsiballZ_ec2_metric_alarm.py
2019-09-13 14:58:22,990 p=5898 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568386702.97-147773143396866/ /root/.ansible/tmp/ansible-tmp-1568386702.97-147773143396866/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 14:58:22,998 p=5898 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568386702.97-147773143396866/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 14:58:23,155 p=5898 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568386702.97-147773143396866/ > /dev/null 2>&1 && sleep 0'
2019-09-13 14:58:23,167 p=5898 u=root |  fatal: [localhost]: FAILED! => {
    "changed": false, 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-00c87eaf4a801232f"
            }, 
            "evaluation_periods": 2, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-00c87eaf4a801232f-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "period": 60, 
            "region": "ap-southeast-1", 
            "state": "present", 
            "statistic": "Count", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "msg": "value of statistic must be one of: SampleCount, Average, Sum, Minimum, Maximum, got: Count"
}
2019-09-13 14:58:23,167 p=5898 u=root |  NO MORE HOSTS LEFT ********************************************************************************************************************************
2019-09-13 14:58:23,167 p=5898 u=root |  NO MORE HOSTS LEFT ********************************************************************************************************************************
2019-09-13 14:58:23,168 p=5898 u=root |  PLAY RECAP ****************************************************************************************************************************************
2019-09-13 14:58:23,168 p=5898 u=root |  localhost                  : ok=23   changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2019-09-13 15:03:05,490 p=6036 u=root |  ansible-playbook 2.8.4
  config file = /home/centos/cloudwatch/ansible.cfg
  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python2.7/site-packages/ansible
  executable location = /bin/ansible-playbook
  python version = 2.7.5 (default, Jun 20 2019, 20:27:34) [GCC 4.8.5 20150623 (Red Hat 4.8.5-36)]
2019-09-13 15:03:05,490 p=6036 u=root |  Using /home/centos/cloudwatch/ansible.cfg as config file
2019-09-13 15:03:05,498 p=6036 u=root |  host_list declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 15:03:05,498 p=6036 u=root |  script declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 15:03:05,499 p=6036 u=root |  auto declined parsing /etc/ansible/hosts as it did not pass it's verify_file() method
2019-09-13 15:03:05,502 p=6036 u=root |  Parsed /etc/ansible/hosts inventory source with ini plugin
2019-09-13 15:03:05,503 p=6036 u=root |   [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2019-09-13 15:03:05,933 p=6036 u=root |  PLAYBOOK: EC2_Alarms.yml ************************************************************************************************************************************************
2019-09-13 15:03:05,934 p=6036 u=root |  1 plays in EC2_Alarms.yml
2019-09-13 15:03:05,964 p=6036 u=root |  PLAY [Create IT Monitor EC2 vHost] **************************************************************************************************************************************
2019-09-13 15:03:05,973 p=6036 u=root |  TASK [Gathering Facts] **************************************************************************************************************************************************
2019-09-13 15:03:05,973 p=6036 u=root |  task path: /home/centos/cloudwatch/EC2_Alarms.yml:2
2019-09-13 15:03:05,983 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:05,984 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:05,991 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568386985.98-96387981744600 `" && echo ansible-tmp-1568386985.98-96387981744600="` echo /root/.ansible/tmp/ansible-tmp-1568386985.98-96387981744600 `" ) && sleep 0'
2019-09-13 15:03:06,370 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/system/setup.py
2019-09-13 15:03:06,371 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpn0TcOG TO /root/.ansible/tmp/ansible-tmp-1568386985.98-96387981744600/AnsiballZ_setup.py
2019-09-13 15:03:06,372 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568386985.98-96387981744600/ /root/.ansible/tmp/ansible-tmp-1568386985.98-96387981744600/AnsiballZ_setup.py && sleep 0'
2019-09-13 15:03:06,380 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568386985.98-96387981744600/AnsiballZ_setup.py && sleep 0'
2019-09-13 15:03:06,903 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568386985.98-96387981744600/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:06,936 p=6036 u=root |  ok: [localhost]
2019-09-13 15:03:06,937 p=6036 u=root |  META: ran handlers
2019-09-13 15:03:06,954 p=6036 u=root |  TASK [ec2.metric_alarm : include] ***************************************************************************************************************************************
2019-09-13 15:03:06,954 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/main.yml:3
2019-09-13 15:03:07,042 p=6036 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 15:03:07,049 p=6036 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 15:03:07,055 p=6036 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 15:03:07,061 p=6036 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 15:03:07,067 p=6036 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 15:03:07,074 p=6036 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 15:03:07,082 p=6036 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 15:03:07,088 p=6036 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 15:03:07,094 p=6036 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 15:03:07,101 p=6036 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 15:03:07,107 p=6036 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 15:03:07,114 p=6036 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 15:03:07,120 p=6036 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 15:03:07,126 p=6036 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 15:03:07,133 p=6036 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 15:03:07,139 p=6036 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 15:03:07,146 p=6036 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 15:03:07,152 p=6036 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 15:03:07,159 p=6036 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 15:03:07,165 p=6036 u=root |  included: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml for localhost
2019-09-13 15:03:07,183 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] *****************************************************************************************************************
2019-09-13 15:03:07,183 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 15:03:07,203 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:07,203 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:07,211 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568386987.2-198903557687886 `" && echo ansible-tmp-1568386987.2-198903557687886="` echo /root/.ansible/tmp/ansible-tmp-1568386987.2-198903557687886 `" ) && sleep 0'
2019-09-13 15:03:07,435 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:07,436 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmp_IfWJx TO /root/.ansible/tmp/ansible-tmp-1568386987.2-198903557687886/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:07,437 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568386987.2-198903557687886/ /root/.ansible/tmp/ansible-tmp-1568386987.2-198903557687886/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:07,445 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568386987.2-198903557687886/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:07,694 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568386987.2-198903557687886/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:07,707 p=6036 u=root |  ok: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-00c87eaf4a801232f-CPU-Utilization-80", 
    "changed": false, 
    "comparison": "GreaterThanOrEqualToThreshold", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-00c87eaf4a801232f"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": [
                    "i-00c87eaf4a801232f"
                ]
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-00c87eaf4a801232f-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 85.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T14:58:22.393Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-00c87eaf4a801232f-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Threshold Crossed: 3 datapoints [0.4983606557377052 (13/09/19 14:49:00), 0.5 (13/09/19 14:44:00), 0.4916666666666744 (13/09/19 14:39:00)] were not greater than or equal to the threshold (85.0).", 
    "state_value": "OK", 
    "statistic": "Average", 
    "threshold": 85.0, 
    "unit": "Percent"
}
2019-09-13 15:03:07,724 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] *****************************************************************************************************************
2019-09-13 15:03:07,724 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 15:03:07,747 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:07,747 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:07,755 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568386987.75-86162363051975 `" && echo ansible-tmp-1568386987.75-86162363051975="` echo /root/.ansible/tmp/ansible-tmp-1568386987.75-86162363051975 `" ) && sleep 0'
2019-09-13 15:03:07,766 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:07,767 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmp_lwR9M TO /root/.ansible/tmp/ansible-tmp-1568386987.75-86162363051975/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:07,767 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568386987.75-86162363051975/ /root/.ansible/tmp/ansible-tmp-1568386987.75-86162363051975/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:07,775 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568386987.75-86162363051975/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:08,006 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568386987.75-86162363051975/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:08,019 p=6036 u=root |  ok: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-00c87eaf4a801232f-CPU-Utilization-98", 
    "changed": false, 
    "comparison": "GreaterThanOrEqualToThreshold", 
    "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-00c87eaf4a801232f"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
            "dimensions": {
                "InstanceId": [
                    "i-00c87eaf4a801232f"
                ]
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-00c87eaf4a801232f-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T14:58:22.829Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-00c87eaf4a801232f-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Threshold Crossed: 6 datapoints were not greater than or equal to the threshold (98.0). The most recent datapoints which not crossed the threshold: [0.4983606557377052 (13/09/19 14:49:00), 0.5 (13/09/19 14:44:00), 0.4916666666666744 (13/09/19 14:39:00), 0.4932203389830588 (13/09/19 14:34:00), 0.4983606557377052 (13/09/19 14:29:00)].", 
    "state_value": "OK", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 15:03:08,038 p=6036 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] **************************************************************************************
2019-09-13 15:03:08,038 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:36
2019-09-13 15:03:08,057 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:08,058 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:08,065 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568386988.06-122781988299997 `" && echo ansible-tmp-1568386988.06-122781988299997="` echo /root/.ansible/tmp/ansible-tmp-1568386988.06-122781988299997 `" ) && sleep 0'
2019-09-13 15:03:08,077 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:08,077 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpANOhPY TO /root/.ansible/tmp/ansible-tmp-1568386988.06-122781988299997/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:08,078 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568386988.06-122781988299997/ /root/.ansible/tmp/ansible-tmp-1568386988.06-122781988299997/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:08,086 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568386988.06-122781988299997/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:09,807 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568386988.06-122781988299997/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:09,820 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-00c87eaf4a801232f-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-00c87eaf4a801232f"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-00c87eaf4a801232f"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-00c87eaf4a801232f-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:09.696Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-00c87eaf4a801232f-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 15:03:09,837 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] *****************************************************************************************************************
2019-09-13 15:03:09,837 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 15:03:09,857 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:09,858 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:09,865 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568386989.86-270315706108008 `" && echo ansible-tmp-1568386989.86-270315706108008="` echo /root/.ansible/tmp/ansible-tmp-1568386989.86-270315706108008 `" ) && sleep 0'
2019-09-13 15:03:09,876 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:09,877 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpbay6pR TO /root/.ansible/tmp/ansible-tmp-1568386989.86-270315706108008/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:09,877 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568386989.86-270315706108008/ /root/.ansible/tmp/ansible-tmp-1568386989.86-270315706108008/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:09,885 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568386989.86-270315706108008/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:10,360 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568386989.86-270315706108008/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:10,373 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-012b2a742d6b6356c-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-012b2a742d6b6356c"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-012b2a742d6b6356c"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-012b2a742d6b6356c-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 85.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:10.258Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-012b2a742d6b6356c-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 85.0, 
    "unit": "Percent"
}
2019-09-13 15:03:10,390 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] *****************************************************************************************************************
2019-09-13 15:03:10,390 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 15:03:10,410 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:10,410 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:10,418 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568386990.41-169301646597247 `" && echo ansible-tmp-1568386990.41-169301646597247="` echo /root/.ansible/tmp/ansible-tmp-1568386990.41-169301646597247 `" ) && sleep 0'
2019-09-13 15:03:10,430 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:10,431 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpiGBZDH TO /root/.ansible/tmp/ansible-tmp-1568386990.41-169301646597247/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:10,432 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568386990.41-169301646597247/ /root/.ansible/tmp/ansible-tmp-1568386990.41-169301646597247/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:10,440 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568386990.41-169301646597247/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:10,798 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568386990.41-169301646597247/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:10,811 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-012b2a742d6b6356c-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-012b2a742d6b6356c"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-012b2a742d6b6356c"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-012b2a742d6b6356c-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:10.725Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-012b2a742d6b6356c-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 15:03:10,829 p=6036 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] **************************************************************************************
2019-09-13 15:03:10,829 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:36
2019-09-13 15:03:10,849 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:10,849 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:10,857 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568386990.85-51916633577470 `" && echo ansible-tmp-1568386990.85-51916633577470="` echo /root/.ansible/tmp/ansible-tmp-1568386990.85-51916633577470 `" ) && sleep 0'
2019-09-13 15:03:10,868 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:10,868 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmplf5AVy TO /root/.ansible/tmp/ansible-tmp-1568386990.85-51916633577470/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:10,869 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568386990.85-51916633577470/ /root/.ansible/tmp/ansible-tmp-1568386990.85-51916633577470/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:10,877 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568386990.85-51916633577470/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:12,554 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568386990.85-51916633577470/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:12,566 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-012b2a742d6b6356c-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-012b2a742d6b6356c"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-012b2a742d6b6356c"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-012b2a742d6b6356c-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:12.442Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-012b2a742d6b6356c-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 15:03:12,584 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] *****************************************************************************************************************
2019-09-13 15:03:12,584 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 15:03:12,604 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:12,605 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:12,613 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568386992.6-114424671982443 `" && echo ansible-tmp-1568386992.6-114424671982443="` echo /root/.ansible/tmp/ansible-tmp-1568386992.6-114424671982443 `" ) && sleep 0'
2019-09-13 15:03:12,624 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:12,624 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpH5_Beb TO /root/.ansible/tmp/ansible-tmp-1568386992.6-114424671982443/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:12,625 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568386992.6-114424671982443/ /root/.ansible/tmp/ansible-tmp-1568386992.6-114424671982443/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:12,633 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568386992.6-114424671982443/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:13,048 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568386992.6-114424671982443/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:13,060 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0159423736af5bfea-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-0159423736af5bfea"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-0159423736af5bfea"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0159423736af5bfea-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 85.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:12.942Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0159423736af5bfea-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 85.0, 
    "unit": "Percent"
}
2019-09-13 15:03:13,077 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] *****************************************************************************************************************
2019-09-13 15:03:13,078 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 15:03:13,097 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:13,097 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:13,105 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568386993.1-280757919275620 `" && echo ansible-tmp-1568386993.1-280757919275620="` echo /root/.ansible/tmp/ansible-tmp-1568386993.1-280757919275620 `" ) && sleep 0'
2019-09-13 15:03:13,116 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:13,117 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpcF9QUt TO /root/.ansible/tmp/ansible-tmp-1568386993.1-280757919275620/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:13,118 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568386993.1-280757919275620/ /root/.ansible/tmp/ansible-tmp-1568386993.1-280757919275620/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:13,126 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568386993.1-280757919275620/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:13,496 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568386993.1-280757919275620/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:13,509 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0159423736af5bfea-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-0159423736af5bfea"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-0159423736af5bfea"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0159423736af5bfea-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:13.404Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0159423736af5bfea-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 15:03:13,526 p=6036 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] **************************************************************************************
2019-09-13 15:03:13,526 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:36
2019-09-13 15:03:13,547 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:13,547 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:13,555 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568386993.55-218049508074234 `" && echo ansible-tmp-1568386993.55-218049508074234="` echo /root/.ansible/tmp/ansible-tmp-1568386993.55-218049508074234 `" ) && sleep 0'
2019-09-13 15:03:13,566 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:13,566 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmp6CCvsY TO /root/.ansible/tmp/ansible-tmp-1568386993.55-218049508074234/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:13,567 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568386993.55-218049508074234/ /root/.ansible/tmp/ansible-tmp-1568386993.55-218049508074234/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:13,575 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568386993.55-218049508074234/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:15,182 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568386993.55-218049508074234/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:15,195 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0159423736af5bfea-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-0159423736af5bfea"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-0159423736af5bfea"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-0159423736af5bfea-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:15.086Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-0159423736af5bfea-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 15:03:15,212 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] *****************************************************************************************************************
2019-09-13 15:03:15,212 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 15:03:15,232 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:15,232 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:15,240 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568386995.23-13022425888266 `" && echo ansible-tmp-1568386995.23-13022425888266="` echo /root/.ansible/tmp/ansible-tmp-1568386995.23-13022425888266 `" ) && sleep 0'
2019-09-13 15:03:15,250 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:15,251 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpgzAHas TO /root/.ansible/tmp/ansible-tmp-1568386995.23-13022425888266/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:15,252 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568386995.23-13022425888266/ /root/.ansible/tmp/ansible-tmp-1568386995.23-13022425888266/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:15,260 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568386995.23-13022425888266/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:15,627 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568386995.23-13022425888266/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:15,639 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-016696a4dbac24c6d-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-016696a4dbac24c6d"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-016696a4dbac24c6d"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-016696a4dbac24c6d-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 85.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:15.529Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-016696a4dbac24c6d-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 85.0, 
    "unit": "Percent"
}
2019-09-13 15:03:15,657 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] *****************************************************************************************************************
2019-09-13 15:03:15,657 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 15:03:15,676 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:15,676 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:15,684 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568386995.68-139349760482399 `" && echo ansible-tmp-1568386995.68-139349760482399="` echo /root/.ansible/tmp/ansible-tmp-1568386995.68-139349760482399 `" ) && sleep 0'
2019-09-13 15:03:15,695 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:15,696 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpBBXNnr TO /root/.ansible/tmp/ansible-tmp-1568386995.68-139349760482399/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:15,697 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568386995.68-139349760482399/ /root/.ansible/tmp/ansible-tmp-1568386995.68-139349760482399/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:15,705 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568386995.68-139349760482399/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:16,101 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568386995.68-139349760482399/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:16,113 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-016696a4dbac24c6d-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-016696a4dbac24c6d"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-016696a4dbac24c6d"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-016696a4dbac24c6d-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:16.010Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-016696a4dbac24c6d-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 15:03:16,131 p=6036 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] **************************************************************************************
2019-09-13 15:03:16,131 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:36
2019-09-13 15:03:16,151 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:16,151 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:16,159 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568386996.15-263924386194496 `" && echo ansible-tmp-1568386996.15-263924386194496="` echo /root/.ansible/tmp/ansible-tmp-1568386996.15-263924386194496 `" ) && sleep 0'
2019-09-13 15:03:16,169 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:16,170 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpfDA59z TO /root/.ansible/tmp/ansible-tmp-1568386996.15-263924386194496/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:16,171 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568386996.15-263924386194496/ /root/.ansible/tmp/ansible-tmp-1568386996.15-263924386194496/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:16,178 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568386996.15-263924386194496/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:17,904 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568386996.15-263924386194496/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:17,916 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-016696a4dbac24c6d-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-016696a4dbac24c6d"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-016696a4dbac24c6d"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-016696a4dbac24c6d-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:17.802Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-016696a4dbac24c6d-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 15:03:17,934 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] *****************************************************************************************************************
2019-09-13 15:03:17,934 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 15:03:17,954 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:17,954 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:17,962 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568386997.95-93853158556500 `" && echo ansible-tmp-1568386997.95-93853158556500="` echo /root/.ansible/tmp/ansible-tmp-1568386997.95-93853158556500 `" ) && sleep 0'
2019-09-13 15:03:17,973 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:17,973 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpwgEXxk TO /root/.ansible/tmp/ansible-tmp-1568386997.95-93853158556500/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:17,974 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568386997.95-93853158556500/ /root/.ansible/tmp/ansible-tmp-1568386997.95-93853158556500/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:17,982 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568386997.95-93853158556500/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:18,358 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568386997.95-93853158556500/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:18,370 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-01d593c11d50686ba-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-01d593c11d50686ba"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-01d593c11d50686ba"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-01d593c11d50686ba-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 85.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:18.264Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-01d593c11d50686ba-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 85.0, 
    "unit": "Percent"
}
2019-09-13 15:03:18,387 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] *****************************************************************************************************************
2019-09-13 15:03:18,387 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 15:03:18,407 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:18,407 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:18,415 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568386998.41-202294994904340 `" && echo ansible-tmp-1568386998.41-202294994904340="` echo /root/.ansible/tmp/ansible-tmp-1568386998.41-202294994904340 `" ) && sleep 0'
2019-09-13 15:03:18,426 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:18,426 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpBqdkxh TO /root/.ansible/tmp/ansible-tmp-1568386998.41-202294994904340/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:18,427 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568386998.41-202294994904340/ /root/.ansible/tmp/ansible-tmp-1568386998.41-202294994904340/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:18,435 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568386998.41-202294994904340/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:18,811 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568386998.41-202294994904340/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:18,824 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-01d593c11d50686ba-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-01d593c11d50686ba"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-01d593c11d50686ba"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-01d593c11d50686ba-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:18.732Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-01d593c11d50686ba-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 15:03:18,841 p=6036 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] **************************************************************************************
2019-09-13 15:03:18,841 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:36
2019-09-13 15:03:18,860 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:18,861 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:18,868 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568386998.86-9659383382396 `" && echo ansible-tmp-1568386998.86-9659383382396="` echo /root/.ansible/tmp/ansible-tmp-1568386998.86-9659383382396 `" ) && sleep 0'
2019-09-13 15:03:18,879 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:18,880 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmp61Xmop TO /root/.ansible/tmp/ansible-tmp-1568386998.86-9659383382396/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:18,881 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568386998.86-9659383382396/ /root/.ansible/tmp/ansible-tmp-1568386998.86-9659383382396/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:18,889 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568386998.86-9659383382396/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:20,690 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568386998.86-9659383382396/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:20,703 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-01d593c11d50686ba-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-01d593c11d50686ba"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-01d593c11d50686ba"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-01d593c11d50686ba-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:20.585Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-01d593c11d50686ba-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 15:03:20,720 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] *****************************************************************************************************************
2019-09-13 15:03:20,720 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 15:03:20,740 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:20,740 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:20,748 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387000.74-26665130847295 `" && echo ansible-tmp-1568387000.74-26665130847295="` echo /root/.ansible/tmp/ansible-tmp-1568387000.74-26665130847295 `" ) && sleep 0'
2019-09-13 15:03:20,759 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:20,760 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpKuj7XS TO /root/.ansible/tmp/ansible-tmp-1568387000.74-26665130847295/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:20,761 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387000.74-26665130847295/ /root/.ansible/tmp/ansible-tmp-1568387000.74-26665130847295/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:20,769 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387000.74-26665130847295/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:21,127 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387000.74-26665130847295/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:21,139 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-032eaed76511c16b6-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-032eaed76511c16b6"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-032eaed76511c16b6"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-032eaed76511c16b6-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 85.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:21.030Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-032eaed76511c16b6-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 85.0, 
    "unit": "Percent"
}
2019-09-13 15:03:21,156 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] *****************************************************************************************************************
2019-09-13 15:03:21,156 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 15:03:21,176 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:21,176 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:21,184 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387001.18-197624798897891 `" && echo ansible-tmp-1568387001.18-197624798897891="` echo /root/.ansible/tmp/ansible-tmp-1568387001.18-197624798897891 `" ) && sleep 0'
2019-09-13 15:03:21,195 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:21,195 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmphDlSgl TO /root/.ansible/tmp/ansible-tmp-1568387001.18-197624798897891/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:21,196 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387001.18-197624798897891/ /root/.ansible/tmp/ansible-tmp-1568387001.18-197624798897891/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:21,204 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387001.18-197624798897891/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:21,595 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387001.18-197624798897891/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:21,607 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-032eaed76511c16b6-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-032eaed76511c16b6"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-032eaed76511c16b6"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-032eaed76511c16b6-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:21.513Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-032eaed76511c16b6-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 15:03:21,625 p=6036 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] **************************************************************************************
2019-09-13 15:03:21,625 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:36
2019-09-13 15:03:21,645 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:21,645 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:21,653 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387001.64-72349076327708 `" && echo ansible-tmp-1568387001.64-72349076327708="` echo /root/.ansible/tmp/ansible-tmp-1568387001.64-72349076327708 `" ) && sleep 0'
2019-09-13 15:03:21,663 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:21,664 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpGStoPw TO /root/.ansible/tmp/ansible-tmp-1568387001.64-72349076327708/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:21,665 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387001.64-72349076327708/ /root/.ansible/tmp/ansible-tmp-1568387001.64-72349076327708/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:21,672 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387001.64-72349076327708/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:22,082 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387001.64-72349076327708/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:22,094 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-032eaed76511c16b6-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-032eaed76511c16b6"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-032eaed76511c16b6"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-032eaed76511c16b6-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:21.990Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-032eaed76511c16b6-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 15:03:22,112 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] *****************************************************************************************************************
2019-09-13 15:03:22,112 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 15:03:22,132 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:22,133 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:22,140 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387002.13-205758194837521 `" && echo ansible-tmp-1568387002.13-205758194837521="` echo /root/.ansible/tmp/ansible-tmp-1568387002.13-205758194837521 `" ) && sleep 0'
2019-09-13 15:03:22,151 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:22,152 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpqp7Hdw TO /root/.ansible/tmp/ansible-tmp-1568387002.13-205758194837521/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:22,153 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387002.13-205758194837521/ /root/.ansible/tmp/ansible-tmp-1568387002.13-205758194837521/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:22,161 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387002.13-205758194837521/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:22,540 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387002.13-205758194837521/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:22,553 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-035ebc2289adc1234-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-035ebc2289adc1234"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-035ebc2289adc1234"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-035ebc2289adc1234-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 85.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:22.446Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-035ebc2289adc1234-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 85.0, 
    "unit": "Percent"
}
2019-09-13 15:03:22,570 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] *****************************************************************************************************************
2019-09-13 15:03:22,570 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 15:03:22,590 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:22,590 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:22,598 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387002.59-94287691571837 `" && echo ansible-tmp-1568387002.59-94287691571837="` echo /root/.ansible/tmp/ansible-tmp-1568387002.59-94287691571837 `" ) && sleep 0'
2019-09-13 15:03:22,609 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:22,610 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmp9uTRCO TO /root/.ansible/tmp/ansible-tmp-1568387002.59-94287691571837/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:22,611 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387002.59-94287691571837/ /root/.ansible/tmp/ansible-tmp-1568387002.59-94287691571837/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:22,619 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387002.59-94287691571837/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:23,095 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387002.59-94287691571837/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:23,107 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-035ebc2289adc1234-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-035ebc2289adc1234"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-035ebc2289adc1234"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-035ebc2289adc1234-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:23.002Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-035ebc2289adc1234-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 15:03:23,125 p=6036 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] **************************************************************************************
2019-09-13 15:03:23,125 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:36
2019-09-13 15:03:23,144 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:23,145 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:23,153 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387003.14-263785057675263 `" && echo ansible-tmp-1568387003.14-263785057675263="` echo /root/.ansible/tmp/ansible-tmp-1568387003.14-263785057675263 `" ) && sleep 0'
2019-09-13 15:03:23,164 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:23,165 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpzmpmvj TO /root/.ansible/tmp/ansible-tmp-1568387003.14-263785057675263/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:23,165 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387003.14-263785057675263/ /root/.ansible/tmp/ansible-tmp-1568387003.14-263785057675263/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:23,173 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387003.14-263785057675263/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:23,573 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387003.14-263785057675263/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:23,589 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-035ebc2289adc1234-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-035ebc2289adc1234"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-035ebc2289adc1234"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-035ebc2289adc1234-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:23.472Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-035ebc2289adc1234-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 15:03:23,606 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] *****************************************************************************************************************
2019-09-13 15:03:23,606 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 15:03:23,629 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:23,629 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:23,637 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387003.63-56978002389127 `" && echo ansible-tmp-1568387003.63-56978002389127="` echo /root/.ansible/tmp/ansible-tmp-1568387003.63-56978002389127 `" ) && sleep 0'
2019-09-13 15:03:23,648 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:23,648 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpt_TzvK TO /root/.ansible/tmp/ansible-tmp-1568387003.63-56978002389127/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:23,649 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387003.63-56978002389127/ /root/.ansible/tmp/ansible-tmp-1568387003.63-56978002389127/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:23,657 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387003.63-56978002389127/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:24,091 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387003.63-56978002389127/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:24,104 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-070cd6f3e291cc696-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-070cd6f3e291cc696"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-070cd6f3e291cc696"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-070cd6f3e291cc696-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 85.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:23.900Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-070cd6f3e291cc696-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 85.0, 
    "unit": "Percent"
}
2019-09-13 15:03:24,123 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] *****************************************************************************************************************
2019-09-13 15:03:24,123 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 15:03:24,143 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:24,144 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:24,151 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387004.14-275383561505274 `" && echo ansible-tmp-1568387004.14-275383561505274="` echo /root/.ansible/tmp/ansible-tmp-1568387004.14-275383561505274 `" ) && sleep 0'
2019-09-13 15:03:24,163 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:24,163 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpOnpJwm TO /root/.ansible/tmp/ansible-tmp-1568387004.14-275383561505274/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:24,164 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387004.14-275383561505274/ /root/.ansible/tmp/ansible-tmp-1568387004.14-275383561505274/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:24,172 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387004.14-275383561505274/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:24,535 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387004.14-275383561505274/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:24,587 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-070cd6f3e291cc696-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-070cd6f3e291cc696"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-070cd6f3e291cc696"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-070cd6f3e291cc696-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:24.437Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-070cd6f3e291cc696-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 15:03:24,604 p=6036 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] **************************************************************************************
2019-09-13 15:03:24,604 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:36
2019-09-13 15:03:24,668 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:24,668 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:24,676 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387004.67-232939305298104 `" && echo ansible-tmp-1568387004.67-232939305298104="` echo /root/.ansible/tmp/ansible-tmp-1568387004.67-232939305298104 `" ) && sleep 0'
2019-09-13 15:03:24,687 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:24,687 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpnIhWgm TO /root/.ansible/tmp/ansible-tmp-1568387004.67-232939305298104/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:24,688 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387004.67-232939305298104/ /root/.ansible/tmp/ansible-tmp-1568387004.67-232939305298104/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:24,696 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387004.67-232939305298104/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:25,102 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387004.67-232939305298104/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:25,140 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-070cd6f3e291cc696-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-070cd6f3e291cc696"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-070cd6f3e291cc696"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-070cd6f3e291cc696-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:25.010Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-070cd6f3e291cc696-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 15:03:25,157 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] *****************************************************************************************************************
2019-09-13 15:03:25,157 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 15:03:25,176 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:25,177 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:25,184 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387005.18-105390823655571 `" && echo ansible-tmp-1568387005.18-105390823655571="` echo /root/.ansible/tmp/ansible-tmp-1568387005.18-105390823655571 `" ) && sleep 0'
2019-09-13 15:03:25,195 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:25,196 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpoglpUl TO /root/.ansible/tmp/ansible-tmp-1568387005.18-105390823655571/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:25,196 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387005.18-105390823655571/ /root/.ansible/tmp/ansible-tmp-1568387005.18-105390823655571/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:25,204 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387005.18-105390823655571/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:25,622 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387005.18-105390823655571/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:25,634 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-07c99ca11bb187e05-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-07c99ca11bb187e05"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-07c99ca11bb187e05"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-07c99ca11bb187e05-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 85.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:25.486Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-07c99ca11bb187e05-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 85.0, 
    "unit": "Percent"
}
2019-09-13 15:03:25,651 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] *****************************************************************************************************************
2019-09-13 15:03:25,652 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 15:03:25,671 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:25,671 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:25,679 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387005.67-276278197875580 `" && echo ansible-tmp-1568387005.67-276278197875580="` echo /root/.ansible/tmp/ansible-tmp-1568387005.67-276278197875580 `" ) && sleep 0'
2019-09-13 15:03:25,691 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:25,691 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpkwfvl1 TO /root/.ansible/tmp/ansible-tmp-1568387005.67-276278197875580/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:25,692 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387005.67-276278197875580/ /root/.ansible/tmp/ansible-tmp-1568387005.67-276278197875580/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:25,701 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387005.67-276278197875580/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:26,055 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387005.67-276278197875580/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:26,067 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-07c99ca11bb187e05-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-07c99ca11bb187e05"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-07c99ca11bb187e05"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-07c99ca11bb187e05-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:25.962Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-07c99ca11bb187e05-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 15:03:26,084 p=6036 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] **************************************************************************************
2019-09-13 15:03:26,084 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:36
2019-09-13 15:03:26,105 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:26,105 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:26,113 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387006.1-257247259077516 `" && echo ansible-tmp-1568387006.1-257247259077516="` echo /root/.ansible/tmp/ansible-tmp-1568387006.1-257247259077516 `" ) && sleep 0'
2019-09-13 15:03:26,124 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:26,124 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpSZoHmt TO /root/.ansible/tmp/ansible-tmp-1568387006.1-257247259077516/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:26,125 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387006.1-257247259077516/ /root/.ansible/tmp/ansible-tmp-1568387006.1-257247259077516/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:26,133 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387006.1-257247259077516/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:26,555 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387006.1-257247259077516/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:26,568 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-07c99ca11bb187e05-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-07c99ca11bb187e05"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-07c99ca11bb187e05"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-07c99ca11bb187e05-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:26.458Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-07c99ca11bb187e05-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 15:03:26,586 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] *****************************************************************************************************************
2019-09-13 15:03:26,586 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 15:03:26,606 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:26,606 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:26,614 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387006.61-216455725594737 `" && echo ansible-tmp-1568387006.61-216455725594737="` echo /root/.ansible/tmp/ansible-tmp-1568387006.61-216455725594737 `" ) && sleep 0'
2019-09-13 15:03:26,625 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:26,626 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpeIqeh7 TO /root/.ansible/tmp/ansible-tmp-1568387006.61-216455725594737/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:26,626 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387006.61-216455725594737/ /root/.ansible/tmp/ansible-tmp-1568387006.61-216455725594737/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:26,634 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387006.61-216455725594737/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:27,035 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387006.61-216455725594737/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:27,047 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-080337572ed1f8f67-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-080337572ed1f8f67"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-080337572ed1f8f67"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-080337572ed1f8f67-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 85.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:26.943Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-080337572ed1f8f67-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 85.0, 
    "unit": "Percent"
}
2019-09-13 15:03:27,065 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] *****************************************************************************************************************
2019-09-13 15:03:27,065 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 15:03:27,084 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:27,085 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:27,092 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387007.08-151926846003048 `" && echo ansible-tmp-1568387007.08-151926846003048="` echo /root/.ansible/tmp/ansible-tmp-1568387007.08-151926846003048 `" ) && sleep 0'
2019-09-13 15:03:27,104 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:27,104 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpA0nEYp TO /root/.ansible/tmp/ansible-tmp-1568387007.08-151926846003048/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:27,105 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387007.08-151926846003048/ /root/.ansible/tmp/ansible-tmp-1568387007.08-151926846003048/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:27,113 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387007.08-151926846003048/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:27,519 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387007.08-151926846003048/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:27,531 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-080337572ed1f8f67-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-080337572ed1f8f67"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-080337572ed1f8f67"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-080337572ed1f8f67-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:27.413Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-080337572ed1f8f67-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 15:03:27,548 p=6036 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] **************************************************************************************
2019-09-13 15:03:27,549 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:36
2019-09-13 15:03:27,569 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:27,569 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:27,577 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387007.57-1923587278087 `" && echo ansible-tmp-1568387007.57-1923587278087="` echo /root/.ansible/tmp/ansible-tmp-1568387007.57-1923587278087 `" ) && sleep 0'
2019-09-13 15:03:27,588 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:27,589 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpLvFyiY TO /root/.ansible/tmp/ansible-tmp-1568387007.57-1923587278087/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:27,590 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387007.57-1923587278087/ /root/.ansible/tmp/ansible-tmp-1568387007.57-1923587278087/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:27,597 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387007.57-1923587278087/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:28,103 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387007.57-1923587278087/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:28,116 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-080337572ed1f8f67-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-080337572ed1f8f67"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-080337572ed1f8f67"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-080337572ed1f8f67-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:28.018Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-080337572ed1f8f67-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 15:03:28,133 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] *****************************************************************************************************************
2019-09-13 15:03:28,133 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 15:03:28,153 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:28,154 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:28,161 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387008.15-220144964913739 `" && echo ansible-tmp-1568387008.15-220144964913739="` echo /root/.ansible/tmp/ansible-tmp-1568387008.15-220144964913739 `" ) && sleep 0'
2019-09-13 15:03:28,173 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:28,174 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpId3eXZ TO /root/.ansible/tmp/ansible-tmp-1568387008.15-220144964913739/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:28,175 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387008.15-220144964913739/ /root/.ansible/tmp/ansible-tmp-1568387008.15-220144964913739/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:28,183 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387008.15-220144964913739/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:28,550 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387008.15-220144964913739/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:28,562 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-097e7b29137921c72-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-097e7b29137921c72"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-097e7b29137921c72"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-097e7b29137921c72-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 85.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:28.452Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-097e7b29137921c72-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 85.0, 
    "unit": "Percent"
}
2019-09-13 15:03:28,580 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] *****************************************************************************************************************
2019-09-13 15:03:28,580 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 15:03:28,599 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:28,600 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:28,607 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387008.6-273413057833253 `" && echo ansible-tmp-1568387008.6-273413057833253="` echo /root/.ansible/tmp/ansible-tmp-1568387008.6-273413057833253 `" ) && sleep 0'
2019-09-13 15:03:28,618 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:28,619 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpIfCdSm TO /root/.ansible/tmp/ansible-tmp-1568387008.6-273413057833253/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:28,620 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387008.6-273413057833253/ /root/.ansible/tmp/ansible-tmp-1568387008.6-273413057833253/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:28,627 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387008.6-273413057833253/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:29,038 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387008.6-273413057833253/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:29,050 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-097e7b29137921c72-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-097e7b29137921c72"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-097e7b29137921c72"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-097e7b29137921c72-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:28.942Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-097e7b29137921c72-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 15:03:29,067 p=6036 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] **************************************************************************************
2019-09-13 15:03:29,067 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:36
2019-09-13 15:03:29,087 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:29,087 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:29,095 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387009.09-59066002687014 `" && echo ansible-tmp-1568387009.09-59066002687014="` echo /root/.ansible/tmp/ansible-tmp-1568387009.09-59066002687014 `" ) && sleep 0'
2019-09-13 15:03:29,106 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:29,106 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpmeXmzf TO /root/.ansible/tmp/ansible-tmp-1568387009.09-59066002687014/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:29,107 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387009.09-59066002687014/ /root/.ansible/tmp/ansible-tmp-1568387009.09-59066002687014/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:29,115 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387009.09-59066002687014/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:29,560 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387009.09-59066002687014/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:29,572 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-097e7b29137921c72-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-097e7b29137921c72"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-097e7b29137921c72"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-097e7b29137921c72-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:29.450Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-097e7b29137921c72-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 15:03:29,590 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] *****************************************************************************************************************
2019-09-13 15:03:29,590 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 15:03:29,609 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:29,610 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:29,617 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387009.61-126466947402908 `" && echo ansible-tmp-1568387009.61-126466947402908="` echo /root/.ansible/tmp/ansible-tmp-1568387009.61-126466947402908 `" ) && sleep 0'
2019-09-13 15:03:29,629 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:29,629 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpMvKwH7 TO /root/.ansible/tmp/ansible-tmp-1568387009.61-126466947402908/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:29,630 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387009.61-126466947402908/ /root/.ansible/tmp/ansible-tmp-1568387009.61-126466947402908/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:29,637 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387009.61-126466947402908/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:29,993 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387009.61-126466947402908/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:30,006 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-098458477f2c0db16-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-098458477f2c0db16"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-098458477f2c0db16"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-098458477f2c0db16-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 85.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:29.904Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-098458477f2c0db16-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 85.0, 
    "unit": "Percent"
}
2019-09-13 15:03:30,023 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] *****************************************************************************************************************
2019-09-13 15:03:30,023 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 15:03:30,043 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:30,043 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:30,051 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387010.04-85364257431243 `" && echo ansible-tmp-1568387010.04-85364257431243="` echo /root/.ansible/tmp/ansible-tmp-1568387010.04-85364257431243 `" ) && sleep 0'
2019-09-13 15:03:30,062 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:30,063 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpKGJOWQ TO /root/.ansible/tmp/ansible-tmp-1568387010.04-85364257431243/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:30,064 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387010.04-85364257431243/ /root/.ansible/tmp/ansible-tmp-1568387010.04-85364257431243/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:30,072 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387010.04-85364257431243/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:30,417 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387010.04-85364257431243/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:30,429 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-098458477f2c0db16-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-098458477f2c0db16"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-098458477f2c0db16"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-098458477f2c0db16-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:30.330Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-098458477f2c0db16-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 15:03:30,446 p=6036 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] **************************************************************************************
2019-09-13 15:03:30,446 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:36
2019-09-13 15:03:30,466 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:30,466 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:30,474 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387010.47-35909793410586 `" && echo ansible-tmp-1568387010.47-35909793410586="` echo /root/.ansible/tmp/ansible-tmp-1568387010.47-35909793410586 `" ) && sleep 0'
2019-09-13 15:03:30,485 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:30,485 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmp6OxRPu TO /root/.ansible/tmp/ansible-tmp-1568387010.47-35909793410586/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:30,486 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387010.47-35909793410586/ /root/.ansible/tmp/ansible-tmp-1568387010.47-35909793410586/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:30,494 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387010.47-35909793410586/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:30,924 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387010.47-35909793410586/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:30,936 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-098458477f2c0db16-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-098458477f2c0db16"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-098458477f2c0db16"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-098458477f2c0db16-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:30.825Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-098458477f2c0db16-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 15:03:30,954 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] *****************************************************************************************************************
2019-09-13 15:03:30,954 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 15:03:30,974 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:30,974 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:30,982 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387010.97-97449535675845 `" && echo ansible-tmp-1568387010.97-97449535675845="` echo /root/.ansible/tmp/ansible-tmp-1568387010.97-97449535675845 `" ) && sleep 0'
2019-09-13 15:03:30,993 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:30,994 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpv2qjhx TO /root/.ansible/tmp/ansible-tmp-1568387010.97-97449535675845/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:30,995 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387010.97-97449535675845/ /root/.ansible/tmp/ansible-tmp-1568387010.97-97449535675845/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:31,003 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387010.97-97449535675845/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:31,371 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387010.97-97449535675845/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:31,383 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0bac557cfd6af33ce-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-0bac557cfd6af33ce"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-0bac557cfd6af33ce"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0bac557cfd6af33ce-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 85.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:31.283Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0bac557cfd6af33ce-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 85.0, 
    "unit": "Percent"
}
2019-09-13 15:03:31,400 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] *****************************************************************************************************************
2019-09-13 15:03:31,400 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 15:03:31,420 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:31,420 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:31,427 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387011.42-50649720144196 `" && echo ansible-tmp-1568387011.42-50649720144196="` echo /root/.ansible/tmp/ansible-tmp-1568387011.42-50649720144196 `" ) && sleep 0'
2019-09-13 15:03:31,438 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:31,439 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpTKPs9V TO /root/.ansible/tmp/ansible-tmp-1568387011.42-50649720144196/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:31,439 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387011.42-50649720144196/ /root/.ansible/tmp/ansible-tmp-1568387011.42-50649720144196/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:31,447 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387011.42-50649720144196/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:31,818 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387011.42-50649720144196/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:31,831 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0bac557cfd6af33ce-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-0bac557cfd6af33ce"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-0bac557cfd6af33ce"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0bac557cfd6af33ce-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:31.720Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0bac557cfd6af33ce-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 15:03:31,848 p=6036 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] **************************************************************************************
2019-09-13 15:03:31,849 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:36
2019-09-13 15:03:31,869 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:31,869 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:31,877 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387011.87-118658262810917 `" && echo ansible-tmp-1568387011.87-118658262810917="` echo /root/.ansible/tmp/ansible-tmp-1568387011.87-118658262810917 `" ) && sleep 0'
2019-09-13 15:03:31,889 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:31,889 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpDsQuYQ TO /root/.ansible/tmp/ansible-tmp-1568387011.87-118658262810917/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:31,890 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387011.87-118658262810917/ /root/.ansible/tmp/ansible-tmp-1568387011.87-118658262810917/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:31,898 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387011.87-118658262810917/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:32,294 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387011.87-118658262810917/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:32,306 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0bac557cfd6af33ce-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-0bac557cfd6af33ce"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-0bac557cfd6af33ce"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-0bac557cfd6af33ce-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:32.205Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-0bac557cfd6af33ce-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 15:03:32,324 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] *****************************************************************************************************************
2019-09-13 15:03:32,324 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 15:03:32,343 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:32,343 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:32,351 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387012.34-126263106999818 `" && echo ansible-tmp-1568387012.34-126263106999818="` echo /root/.ansible/tmp/ansible-tmp-1568387012.34-126263106999818 `" ) && sleep 0'
2019-09-13 15:03:32,363 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:32,363 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpqa4TP4 TO /root/.ansible/tmp/ansible-tmp-1568387012.34-126263106999818/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:32,364 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387012.34-126263106999818/ /root/.ansible/tmp/ansible-tmp-1568387012.34-126263106999818/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:32,372 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387012.34-126263106999818/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:32,794 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387012.34-126263106999818/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:32,806 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0e8824e314ee2e884-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-0e8824e314ee2e884"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-0e8824e314ee2e884"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0e8824e314ee2e884-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 85.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:32.694Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0e8824e314ee2e884-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 85.0, 
    "unit": "Percent"
}
2019-09-13 15:03:32,824 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] *****************************************************************************************************************
2019-09-13 15:03:32,824 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 15:03:32,844 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:32,844 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:32,852 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387012.84-109732207750990 `" && echo ansible-tmp-1568387012.84-109732207750990="` echo /root/.ansible/tmp/ansible-tmp-1568387012.84-109732207750990 `" ) && sleep 0'
2019-09-13 15:03:32,863 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:32,864 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmp_C6pKR TO /root/.ansible/tmp/ansible-tmp-1568387012.84-109732207750990/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:32,865 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387012.84-109732207750990/ /root/.ansible/tmp/ansible-tmp-1568387012.84-109732207750990/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:32,872 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387012.84-109732207750990/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:33,264 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387012.84-109732207750990/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:33,277 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0e8824e314ee2e884-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-0e8824e314ee2e884"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-0e8824e314ee2e884"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0e8824e314ee2e884-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:33.175Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0e8824e314ee2e884-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 15:03:33,294 p=6036 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] **************************************************************************************
2019-09-13 15:03:33,294 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:36
2019-09-13 15:03:33,317 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:33,318 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:33,325 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387013.32-100509579729447 `" && echo ansible-tmp-1568387013.32-100509579729447="` echo /root/.ansible/tmp/ansible-tmp-1568387013.32-100509579729447 `" ) && sleep 0'
2019-09-13 15:03:33,337 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:33,338 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpY_kajy TO /root/.ansible/tmp/ansible-tmp-1568387013.32-100509579729447/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:33,339 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387013.32-100509579729447/ /root/.ansible/tmp/ansible-tmp-1568387013.32-100509579729447/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:33,347 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387013.32-100509579729447/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:33,748 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387013.32-100509579729447/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:33,760 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0e8824e314ee2e884-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-0e8824e314ee2e884"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-0e8824e314ee2e884"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-0e8824e314ee2e884-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:33.625Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-0e8824e314ee2e884-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 15:03:33,779 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] *****************************************************************************************************************
2019-09-13 15:03:33,779 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 15:03:33,798 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:33,799 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:33,806 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387013.8-187037368792948 `" && echo ansible-tmp-1568387013.8-187037368792948="` echo /root/.ansible/tmp/ansible-tmp-1568387013.8-187037368792948 `" ) && sleep 0'
2019-09-13 15:03:33,817 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:33,818 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpC_m1K_ TO /root/.ansible/tmp/ansible-tmp-1568387013.8-187037368792948/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:33,819 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387013.8-187037368792948/ /root/.ansible/tmp/ansible-tmp-1568387013.8-187037368792948/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:33,826 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387013.8-187037368792948/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:34,208 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387013.8-187037368792948/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:34,220 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0fd349b795b31da1d-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-0fd349b795b31da1d"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-0fd349b795b31da1d"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0fd349b795b31da1d-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 85.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:34.106Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0fd349b795b31da1d-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 85.0, 
    "unit": "Percent"
}
2019-09-13 15:03:34,237 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] *****************************************************************************************************************
2019-09-13 15:03:34,237 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 15:03:34,257 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:34,257 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:34,265 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387014.26-195097479161091 `" && echo ansible-tmp-1568387014.26-195097479161091="` echo /root/.ansible/tmp/ansible-tmp-1568387014.26-195097479161091 `" ) && sleep 0'
2019-09-13 15:03:34,276 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:34,277 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpwEe_mL TO /root/.ansible/tmp/ansible-tmp-1568387014.26-195097479161091/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:34,277 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387014.26-195097479161091/ /root/.ansible/tmp/ansible-tmp-1568387014.26-195097479161091/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:34,285 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387014.26-195097479161091/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:34,680 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387014.26-195097479161091/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:34,693 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0fd349b795b31da1d-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-0fd349b795b31da1d"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-0fd349b795b31da1d"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0fd349b795b31da1d-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:34.589Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0fd349b795b31da1d-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 15:03:34,711 p=6036 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] **************************************************************************************
2019-09-13 15:03:34,711 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:36
2019-09-13 15:03:34,731 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:34,731 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:34,739 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387014.73-109660228194481 `" && echo ansible-tmp-1568387014.73-109660228194481="` echo /root/.ansible/tmp/ansible-tmp-1568387014.73-109660228194481 `" ) && sleep 0'
2019-09-13 15:03:34,750 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:34,751 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpmpmUWX TO /root/.ansible/tmp/ansible-tmp-1568387014.73-109660228194481/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:34,752 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387014.73-109660228194481/ /root/.ansible/tmp/ansible-tmp-1568387014.73-109660228194481/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:34,759 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387014.73-109660228194481/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:35,157 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387014.73-109660228194481/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:35,168 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0fd349b795b31da1d-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-0fd349b795b31da1d"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-0fd349b795b31da1d"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-0fd349b795b31da1d-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:35.068Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-0fd349b795b31da1d-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 15:03:35,186 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] *****************************************************************************************************************
2019-09-13 15:03:35,186 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 15:03:35,206 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:35,206 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:35,214 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387015.21-261298803582544 `" && echo ansible-tmp-1568387015.21-261298803582544="` echo /root/.ansible/tmp/ansible-tmp-1568387015.21-261298803582544 `" ) && sleep 0'
2019-09-13 15:03:35,226 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:35,226 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpY21ucy TO /root/.ansible/tmp/ansible-tmp-1568387015.21-261298803582544/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:35,227 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387015.21-261298803582544/ /root/.ansible/tmp/ansible-tmp-1568387015.21-261298803582544/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:35,235 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387015.21-261298803582544/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:35,615 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387015.21-261298803582544/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:35,628 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0140237139d20661c-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-0140237139d20661c"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-0140237139d20661c"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0140237139d20661c-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 85.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:35.521Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0140237139d20661c-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 85.0, 
    "unit": "Percent"
}
2019-09-13 15:03:35,645 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] *****************************************************************************************************************
2019-09-13 15:03:35,645 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 15:03:35,665 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:35,665 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:35,673 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387015.67-120023845227846 `" && echo ansible-tmp-1568387015.67-120023845227846="` echo /root/.ansible/tmp/ansible-tmp-1568387015.67-120023845227846 `" ) && sleep 0'
2019-09-13 15:03:35,685 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:35,685 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpSPkVCD TO /root/.ansible/tmp/ansible-tmp-1568387015.67-120023845227846/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:35,686 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387015.67-120023845227846/ /root/.ansible/tmp/ansible-tmp-1568387015.67-120023845227846/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:35,694 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387015.67-120023845227846/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:36,058 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387015.67-120023845227846/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:36,070 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0140237139d20661c-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-0140237139d20661c"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-0140237139d20661c"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0140237139d20661c-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:35.979Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0140237139d20661c-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 15:03:36,088 p=6036 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] **************************************************************************************
2019-09-13 15:03:36,089 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:36
2019-09-13 15:03:36,108 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:36,109 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:36,116 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387016.11-85362087382811 `" && echo ansible-tmp-1568387016.11-85362087382811="` echo /root/.ansible/tmp/ansible-tmp-1568387016.11-85362087382811 `" ) && sleep 0'
2019-09-13 15:03:36,128 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:36,128 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpeP670j TO /root/.ansible/tmp/ansible-tmp-1568387016.11-85362087382811/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:36,129 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387016.11-85362087382811/ /root/.ansible/tmp/ansible-tmp-1568387016.11-85362087382811/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:36,137 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387016.11-85362087382811/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:36,605 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387016.11-85362087382811/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:36,617 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0140237139d20661c-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-0140237139d20661c"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-0140237139d20661c"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-0140237139d20661c-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:36.475Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-0140237139d20661c-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 15:03:36,634 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] *****************************************************************************************************************
2019-09-13 15:03:36,634 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 15:03:36,655 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:36,655 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:36,663 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387016.65-261171604280194 `" && echo ansible-tmp-1568387016.65-261171604280194="` echo /root/.ansible/tmp/ansible-tmp-1568387016.65-261171604280194 `" ) && sleep 0'
2019-09-13 15:03:36,674 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:36,675 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmps091Mh TO /root/.ansible/tmp/ansible-tmp-1568387016.65-261171604280194/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:36,676 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387016.65-261171604280194/ /root/.ansible/tmp/ansible-tmp-1568387016.65-261171604280194/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:36,683 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387016.65-261171604280194/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:37,047 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387016.65-261171604280194/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:37,060 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-03c85c372e990f54f-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-03c85c372e990f54f"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-03c85c372e990f54f"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-03c85c372e990f54f-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 85.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:36.952Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-03c85c372e990f54f-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 85.0, 
    "unit": "Percent"
}
2019-09-13 15:03:37,077 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] *****************************************************************************************************************
2019-09-13 15:03:37,077 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 15:03:37,098 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:37,098 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:37,106 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387017.1-126344549760593 `" && echo ansible-tmp-1568387017.1-126344549760593="` echo /root/.ansible/tmp/ansible-tmp-1568387017.1-126344549760593 `" ) && sleep 0'
2019-09-13 15:03:37,117 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:37,118 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmprqlDUS TO /root/.ansible/tmp/ansible-tmp-1568387017.1-126344549760593/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:37,119 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387017.1-126344549760593/ /root/.ansible/tmp/ansible-tmp-1568387017.1-126344549760593/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:37,127 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387017.1-126344549760593/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:37,490 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387017.1-126344549760593/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:37,503 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-03c85c372e990f54f-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-03c85c372e990f54f"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-03c85c372e990f54f"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-03c85c372e990f54f-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:37.407Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-03c85c372e990f54f-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 15:03:37,521 p=6036 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] **************************************************************************************
2019-09-13 15:03:37,521 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:36
2019-09-13 15:03:37,541 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:37,541 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:37,548 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387017.54-75861577164313 `" && echo ansible-tmp-1568387017.54-75861577164313="` echo /root/.ansible/tmp/ansible-tmp-1568387017.54-75861577164313 `" ) && sleep 0'
2019-09-13 15:03:37,560 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:37,560 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpp1ep5k TO /root/.ansible/tmp/ansible-tmp-1568387017.54-75861577164313/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:37,561 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387017.54-75861577164313/ /root/.ansible/tmp/ansible-tmp-1568387017.54-75861577164313/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:37,568 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387017.54-75861577164313/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:37,958 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387017.54-75861577164313/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:37,970 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-03c85c372e990f54f-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-03c85c372e990f54f"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-03c85c372e990f54f"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-03c85c372e990f54f-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:37.865Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-03c85c372e990f54f-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 15:03:37,987 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] *****************************************************************************************************************
2019-09-13 15:03:37,987 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 15:03:38,008 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:38,008 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:38,016 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387018.01-66135544848022 `" && echo ansible-tmp-1568387018.01-66135544848022="` echo /root/.ansible/tmp/ansible-tmp-1568387018.01-66135544848022 `" ) && sleep 0'
2019-09-13 15:03:38,026 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:38,027 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpGPz9gZ TO /root/.ansible/tmp/ansible-tmp-1568387018.01-66135544848022/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:38,028 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387018.01-66135544848022/ /root/.ansible/tmp/ansible-tmp-1568387018.01-66135544848022/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:38,035 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387018.01-66135544848022/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:38,445 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387018.01-66135544848022/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:38,457 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-052249509c4dcd893-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-052249509c4dcd893"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-052249509c4dcd893"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-052249509c4dcd893-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 85.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:38.310Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-052249509c4dcd893-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 85.0, 
    "unit": "Percent"
}
2019-09-13 15:03:38,475 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] *****************************************************************************************************************
2019-09-13 15:03:38,475 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 15:03:38,495 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:38,495 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:38,503 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387018.49-142037616567017 `" && echo ansible-tmp-1568387018.49-142037616567017="` echo /root/.ansible/tmp/ansible-tmp-1568387018.49-142037616567017 `" ) && sleep 0'
2019-09-13 15:03:38,515 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:38,516 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpsMUDa1 TO /root/.ansible/tmp/ansible-tmp-1568387018.49-142037616567017/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:38,516 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387018.49-142037616567017/ /root/.ansible/tmp/ansible-tmp-1568387018.49-142037616567017/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:38,524 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387018.49-142037616567017/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:38,953 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387018.49-142037616567017/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:38,965 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-052249509c4dcd893-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-052249509c4dcd893"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-052249509c4dcd893"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-052249509c4dcd893-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:38.800Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-052249509c4dcd893-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 15:03:38,982 p=6036 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] **************************************************************************************
2019-09-13 15:03:38,983 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:36
2019-09-13 15:03:39,003 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:39,004 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:39,012 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387019.0-156474365397466 `" && echo ansible-tmp-1568387019.0-156474365397466="` echo /root/.ansible/tmp/ansible-tmp-1568387019.0-156474365397466 `" ) && sleep 0'
2019-09-13 15:03:39,023 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:39,023 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmp3IqIjE TO /root/.ansible/tmp/ansible-tmp-1568387019.0-156474365397466/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:39,024 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387019.0-156474365397466/ /root/.ansible/tmp/ansible-tmp-1568387019.0-156474365397466/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:39,032 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387019.0-156474365397466/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:39,437 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387019.0-156474365397466/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:39,450 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-052249509c4dcd893-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-052249509c4dcd893"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-052249509c4dcd893"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-052249509c4dcd893-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:39.339Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-052249509c4dcd893-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 15:03:39,467 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] *****************************************************************************************************************
2019-09-13 15:03:39,467 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 15:03:39,487 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:39,487 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:39,495 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387019.49-185107686626035 `" && echo ansible-tmp-1568387019.49-185107686626035="` echo /root/.ansible/tmp/ansible-tmp-1568387019.49-185107686626035 `" ) && sleep 0'
2019-09-13 15:03:39,508 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:39,508 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmplzGsxA TO /root/.ansible/tmp/ansible-tmp-1568387019.49-185107686626035/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:39,509 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387019.49-185107686626035/ /root/.ansible/tmp/ansible-tmp-1568387019.49-185107686626035/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:39,517 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387019.49-185107686626035/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:39,891 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387019.49-185107686626035/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:39,903 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0732efe8b7fab18f2-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-0732efe8b7fab18f2"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-0732efe8b7fab18f2"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0732efe8b7fab18f2-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 85.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:39.803Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0732efe8b7fab18f2-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 85.0, 
    "unit": "Percent"
}
2019-09-13 15:03:39,921 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] *****************************************************************************************************************
2019-09-13 15:03:39,921 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 15:03:39,941 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:39,941 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:39,949 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387019.94-220900642650013 `" && echo ansible-tmp-1568387019.94-220900642650013="` echo /root/.ansible/tmp/ansible-tmp-1568387019.94-220900642650013 `" ) && sleep 0'
2019-09-13 15:03:39,960 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:39,960 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmp1jVgv8 TO /root/.ansible/tmp/ansible-tmp-1568387019.94-220900642650013/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:39,961 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387019.94-220900642650013/ /root/.ansible/tmp/ansible-tmp-1568387019.94-220900642650013/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:39,969 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387019.94-220900642650013/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:40,349 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387019.94-220900642650013/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:40,363 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0732efe8b7fab18f2-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-0732efe8b7fab18f2"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-0732efe8b7fab18f2"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0732efe8b7fab18f2-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:40.252Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0732efe8b7fab18f2-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 15:03:40,380 p=6036 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] **************************************************************************************
2019-09-13 15:03:40,380 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:36
2019-09-13 15:03:40,400 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:40,401 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:40,408 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387020.4-137763391004891 `" && echo ansible-tmp-1568387020.4-137763391004891="` echo /root/.ansible/tmp/ansible-tmp-1568387020.4-137763391004891 `" ) && sleep 0'
2019-09-13 15:03:40,420 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:40,421 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmp_mojqG TO /root/.ansible/tmp/ansible-tmp-1568387020.4-137763391004891/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:40,422 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387020.4-137763391004891/ /root/.ansible/tmp/ansible-tmp-1568387020.4-137763391004891/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:40,430 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387020.4-137763391004891/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:40,853 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387020.4-137763391004891/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:40,866 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0732efe8b7fab18f2-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-0732efe8b7fab18f2"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-0732efe8b7fab18f2"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-0732efe8b7fab18f2-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:40.722Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-0732efe8b7fab18f2-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 15:03:40,883 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms one] *****************************************************************************************************************
2019-09-13 15:03:40,883 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:2
2019-09-13 15:03:40,903 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:40,903 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:40,910 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387020.9-238043917166465 `" && echo ansible-tmp-1568387020.9-238043917166465="` echo /root/.ansible/tmp/ansible-tmp-1568387020.9-238043917166465 `" ) && sleep 0'
2019-09-13 15:03:40,922 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:40,922 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmp2HTGcs TO /root/.ansible/tmp/ansible-tmp-1568387020.9-238043917166465/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:40,923 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387020.9-238043917166465/ /root/.ansible/tmp/ansible-tmp-1568387020.9-238043917166465/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:40,931 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387020.9-238043917166465/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:41,297 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387020.9-238043917166465/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:41,309 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0bdab7e87d8641c79-CPU-Utilization-80", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-0bdab7e87d8641c79"
        ]
    }, 
    "evaluation_periods": 3, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 80% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-0bdab7e87d8641c79"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 3, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0bdab7e87d8641c79-CPU-Utilization-80", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 85.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:41.205Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0bdab7e87d8641c79-CPU-Utilization-80", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 85.0, 
    "unit": "Percent"
}
2019-09-13 15:03:41,326 p=6036 u=root |  TASK [ec2.metric_alarm : Create utilization alarms two] *****************************************************************************************************************
2019-09-13 15:03:41,327 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:19
2019-09-13 15:03:41,347 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:41,347 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:41,355 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387021.35-118947303415353 `" && echo ansible-tmp-1568387021.35-118947303415353="` echo /root/.ansible/tmp/ansible-tmp-1568387021.35-118947303415353 `" ) && sleep 0'
2019-09-13 15:03:41,366 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:41,367 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpVI72i1 TO /root/.ansible/tmp/ansible-tmp-1568387021.35-118947303415353/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:41,368 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387021.35-118947303415353/ /root/.ansible/tmp/ansible-tmp-1568387021.35-118947303415353/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:41,376 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387021.35-118947303415353/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:41,824 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387021.35-118947303415353/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:41,836 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0bdab7e87d8641c79-CPU-Utilization-98", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
    "dimensions": {
        "InstanceId": [
            "i-0bdab7e87d8641c79"
        ]
    }, 
    "evaluation_periods": 6, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will alarm when cpu usage average is more than 98% for 15 minutes", 
            "dimensions": {
                "InstanceId": "i-0bdab7e87d8641c79"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 6, 
            "insufficient_data_actions": null, 
            "metric": "CPUUtilization", 
            "name": "awsec2-i-0bdab7e87d8641c79-CPU-Utilization-98", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 300, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "Average", 
            "threshold": 98.0, 
            "unit": "Percent", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:41.733Z", 
    "metric": "CPUUtilization", 
    "name": "awsec2-i-0bdab7e87d8641c79-CPU-Utilization-98", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 300, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "Average", 
    "threshold": 98.0, 
    "unit": "Percent"
}
2019-09-13 15:03:41,853 p=6036 u=root |  TASK [ec2.metric_alarm : Create an alarm to status check failed (any) of instance] **************************************************************************************
2019-09-13 15:03:41,853 p=6036 u=root |  task path: /home/centos/cloudwatch/roles/ec2.metric_alarm/tasks/alarms.yml:36
2019-09-13 15:03:41,873 p=6036 u=root |  <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
2019-09-13 15:03:41,873 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
2019-09-13 15:03:41,881 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1568387021.87-247550190610301 `" && echo ansible-tmp-1568387021.87-247550190610301="` echo /root/.ansible/tmp/ansible-tmp-1568387021.87-247550190610301 `" ) && sleep 0'
2019-09-13 15:03:41,893 p=6036 u=root |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/amazon/ec2_metric_alarm.py
2019-09-13 15:03:41,893 p=6036 u=root |  <127.0.0.1> PUT /root/.ansible/tmp/ansible-local-6036g5uHRj/tmpgP8Auk TO /root/.ansible/tmp/ansible-tmp-1568387021.87-247550190610301/AnsiballZ_ec2_metric_alarm.py
2019-09-13 15:03:41,894 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1568387021.87-247550190610301/ /root/.ansible/tmp/ansible-tmp-1568387021.87-247550190610301/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:41,902 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1568387021.87-247550190610301/AnsiballZ_ec2_metric_alarm.py && sleep 0'
2019-09-13 15:03:42,300 p=6036 u=root |  <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1568387021.87-247550190610301/ > /dev/null 2>&1 && sleep 0'
2019-09-13 15:03:42,312 p=6036 u=root |  changed: [localhost] => {
    "actions_enabled": "true", 
    "alarm_actions": [
        "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0", 
        "arn:aws:sns:ap-southeast-1:607624181858:ec2-health"
    ], 
    "alarm_arn": "arn:aws:cloudwatch:ap-southeast-1:607624181858:alarm:awsec2-i-0bdab7e87d8641c79-Status-Check-Failed-Any", 
    "changed": true, 
    "comparison": ">=", 
    "description": "This will reboot an instance when it fails", 
    "dimensions": {
        "InstanceId": [
            "i-0bdab7e87d8641c79"
        ]
    }, 
    "evaluation_periods": 2, 
    "insufficient_data_actions": [], 
    "invocation": {
        "module_args": {
            "alarm_actions": [
                "arn:aws:sns:ap-southeast-1:607624181858:ec2-health", 
                "arn:aws:swf:ap-southeast-1:607624181858:action/actions/AWS_EC2.InstanceId.Reboot/1.0"
            ], 
            "aws_access_key": null, 
            "aws_secret_key": null, 
            "comparison": ">=", 
            "debug_botocore_endpoint_logs": false, 
            "description": "This will reboot an instance when it fails", 
            "dimensions": {
                "InstanceId": "i-0bdab7e87d8641c79"
            }, 
            "ec2_url": null, 
            "evaluation_periods": 2, 
            "insufficient_data_actions": null, 
            "metric": "StatusCheckFailed", 
            "name": "awsec2-i-0bdab7e87d8641c79-Status-Check-Failed-Any", 
            "namespace": "AWS/EC2", 
            "ok_actions": null, 
            "period": 60, 
            "profile": null, 
            "region": "ap-southeast-1", 
            "security_token": null, 
            "state": "present", 
            "statistic": "SampleCount", 
            "threshold": 1.0, 
            "unit": "Seconds", 
            "validate_certs": true
        }
    }, 
    "last_updated": "2019-09-13T15:03:42.184Z", 
    "metric": "StatusCheckFailed", 
    "name": "awsec2-i-0bdab7e87d8641c79-Status-Check-Failed-Any", 
    "namespace": "AWS/EC2", 
    "ok_actions": [], 
    "period": 60, 
    "state_reason": "Unchecked: Initial alarm creation", 
    "state_value": "INSUFFICIENT_DATA", 
    "statistic": "SampleCount", 
    "threshold": 1.0, 
    "unit": "Seconds"
}
2019-09-13 15:03:42,313 p=6036 u=root |  META: ran handlers
2019-09-13 15:03:42,313 p=6036 u=root |  META: ran handlers
2019-09-13 15:03:42,314 p=6036 u=root |  PLAY RECAP **************************************************************************************************************************************************************
2019-09-13 15:03:42,315 p=6036 u=root |  localhost                  : ok=81   changed=58   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
